(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[202],{846:function(e,t,n){"use strict";n.d(t,{t:function(){return d},V:function(){return f}});var r=n(9499),i=n(1396),o=n(5893);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){var t=e.message;return(0,o.jsxs)(i.xv,{"data-testid":"toast-success-msg",children:[(0,o.jsx)("strong",{children:"Success:"})," ",t]})},l=function(e){var t=e.message;return(0,o.jsxs)(i.xv,{"data-testid":"toast-error-msg",children:[(0,o.jsx)("strong",{children:"Error:"})," ",t]})},u={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var t=(0,o.jsx)(c,{message:e});return s(s({},u),{description:t})},f=function(e){var t=(0,o.jsx)(l,{message:e});return s(s({},u),{description:t,status:"error"})}},7046:function(e,t,n){"use strict";var r=n(9499),i=n(4730),o=n(9252),a=n(5893),s=["name","onClose"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.name,n=e.onClose,r=(0,i.Z)(e,s),c=l({backgroundColor:"primary.400",color:"white","data-testid":"taxonomy-entity-".concat(t),width:"fit-content",size:"sm"},r);return n?(0,a.jsxs)(o.Vp,l(l({display:"flex",justifyContent:"space-between"},c),{},{children:[(0,a.jsx)(o.Sn,{children:t}),(0,a.jsx)(o.SD,{onClick:n,color:"white"})]})):(0,a.jsx)(o.Vp,l(l({},c),{},{children:t}))}},5009:function(e,t,n){"use strict";n.d(t,{C:function(){return r}});var r=function e(t,n){var r;if(null==n&&t.every((function(e){return void 0===e.parent_key})))r=t;else{var i=null!==n&&void 0!==n?n:null;r=t.filter((function(e){return e.parent_key===i}))}return r.map((function(n){var r,i=n.fides_key;return{value:n.fides_key,label:null!==(r=n.name)&&void 0!==r?r:n.fides_key,description:n.description,children:e(t,i)}}))}},4834:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r=n(1396),i=n(2137),o=n(9499),a=n(4730),s=n(1294),c=n(5893),l=["data"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=e.data,n=(0,a.Z)(e,l);return(0,c.jsxs)(s.mQ,d(d({colorScheme:"complimentary"},n),{},{children:[(0,c.jsx)(s.td,{children:t.map((function(e){return(0,c.jsx)(s.OK,{"data-testid":"tab-".concat(e.label),_selected:{fontWeight:"600",color:"complimentary.500",borderColor:"complimentary.500"},fontWeight:"500",color:"gray.500",children:e.label},e.label)}))}),(0,c.jsx)(s.nP,{children:t.map((function(e){return(0,c.jsx)(s.x4,{px:0,"data-testid":"tab-panel-".concat(e.label),children:e.content},e.label)}))})]}))},p=n(6835),b=n(6342),j=n(9482),y=n(4116),x=n(9402),m=n(8351),v=n(7294),h=n(3894),O=n(8633);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){var t=e.node,n=e.onEdit;return(0,c.jsxs)(h.hE,{size:"xs",isAttached:!0,variant:"outline","data-testid":"action-btns",children:[(0,c.jsx)(h.zx,{"data-testid":"edit-btn",onClick:function(){return n(t)},children:"Edit"}),(0,c.jsx)(h.zx,{"data-testid":"delete-btn",children:"Delete"})]})},_=function(e){var t=e.nodes,n=e.onEdit,i=e.focusedKey,o=(0,v.useState)(void 0),a=o[0],s=o[1],l=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=(null===a||void 0===a?void 0:a.value)===t.value,u=i===t.value,d={borderBottom:"1px solid",borderColor:"gray.200",display:"flex",justifyContent:"space-between",alignItems:"center",pl:3*o,_hover:{bg:"gray.50"},onMouseEnter:function(){s(t)},onMouseLeave:function(){s(void 0)}};return 0===t.children.length?(0,c.jsxs)(r.xu,P(P({py:2},d),{},{"data-testid":"item-".concat(t.label),children:[(0,c.jsx)(r.xv,{pl:5,color:u?"complimentary.500":void 0,children:t.label}),l?(0,c.jsx)(w,{node:a,onEdit:n}):null]})):(0,c.jsxs)(O.Qd,{p:0,border:"none","data-testid":"accordion-item-".concat(t.label),children:[(0,c.jsxs)(r.xu,P(P({},d),{},{children:[(0,c.jsxs)(O.KF,{_expanded:{color:"complimentary.500"},_hover:{bg:"gray.50"},pl:0,color:u?"complimentary.500":void 0,children:[(0,c.jsx)(O.XE,{}),t.label]}),l?(0,c.jsx)(w,{node:a,onEdit:n}):null]})),(0,c.jsx)(O.Hk,{p:0,children:t.children.map((function(t){return(0,c.jsx)(v.Fragment,{children:e(t,o+1)},t.value)}))})]})};return(0,c.jsx)(r.xu,{boxSizing:"border-box",children:(0,c.jsx)(O.UQ,{allowMultiple:!0,children:t.map((function(e){return(0,c.jsx)(r.xu,{children:l(e)},e.value)}))})})},k=n(29),D=n(7794),E=n.n(D),C=n(437),S=n(4598),Z=n(2175),z=n(2588),L=n(6016),T=n(846),M=n(7046);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(e){var t,n,i,o,a=e.entity,s=e.labels,l=e.onCancel,u=e.onEdit,d=(0,C.pm)(),f={fides_key:a.fides_key,name:null!==(t=a.name)&&void 0!==t?t:"",description:null!==(n=a.description)&&void 0!==n?n:"",parent_key:null!==(i=a.parent_key)&&void 0!==i?i:"",is_default:null!==(o=a.is_default)&&void 0!==o&&o},p=(0,v.useState)(null),b=p[0],j=p[1],y=function(e){var t=(0,z.nU)(e);j(t.message)},x=function(){var e=(0,k.Z)(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(null),n=q(q({},t),{},{parent_key:a.parent_key}),e.next=4,u(n);case 4:r=e.sent,(0,z.D4)(r)?y(r.error):d((0,T.t)("Taxonomy successfully updated"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,c.jsxs)(r.Kq,{pl:6,spacing:6,"data-testid":"edit-taxonomy-form",children:[(0,c.jsxs)(r.X6,{size:"md",textTransform:"capitalize",children:["Modify ",s.fides_key]}),(0,c.jsx)(Z.J9,{initialValues:f,onSubmit:x,enableReinitialize:!0,children:function(e){var t=e.dirty;return(0,c.jsxs)(Z.l0,{children:[(0,c.jsxs)(r.Kq,{mb:6,children:[(0,c.jsxs)(r.rj,{templateColumns:"1fr 3fr",children:[(0,c.jsx)(S.lX,{children:s.fides_key}),(0,c.jsx)(r.xu,{children:(0,c.jsx)(M.Z,{name:a.fides_key})})]}),(0,c.jsx)(L.j0,{name:"name",label:s.name}),(0,c.jsx)(L.Ks,{name:"description",label:s.description}),(0,c.jsx)(L.j0,{name:"parent_key",label:s.parent_key,disabled:!0})]}),b?(0,c.jsx)(r.xv,{color:"red",mb:2,"data-testid":"taxonomy-form-error",children:b}):null,(0,c.jsxs)(h.hE,{size:"sm",children:[(0,c.jsx)(h.zx,{"data-testid":"cancel-btn",variant:"outline",onClick:l,children:"Cancel"}),(0,c.jsx)(h.zx,{"data-testid":"update-btn",variant:"primary",type:"submit",disabled:!t,children:"Update entity"})]})]})}})]})},N=n(5009),U=function(e){var t=(0,e.useTaxonomy)(),n=t.isLoading,i=t.data,o=t.labels,a=t.edit,s=(0,v.useMemo)((function(){return i?(0,N.C)(i):null}),[i]),l=(0,v.useState)(null),u=l[0],d=l[1];if(n)return(0,c.jsx)(r.M5,{children:(0,c.jsx)(m.$,{})});if(!s)return(0,c.jsx)(r.xv,{children:"Could not find data."});return(0,c.jsxs)(r.MI,{columns:2,spacing:2,children:[(0,c.jsx)(_,{nodes:s,onEdit:function(e){var t,n=null!==(t=null===i||void 0===i?void 0:i.find((function(t){return t.fides_key===e.value})))&&void 0!==t?t:null;d(n)},focusedKey:null===u||void 0===u?void 0:u.fides_key}),u?(0,c.jsx)(X,{labels:o,entity:u,onCancel:function(){return d(null)},onEdit:a}):null]})},Q=[{label:"Data Categories",content:(0,c.jsx)(U,{useTaxonomy:function(){var e=(0,x.MO)(),t=e.data,n=e.isLoading,r=(0,x.jU)();return{data:t,isLoading:n,labels:{fides_key:"Data category",name:"Category name",description:"Category description",parent_key:"Parent category"},edit:(0,p.Z)(r,1)[0]}}})},{label:"Data Uses",content:(0,c.jsx)(U,{useTaxonomy:function(){var e=(0,y.fd)(),t=e.data,n=e.isLoading,r=(0,y.LG)();return{data:t,isLoading:n,labels:{fides_key:"Data use",name:"Data use name",description:"Data use description",parent_key:"Parent data use"},edit:(0,p.Z)(r,1)[0]}}})},{label:"Data Subjects",content:(0,c.jsx)(U,{useTaxonomy:function(){var e=(0,j.te)(),t=e.data,n=e.isLoading,r=(0,j.h8)();return{data:t,isLoading:n,labels:{fides_key:"Data subject",name:"Data subject name",description:"Data subject description",parent_key:"Parent data subject"},edit:(0,p.Z)(r,1)[0]}}})},{label:"Identifiability",content:(0,c.jsx)(U,{useTaxonomy:function(){var e=(0,b.QG)(),t=e.data,n=e.isLoading,r=(0,b.bk)();return{data:t,isLoading:n,labels:{fides_key:"Data qualifier",name:"Data qualifier name",description:"Data qualifier description",parent_key:"Parent data qualifier"},edit:(0,p.Z)(r,1)[0]}}})}],V=function(){return(0,c.jsx)(r.xu,{"data-testid":"taxonomy-tabs",children:(0,c.jsx)(f,{isLazy:!0,data:Q})})},I=function(){return(0,c.jsxs)(i.Z,{title:"Datasets",children:[(0,c.jsx)(r.X6,{mb:2,fontSize:"2xl",fontWeight:"semibold",children:"Taxonomy Management"}),(0,c.jsx)(r.xv,{size:"sm",mb:4,children:"Placeholder instruction"}),(0,c.jsx)(V,{})]})}},822:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/taxonomy",function(){return n(4834)}])}},function(e){e.O(0,[731,478,801,809,942,962,856,137,985,774,888,179],(function(){return t=822,e(e.s=t);var t}));var t=e.O();_N_E=t}]);