"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[76478],{57066:function(n,t,e){e.d(t,{Lo:function(){return c},IO:function(){return f},qv:function(){return s},sG:function(){return d},TD:function(){return p},Dl:function(){return v}});var r=e(97330),i=e(85415),o=e(38346);function a(n,t){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,t){if(!n)return;if("string"==typeof n)return u(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return u(n,t)}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return a=n.done,n},e:function(n){c=!0,o=n},f:function(){try{a||null==e.return||e.return()}finally{if(c)throw o}}}}function u(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var c=function(n,t){return n.callWS(Object.assign({type:"config/area_registry/create"},t))},f=function(n,t,e){return n.callWS(Object.assign({type:"config/area_registry/update",area_id:t},e))},s=function(n,t){return n.callWS({type:"config/area_registry/delete",area_id:t})},l=function(n){return n.sendMessagePromise({type:"config/area_registry/list"}).then((function(n){return n.sort((function(n,t){return(0,i.$)(n.name,t.name)}))}))},y=function(n,t){return n.subscribeEvents((0,o.D)((function(){return l(n).then((function(n){return t.setState(n,!0)}))}),500,!0),"area_registry_updated")},d=function(n,t){return(0,r.B)("_areaRegistry",l,y,n,t)},p=function(n){var t,e={},r=a(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.area_id&&(i.area_id in e||(e[i.area_id]=[]),e[i.area_id].push(i))}}catch(o){r.e(o)}finally{r.f()}return e},v=function(n){var t,e={},r=a(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.area_id&&(i.area_id in e||(e[i.area_id]=[]),e[i.area_id].push(i))}}catch(o){r.e(o)}finally{r.f()}return e}},57292:function(n,t,e){e.d(t,{jL:function(){return f},t1:function(){return s},dl:function(){return l},q4:function(){return p},Wg:function(){return v},pI:function(){return g}});var r=e(97330),i=e(91741),o=e(85415),a=e(38346);function u(n,t){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,t){if(!n)return;if("string"==typeof n)return c(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return c(n,t)}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return a=n.done,n},e:function(n){u=!0,o=n},f:function(){try{a||null==e.return||e.return()}finally{if(u)throw o}}}}function c(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var f=function(n,t,e){return n.name_by_user||n.name||e&&function(n,t){var e,r=u(t||[]);try{for(r.s();!(e=r.n()).done;){var o=e.value,a="string"==typeof o?o:o.entity_id,c=n.states[a];if(c)return(0,i.C)(c)}}catch(f){r.e(f)}finally{r.f()}}(t,e)||t.localize("ui.panel.config.devices.unnamed_device","type",t.localize("ui.panel.config.devices.type.".concat(n.entry_type||"device")))},s=function(n,t,e){return n.callWS(Object.assign({type:"config/device_registry/update",device_id:t},e))},l=function(n,t,e){return n.callWS({type:"config/device_registry/remove_config_entry",device_id:t,config_entry_id:e})},y=function(n){return n.sendMessagePromise({type:"config/device_registry/list"})},d=function(n,t){return n.subscribeEvents((0,a.D)((function(){return y(n).then((function(n){return t.setState(n,!0)}))}),500,!0),"device_registry_updated")},p=function(n,t){return(0,r.B)("_dr",y,d,n,t)},v=function(n){return n.sort((function(n,t){return(0,o.f)(n.name||"",t.name||"")}))},g=function(n){var t,e={},r=u(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.device_id&&(i.device_id in e||(e[i.device_id]=[]),e[i.device_id].push(i))}}catch(o){r.e(o)}finally{r.f()}return e}},76478:function(n,t,e){e.r(t),e.d(t,{OriginalStatesStrategy:function(){return m}});var r=e(28101),i=e(7323),o=e(11950),a=e(57066),u=e(57292),c=e(55424),f=e(74186),s=e(38926);function l(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==e)return;var r,i,o=[],a=!0,u=!1;try{for(e=e.call(n);!(a=(r=e.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==e.return||e.return()}finally{if(u)throw i}}return o}(n,t)||function(n,t){if(!n)return;if("string"==typeof n)return y(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return y(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function d(n,t,e,r,i,o,a){try{var u=n[o](a),c=u.value}catch(f){return void e(f)}u.done?t(c):Promise.resolve(c).then(r,i)}function p(n){return function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function a(n){d(o,r,i,a,u,"next",n)}function u(n){d(o,r,i,a,u,"throw",n)}a(void 0)}))}}function v(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var g=!1,m=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}var t,e,y,d,m;return t=n,e=null,y=[{key:"generateView",value:(m=p(regeneratorRuntime.mark((function n(t){var e,y,d,p,v,m,h,b,_;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((e=t.hass).config.state!==r.UE){n.next=3;break}return n.abrupt("return",{cards:[{type:"starting"}]});case 3:if(!e.config.safe_mode){n.next=5;break}return n.abrupt("return",{cards:[{type:"safe-mode"}]});case 5:return g||(g=!0,(0,a.sG)(e.connection,(function(){})),(0,u.q4)(e.connection,(function(){})),(0,f.LM)(e.connection,(function(){}))),n.next=8,Promise.all([(0,o.l)(e.connection,a.sG),(0,o.l)(e.connection,u.q4),(0,o.l)(e.connection,f.LM),e.loadBackendTranslation("title"),(0,i.p)(e,"energy")?(0,c.ZC)(e).catch((function(){})):void 0]);case 8:return y=n.sent,d=l(y,5),p=d[0],v=d[1],m=d[2],h=d[3],b=d[4],_=(0,s.AP)(p,v,m,e.states,h,b),e.config.components.includes("geo_location")&&_&&_.cards&&_.cards.push({type:"map",geo_location_sources:["all"]}),0===_.cards.length&&_.cards.push({type:"empty-state"}),n.abrupt("return",_);case 19:case"end":return n.stop()}}),n)}))),function(n){return m.apply(this,arguments)})},{key:"generateDashboard",value:(d=p(regeneratorRuntime.mark((function n(t){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{title:t.hass.config.location_name,views:[{strategy:{type:"original-states"}}]});case 1:case"end":return n.stop()}}),n)}))),function(n){return d.apply(this,arguments)})}],e&&v(t.prototype,e),y&&v(t,y),n}()}}]);