"use strict";(self.webpackChunkgetsshpubkey=self.webpackChunkgetsshpubkey||[]).push([[763],{763:(e,t,o)=>{o.r(t),o.d(t,{default:()=>u});var s,n=o(250),a=o(921),c=o(991),r=o(19),i=o(748);!function(e){e.createNew="getsshpubkey:getssh"}(s||(s={}));const l={id:"getsshpubkey:plugin",autoStart:!0,optional:[a.ISettingRegistry,n.ILauncher],activate:(e,t,o)=>{console.log("JupyterLab extension getsshpubkey is activated!");const{commands:n}=e,a=s.createNew;n.addCommand(a,{label:e=>(e.isPalette,"SSH Key"),caption:"SSH Key",icon:e=>{},execute:async e=>{(async function(e="",t={}){const o=i.ServerConnection.makeSettings(),s=r.URLExt.join(o.baseUrl,"getsshpubkey",e);let n;try{n=await i.ServerConnection.makeRequest(s,t,o)}catch(e){throw new i.ServerConnection.NetworkError(e)}let a=await n.text();if(a.length>0)try{a=JSON.parse(a)}catch(e){console.log("Not a JSON response body.",n)}if(!n.ok)throw new i.ServerConnection.ResponseError(n,a.message||a);return a})("get_ssh_pub_key",{method:"GET"}).then((e=>(0,c.showDialog)({title:"Public SSH key",body:e.data,focusNodeSelector:"input",buttons:[c.Dialog.cancelButton({label:"Cancel"}),c.Dialog.okButton({label:"Copy"})]}).then((t=>(console.log(t),t.button.accept?(c.Clipboard.copyToSystem(e.data),(0,c.showDialog)({body:"Copied!"})):null))))).catch((e=>{console.error(`The getsshpubkey server extension appears to be missing.\n${e}`)}))}}),o&&o.add({command:a,category:"Other",rank:2}),t&&t.load(l.id).then((e=>{console.log("getsshpubkey settings loaded:",e.composite)})).catch((e=>{console.error("Failed to load settings for getsshpubkey.",e)}))}},u=l}}]);