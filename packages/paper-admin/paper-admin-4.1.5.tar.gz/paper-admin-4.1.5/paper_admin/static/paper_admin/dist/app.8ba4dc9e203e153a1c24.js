(self.webpackChunkpaper_admin=self.webpackChunkpaper_admin||[]).push([[2143],{5869:()=>{const e=parseFloat(getComputedStyle(document.documentElement).fontSize),t=function(){const t=document.querySelector(".paper-header"),s=document.querySelectorAll(".paper-toolbar.sticky-top");t&&s.length&&s.forEach((s=>{s.style.top=t.offsetHeight+e+"px"}))};window.addEventListener("resize",t),t()},8190:()=>{document.addEventListener("click",(function(e){e.target.closest(".back-button")&&(e.preventDefault(),window.history.back())}))},1976:(e,t,s)=>{"use strict";s.d(t,{Gn:()=>n.Z,fK:()=>o});var n=s(8527);s(7908);const o={az:"d.m.Y",bn:"d/m/Y",ca:"d/m/Y",cs:"d.m.Y",cy:"d/m/Y",da:"d.m.Y",de:"d.m.Y",el:"d/m/Y",en_au:"d/m/Y",en_gb:"d/m/Y",es:"d/m/Y",fi:"d.m.Y",fr:"d/m/Y",hu:"Y.m.d.",id:"d-m-y",it:"d/m/Y",mk:"d.m.Y",nl:"d-m-Y",pl:"d.m.Y",pt_br:"d/m/Y",ro:"d.m.Y",ru:"d.m.Y",sk:"d.m.Y",sl:"d.m.Y",sr:"d.m.Y",th:"d/m/Y",tr:"d/m/Y",uk:"d.m.Y",zh_hans:"Y/m/d",zh_hant:"Y/m/d"}},4027:(e,t,s)=>{"use strict";s.d(t,{C:()=>o});var n=s(5932);s(454),s(2816);class o extends n.Z{constructor(e){super(),this.opts=Object.assign({},e)}_init(e){const t=Object.assign({},this.opts);if(t.allowClear&&void 0===t.placeholder){const s=e.querySelector('option[value=""]');t.placeholder=s?s.textContent:""}$(e).select2(t),$(e).on("select2:select select2:clear",(function(){const t=new CustomEvent("change",{bubbles:!0,cancelable:!0});e.dispatchEvent(t)})),$(e).on("select2:open",(function(){const e=$(this).data("select2").$dropdown.get(0).querySelector(".select2-search__field");e&&e.focus()}))}_destroy(e){$(e).select2("destroy")}}},2816:()=>{$.fn.select2.amd.require(["select2/core"],(function(e){const t=e.prototype.render;e.prototype.render=function(){const e=this,s=t.apply(this,arguments),n=this.options.get("containerCssClass");return n&&n.split(/\s+/).map((function(t){t&&e.$container[0].classList.add(t)})),s}}),null,!0),$.fn.select2.amd.require(["select2/results"],(function(e){const t=e.prototype.showLoading,s=e.prototype.hideLoading;e.prototype.hideMessages=function(){},e.prototype.hideLoading=function(){s.apply(this,arguments);const e=this.$results.find(".select2-results__option");e.each((function(e,t){"1"===t.dataset._stateSelectable&&t.classList.add("select2-results__option--selectable");"1"===t.dataset._stateDisabled||(t.classList.remove("select2-results__option--disabled"),t.removeAttribute("aria-disabled"))}))},e.prototype.showLoading=function(){this.hideLoading();const e=this.$results.find(".select2-results__option");e.length?e.each((function(e,t){const s=t.classList.contains("select2-results__option--selectable"),n=t.classList.contains("select2-results__option--disabled");t.dataset._stateSelectable=s?"1":"0",t.dataset._stateDisabled=n?"1":"0",t.classList.remove("select2-results__option--selectable"),t.classList.add("select2-results__option--disabled"),t.setAttribute("aria-disabled",!0)})):t.apply(this,arguments)}}),null,!0),$.fn.select2.amd.require(["select2/core"],(function(e){const t=e.prototype._registerEvents;e.prototype._registerEvents=function(){const e=this;t.apply(this,arguments),this.listeners.query.pop(),this.on("query",(function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,(function(s){e.trigger("results:all",{data:s,query:t,searching:!0})}))}))}}),null,!0),$.fn.select2.amd.require(["select2/results"],(function(e){const t=e.prototype.bind;e.prototype.bind=function(e,s){const n=this;t.apply(this,arguments),e.listeners["results:all"].pop(),e.on("results:all",(function(t){if(n.clear(),n.append(t.data),e.isOpen())if(n.setClasses(),t.searching){this.$results.find(".select2-results__option--selectable").first().trigger("mouseenter")}else n.highlightFirstItem()}))}}),null,!0),$.fn.select2.amd.require(["select2/selection/search"],(function(e){const t=e.prototype.searchRemoveChoice;e.prototype.searchRemoveChoice=function(){t.apply(this,arguments),this.options.get("tags")||this.$search.val("")}}),null,!0),$.fn.select2.amd.require(["select2/selection/allowClear"],(function(e){const t=e.prototype._handleClear;e.prototype._handleClear=function(e,s){"mousedown"===s.type&&0!==s.button||t.apply(this,arguments)}}),null,!0),$.fn.select2.amd.require(["select2/selection/allowClear"],(function(e){const t=e.prototype._handleClear;e.prototype._handleClear=function(e,s){const n=this.trigger;this.trigger=function(e,t){"toggle"!==e&&n.call(this,e,t)},t.apply(this,arguments),this.trigger=n}}),null,!0),$.fn.select2.amd.require(["select2/data/ajax"],(function(e){const t=e.prototype.query,s={size:10};function n(e){let t=null,s=null;Object.entries(e).forEach((function([e,n]){(null===s||n.timestamp<s)&&(t=e,s=n.timestamp)})),null!==t&&delete e[t]}e.prototype.query=function(e,o){const i=this;let r=this.options.get("ajaxCache");if("object"==typeof r&&null!==r)r=$.extend({},s,r);else{if(!r)return void t.apply(this,arguments);r=s}void 0===this.__cache&&(this.__cache={});const a=(e.term||"_ALL_")+":"+(e.page||-1).toString();if(void 0!==this.__cache[a]){const e=this.__cache[a];e.timestamp=Date.now(),o(e.data)}else t.call(this,e,(function(e){Object.keys(i.__cache).length>=r.size&&n(i.__cache),i.__cache[a]={data:e,timestamp:Date.now()},o(e)}))}}),null,!0)},8542:(e,t,s)=>{"use strict";s.r(t),s.d(t,{paperAdmin:()=>_e});var n=s(3734),o=s(1474),i=s(2209);function r(e){let t=[];for(let s=0;s<e.dataTransfer.files.length;s++)t[s]=e.dataTransfer.files[s];return t}function a(e,t){const s=e.createReader(),n=e=>__guardMethod__(console,"log",(t=>t.log(e)));return new Promise((e=>{const o=[],i=()=>{s.readEntries((s=>{s.length>0?(o.push(Promise.all(s.map((e=>e.isFile?new Promise((s=>{e.file((e=>{"."!==e.name.substring(0,1)&&(e.fullPath=`${t}/${e.name}`,s([e]))}))})):e.isDirectory?a(e,`${t}/${e.name}`):void 0))).then((e=>e.reduce(((e,t)=>e.concat(t)),[])))),i()):e(Promise.all(o).then((e=>e.reduce(((e,t)=>e.concat(t)),[]))))}),n)};i()}))}const l={containsFiles:function(e){if(e.dataTransfer&&e.dataTransfer.types)for(let t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return!0;return!1},filterFiles:r,parseDroppedFiles:function(e){return new Promise((t=>{let s=r(e);if(s.length){let{items:n}=e.dataTransfer;n&&n.length&&null!=n[0].webkitGetAsEntry?function(e){return new Promise((t=>{const s=[],n=[];for(let t of e){let e;null!=t.webkitGetAsEntry&&(e=t.webkitGetAsEntry())?e.isFile?s.push(t.getAsFile()):e.isDirectory&&n.push(a(e,e.name)):null!=t.getAsFile&&(null!=t.kind&&"file"!==t.kind||s.push(t.getAsFile()))}Promise.all(n).then((e=>{for(let t of e)s.push(...t);t(s)}))}))}(n).then((e=>{t(e)})):t(s)}}))}};var d=s(4827),c=s(5932);class u extends c.Z{constructor(e){super(),this.opts=Object.assign({},e)}_init(e){$(e).dropdown(this.opts)}}class p extends c.Z{constructor(e){super(),this.opts=Object.assign({},e)}_init(e){$(e).popover(this.opts)}_destroy(e){$(e).popover("hide")}}class h extends c.Z{constructor(e){super(),this.opts=Object.assign({},e)}_init(e){$(e).tooltip(this.opts).filter('[data-trigger="hover"]').on("click",(function(){$(this).tooltip("hide")}))}_destroy(e){$(e).tooltip("hide")}}class m extends c.Z{constructor(e){super(),this.opts=Object.assign({},e)}_init(e){$(e).collapse(this.opts)}}const f=new u;f.observe(".dropdown-toggle"),f.initAll(".dropdown-toggle");const g=new p({delay:{show:600,hide:100}});g.observe('[data-toggle="popover"]'),g.initAll('[data-toggle="popover"]');const _=new m({toggle:!1});_.observe(".collapse"),_.initAll(".collapse");const b=new h({delay:{show:600,hide:100}});b.observe('[data-toggle="tooltip"]'),b.initAll('[data-toggle="tooltip"]');const y="on-drag-file";let v=0;document.addEventListener("dragenter",(e=>{v++,l.containsFiles(e)&&(e.preventDefault(),document.documentElement.classList.add(y))}),!0),document.addEventListener("dragleave",(()=>{0==--v&&document.documentElement.classList.remove(y)}),!0),document.addEventListener("drop",(()=>{v=0,document.documentElement.classList.remove(y)}),!0);s(8190);var w=s(1976),E=s(648),L=s.n(E);const C=[{À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ű:"U",Ý:"Y",Þ:"TH",Ÿ:"Y",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"u",ű:"u",ý:"y",þ:"th",ÿ:"y"},{"©":"(c)"},{α:"a",β:"b",γ:"g",δ:"d",ε:"e",ζ:"z",η:"h",θ:"8",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"3",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"w",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"h",ώ:"w",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"H",Θ:"8",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"3",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"W",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"H",Ώ:"W",Ϊ:"I",Ϋ:"Y"},{ş:"s",Ş:"S",ı:"i",İ:"I",ç:"c",Ç:"C",ü:"u",Ü:"U",ö:"o",Ö:"O",ğ:"g",Ğ:"G"},{ă:"a",î:"i",ș:"s",ț:"t",â:"a",Ă:"A",Î:"I",Ș:"S",Ț:"T",Â:"A"},{а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"j",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"h",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"J",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"H",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya"},{Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g"},{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},{á:"a",ä:"a",č:"c",ď:"d",é:"e",í:"i",ľ:"l",ĺ:"l",ň:"n",ó:"o",ô:"o",ŕ:"r",š:"s",ť:"t",ú:"u",ý:"y",ž:"z",Á:"a",Ä:"A",Č:"C",Ď:"D",É:"E",Í:"I",Ľ:"L",Ĺ:"L",Ň:"N",Ó:"O",Ô:"O",Ŕ:"R",Š:"S",Ť:"T",Ú:"U",Ý:"Y",Ž:"Z"},{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"I",Ķ:"K",Ļ:"L",Ņ:"N",Š:"S",Ū:"U",Ž:"Z"},{أ:"a",ب:"b",ت:"t",ث:"th",ج:"g",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"d",ط:"t",ظ:"th",ع:"aa",غ:"gh",ف:"f",ق:"k",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"o",ي:"y"},{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U",Ž:"Z"},{ђ:"dj",ј:"j",љ:"lj",њ:"nj",ћ:"c",џ:"dz",đ:"dj",Ђ:"Dj",Ј:"j",Љ:"Lj",Њ:"Nj",Ћ:"C",Џ:"Dz",Đ:"Dj"},{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},{ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"j",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"f",ქ:"q",ღ:"g",ყ:"y",შ:"sh",ჩ:"ch",ც:"c",ძ:"dz",წ:"w",ჭ:"ch",ხ:"x",ჯ:"j",ჰ:"h"}],k={Initialize:function(){if(!k.map){k.map={},k.chars=[];for(let e=0;e<C.length;e++){const t=C[e];for(let e in t)t.hasOwnProperty(e)&&(k.map[e]=t[e])}for(let e in k.map)k.map.hasOwnProperty(e)&&k.chars.push(e);k.regex=new RegExp(k.chars.join("|"),"g")}}};function S(e,t,s){var n;s||(n=e,k.Initialize(),e=n.replace(k.regex,(function(e){return k.map[e]})));if(!/[^\u0000-\u007f]/.test(e)){const t=new RegExp("\\b("+["a","an","as","at","before","but","by","for","from","is","in","into","like","of","off","on","onto","per","since","than","the","this","that","to","up","via","with"].join("|")+")\\b","gi");e=e.replace(t,"")}return(e=(e=(e=(e=(e=s?L().replace(e,L()("[^-_\\p{L}\\p{N}\\s]","g"),""):e.replace(/[^-\w\s]/g,"")).replace(/^\s+|\s+$/g,"")).replace(/[-\s]+/g,"-")).substring(0,t)).replace(/-+$/g,"")).toLowerCase()}function A(e=document.body){e.querySelectorAll(".prepopulated-field").forEach((function(e){let t;const s=e.closest(".paper-formset");if(s){const e=s.dataset.formsetPrefix;t=window.django_prepopulated_fields[e]}else t=window.django_prepopulated_fields[""];if(!t)return;const n=e.dataset.prepopulateFieldName,o=t[n];if(!o)return;const i=e.querySelector("[name$="+n+"]");if(!i)return;const r=o.dependencies.map((function(e){const t=i.name.replace(new RegExp(n+"$"),e);return document.querySelector("[name="+t+"]")})).filter(Boolean);if(!r.length)return;const a=function(){if("1"===i.dataset._changed)return;const e=r.map((function(e){return e.value})).filter(Boolean);i.value=S(e.join(" "),o.maxLength,o.allowUnicode)},l=function(){i.value?i.dataset._changed="1":i.dataset._changed="0"};i.addEventListener("change",l),l(),r.forEach((function(e){e.addEventListener("keyup",a),e.addEventListener("change",a),e.addEventListener("focus",a)}))}))}function x(e,t,s){const n=e.id.replace(t,"");let o=e.href;s&&(-1===o.indexOf("?")?o+="?_popup=1":o+="&_popup=1");const i=void 0!==window.screenX?window.screenX:window.screenLeft,r=void 0!==window.screenY?window.screenY:window.screenTop,a=void 0!==window.outerWidth?window.outerWidth:document.body.clientWidth,l=void 0!==window.outerHeight?window.outerHeight:document.body.clientHeight,d=Math.max(940,.7*a),c=Math.max(600,.7*l),u=r+Math.round((l-c)/2),p=i+Math.round((a-d)/2);return window.open(o,n,"width="+d+",height="+c+",top="+u+",left="+p+",resizable=yes,scrollbars=yes").focus(),!1}function q(e){return x(e,/^lookup_/,!0)}A(),i.Z.inlines.on("added",(function(e,t){A(e)})),document.addEventListener("click",(function(e){const t=e.target.closest(".related-lookup");if(t){e.preventDefault();const s=$.Event("django:lookup-related");$(t).trigger(s),s.isDefaultPrevented()||q(t)}const s=e.target.closest("a[data-popup-opener]");s&&(e.preventDefault(),opener.dismissRelatedLookupPopup(window,s.dataset.popupOpener))})),window.showRelatedObjectLookupPopup=q,window.dismissRelatedLookupPopup=function(e,t){const s=e.name,n=document.getElementById(s);n.classList.contains("vManyToManyRawIdAdminField")&&n.value?n.value+=","+t:document.getElementById(s).value=t,e.close()};s(4027);document.addEventListener("change",(function(e){const t=e.target.closest(".clearable-file-field");if(t&&"file"===e.target.type){const s=e.target.value.split("\\").pop(),n=t.querySelector(".clearable-file-field__button span");n&&(n.textContent=s||n.dataset.initialText)}}));var j=s(6410);class T extends c.Z{constructor(e){super(),this.opts=Object.assign({altInput:!0,locale:this._getLocale(),dateFormat:this._getDateFormat()},e),document.addEventListener("click",(function(e){const t=e.target.closest(".date-field__button");if(t){const e=t.closest(".date-field"),s=e&&e.querySelector("input");s&&s._flatpickr&&s._flatpickr.setDate("today")}}))}_init(e){(0,w.Gn)(e,this.opts)}_destroy(e){e._flatpickr&&e._flatpickr.destroy()}_getLocale(){for(const e of(0,j.Z)())if(w.Gn.l10ns[e])return e;return"default"}_getDateFormat(){for(const e of(0,j.Z)())if(w.fK[e])return w.fK[e];return"Y-m-d"}}const O=new T;function P(e){const t=e.target.closest(".email-field");if(t){const e=t.querySelector("input"),s=t.querySelector(".email-field__link");if(s){const t=e.value.trim();/(.+)@(.+){2,}\.(.+){2,}/.test(t)?s.href="mailto:"+t:s.removeAttribute("href")}}}O.observe(".date-field input"),O.initAll(".date-field input"),document.addEventListener("input",P),document.addEventListener("change",P);var Y=s(3216);function D(e,t){const s=e&&e.querySelectorAll(".view-related, .change-related, .delete-related");s&&s.length&&(t?s.forEach((function(e){e.classList.remove("disabled"),e.href=e.dataset.hrefTemplate.replace("__fk__",t)})):s.forEach((function(e){e.classList.add("disabled"),e.href=""})))}function Z(e){return x(e,/^(change|add|delete)_/,!1)}function I(e,t,s){const n=e.name,o=document.getElementById(n);o&&"SELECT"===o.tagName&&(o.options[o.options.length]=new Option(s,t,!0,!0),o.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))),e.close()}s.n(Y)().init('.file-field input[type="file"]'),document.addEventListener("change",(function(e){const t=e.target.closest(".file-field");if(t&&"file"===e.target.type){const s=e.target.value.split("\\").pop(),n=t.querySelector(".file-field__field");n&&(s?(n.textContent=s,n.classList.remove("file-field__field--empty")):(n.textContent=n.dataset.initialText,n.classList.add("file-field__field--empty")))}})),document.addEventListener("click",(function(e){const t=e.target.closest(".password-field__button");if(t){const e=t.closest(".password-field");if(e){const t=e.querySelector("input"),s=["text","password"];if(t){const n=(s.indexOf(t.type)+1)%2;t.type=s[n];const o=e.querySelector("i.fa"),i=["fa-eye-slash","fa-eye"];o&&(o.classList.add(i[n]),o.classList.remove(i[(n+1)%2]))}}}})),document.addEventListener("change",(function(e){const t=e.target.closest(".related-widget-wrapper"),s=t&&t.querySelector("select");if(s){const e=$.Event("django:update-related");$(s).trigger(e),e.isDefaultPrevented()||D(t,s.value)}})),document.querySelectorAll(".related-widget-wrapper").forEach((function(e){const t=e.querySelector("select");t&&D(e,t.value)})),window.updateRelatedObjectLinks=function(e){D(e.closest(".related-widget-wrapper"),e.value)},document.addEventListener("click",(function(e){const t=e.target.closest(".related-widget-wrapper__link");if(t&&(e.preventDefault(),t.href)){const e=$.Event("django:show-related",{href:t.href});$(t).trigger(e),e.isDefaultPrevented()||Z(t)}})),window.showRelatedObjectPopup=Z,window.dismissAddRelatedObjectPopup=I,window.dismissChangeRelatedObjectPopup=function(e,t,s,n){const o=e.name,i=document.getElementById(o);i&&"SELECT"===i.tagName&&Array.from(i.options).forEach((function(e){e.value===t&&(e.textContent=s,e.value=n)}));const r=i.nextElementSibling.querySelector(".select2-selection__rendered");r&&(r.lastChild.textContent=s,r.title=s),e.close()},window.dismissDeleteRelatedObjectPopup=function(e,t){const s=e.name,n=document.getElementById(s);n&&"SELECT"===n.tagName&&(Array.from(n.options).forEach((function(e){e.value===t&&e.remove()})),n.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))),e.close()},window.showAddAnotherPopup=Z,window.dismissAddAnotherPopup=I;var z=s(8880);class F extends c.Z{_init(e){(0,z.Z)(e,{hide_empty_groups:!0})}_destroy(e){}}const M=new F;M.observe(".select-multiple-field select"),M.initAll(".select-multiple-field select");var B=s(3682);class H extends c.Z{_init(e){(0,B.Z)(e)}_destroy(e){}}$(document).on("shown.bs.tab",(function(e){const t=e.target.getAttribute("href"),s=t&&document.querySelector(t);s&&B.Z.update(s.querySelectorAll(".text-field textarea"))}));const N=new H;N.observe(".text-field textarea"),N.initAll(".text-field textarea");s(5365);class R extends c.Z{constructor(){super(),document.addEventListener("click",(function(e){const t=e.target.closest(".time-field__button");if(t){const e=t.closest(".time-field"),s=e&&e.querySelector("input");if(s){const e=new Date;s.value=e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}}}))}_init(e){$(e).clockpicker({default:"now",autoclose:!0})}_destroy(e){$(e).clockpicker("remove")}}const U=new R;U.observe(".time-field input"),U.initAll(".time-field input");s(1886);document.addEventListener("dragenter",(e=>{const t=e.target.closest(".paper-dropzone");if(t){const e=t.querySelector(".paper-dropzone__overlay");e&&e.classList.add("paper-dropzone__overlay--highlighted")}}),!0),document.addEventListener("dragleave",(e=>{const t=e.target.closest(".paper-dropzone");if(t){const e=t.querySelector(".paper-dropzone__overlay");e&&e.classList.remove("paper-dropzone__overlay--highlighted")}}),!0),document.querySelectorAll(".paper-form--hook").forEach((e=>{!function(e){let t=!1,s=!1;e.addEventListener("submit",(function(){t=!0}));const n=gettext("You have unsaved changes");function o(){function t(n){e.removeEventListener("input",t),e.removeEventListener("change",t);const o=n.target,i=o.closest(".paper-widget");null===o.closest('[data-hook-unload="prevent"]')&&i&&e.contains(i)&&(s=!0)}window.removeEventListener("load",o),document.removeEventListener("keydown",o),document.removeEventListener("mousedown",o),e.addEventListener("input",t),e.addEventListener("change",t)}window.addEventListener("beforeunload",(function(e){if(!t&&s)return e.preventDefault(),e.returnValue=n,n})),window.addEventListener("load",o),document.addEventListener("keydown",o),document.addEventListener("mousedown",o)}(e)}));var W=s(9392),G=s.n(W),K=s(2696),V=s(980);const X="hidden.bs.modal",J="shown.bs.modal",Q="click.destroy..bs.modal",ee="keydown.dismiss.bs.modal",te="autofocus.bs.modal",se="modal-suspended",ne="fade",oe="show",ie=[],re={title:"",body:"",modalClass:"fade",modalDialogClass:"",backdropClass:"paper-modal-backdrop",closeButton:!0,buttons:[],templates:{modal:'<div class="paper-modal modal" tabindex="-1">\n              <div class="modal-dialog">\n                <div class="modal-content">\n                  <div class="modal-header">\n                    <h5 class="modal-title"></h5>\n                  </div>\n                  <div class="modal-body"></div>\n                  <div class="modal-footer"></div>\n                </div>\n              </div>\n            </div>',closeButton:'<button type="button" class="close" aria-label="Close">\n              <span aria-hidden="true">&times;</span>  \n            </button>',button:'<button type="button" class="btn"></button>'},options:{backdrop:"static"},onInit:null,onDestroy:null,onClose:function(){this.destroy()}};class ae extends K.Z{constructor(e){let t={...re,...e};t.templates={...re.templates,...e.templates||{}},document.body.insertAdjacentHTML("beforeend",t.templates.modal);super(document.body.lastElementChild,t.options),this.config=t,this._content=this._element.querySelector(".modal-content"),this._header=this._element.querySelector(".modal-header"),this._body=this._element.querySelector(".modal-body"),this._footer=this._element.querySelector(".modal-footer"),this.init(),"function"==typeof this.config.onInit&&this.config.onInit.call(this)}static getClosestModal(){return ie[ie.length-1]||null}get suspended(){return this._element.classList.contains(se)}set suspended(e){return this._element.classList.toggle(se,Boolean(e))}init(){if(this.config.modalClass&&this._element.classList.add.apply(this._element.classList,this.config.modalClass.trim().split(/\s+/)),this.config.modalDialogClass&&this._dialog.classList.add.apply(this._dialog.classList,this.config.modalDialogClass.trim().split(/\s+/)),this.config.title&&(this._element.querySelector(".modal-title").innerText=this.config.title),this.config.body&&(this._body.innerHTML=this.config.body),this.config.closeButton){this._header.insertAdjacentHTML("beforeend",this.config.templates.closeButton);const e=this._header.querySelector(".close");e&&e.addEventListener("click",(()=>{"function"==typeof this.config.onClose&&this.config.onClose.call(this)}))}this.config.buttons&&this.config.buttons.length&&this.config.buttons.forEach((e=>{let t;this._footer?(this._footer.insertAdjacentHTML("beforeend",this.config.templates.button),t=this._footer.lastElementChild):(this._body.insertAdjacentHTML("beforeend",this.config.templates.button),t=this._body.lastElementChild),e.label&&(t.innerText=e.label),e.buttonClass&&t.classList.add.apply(t.classList,e.buttonClass.trim().split(/\s+/)),e.autofocus&&$(this._element).one(te,(()=>{t.focus()})),e.onClick&&"function"==typeof e.onClick&&t.addEventListener("click",(s=>{e.onClick.call(t,s,this)}))}))}dispose(){super.dispose(),this._content=null,this._header=null,this._body=null,this._footer=null}destroy(){const e=function(){"function"==typeof this.config.onDestroy&&this.config.onDestroy.call(this);const e=ie.indexOf(this);e>=0&&ie.splice(e,1),this._element&&this._element.remove(),this._removeBackdrop(),this.dispose()}.bind(this);return this._isShown?this._isTransitioning?new Promise((t=>{$(this._element).one(J,(()=>{this._isShown?this.hide().then((()=>{e(),t()})):(e(),t())}))})):new Promise((t=>{this.hide().then((()=>{e(),t()}))})):this._isTransitioning?new Promise((t=>{$(this._element).one(X,(()=>{e(),t()}))})):(e(),Promise.resolve())}_showBackdrop(e){super._showBackdrop(e),this._isShown&&this._backdrop&&this.config.backdropClass&&this._backdrop.classList.add.apply(this._backdrop.classList,this.config.backdropClass.trim().split(/\s+/))}_setEscapeEvent(){this._isShown?$(this._element).on(ee,(e=>{27===e.which&&(this._config.keyboard?(e.preventDefault(),"function"==typeof this.config.onClose&&this.config.onClose.call(this)):this._triggerBackdropTransition())})):$(this._element).off(ee)}_suspend(e){if(e&&e.preventDefault(),$(this._element).trigger("hide.bs.modal"),this._isShown=!1,this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._element.classList.remove(oe),this._backdrop){const e=this._backdrop.classList.contains(ne);this._backdrop.classList.remove(ne,oe),e&&setTimeout((()=>{this._backdrop.classList.add(ne)})),$(this._backdrop).off("bsTransitionEnd")}this.suspended=!0,$(this._element).trigger(X)}_resume(){if(this.suspended){if($(this._element).trigger("show.bs.modal"),this._isShown=!0,this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._isTransitioning=!1,this._element.classList.add(oe),$(this._element).trigger(J),this._backdrop){const e=this._backdrop.classList.contains(ne);this._backdrop.classList.remove(ne),this._backdrop.classList.add(oe),e&&setTimeout((()=>{this._backdrop.classList.add(ne)}))}this.suspended=!1}}show(e){if(this._isShown)return Promise.reject("Modal is already open");if(this._isTransitioning)return Promise.reject("Animation in progress");this.suspended=!1,$(this._element).on(Q,'[data-destroy="modal"]',(()=>{this.destroy()}));const t=ie.indexOf(this);t>=0&&ie.splice(t,1);let s=!1;ie.forEach((e=>{e._isShown&&!e.suspended&&(e._suspend(),s=!0)})),ie.push(this);const n=super.show.bind(this);if(s){const t=this._element.classList.contains(ne);return this._element.classList.remove(ne),super.show(e),t&&this._element.classList.add(ne),Promise.resolve()}return new Promise((t=>{$(this._element).one(J,(()=>t())),n(e)}))}hide(e){if(e&&e.preventDefault(),!this._isShown)return Promise.reject("Modal is already closed");if(this._isTransitioning)return Promise.reject("Animation in progress");this.suspended=!1,$(this._element).off(Q);const t=ie.indexOf(this);t>=0&&ie.splice(t,1);const s=super.hide.bind(this);if(t===ie.length&&t>0){const t=ie[ie.length-1];return t.suspended?(this._removeBackdrop(),this._suspend(e),t._resume(),Promise.resolve()):new Promise((t=>{$(this._element).one(X,(()=>t())),s(e)}))}return new Promise((t=>{$(this._element).one(X,(()=>t())),s(e)}))}_showElement(e){const t=$(this._element).hasClass(ne),s=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),$(this._dialog).hasClass("modal-dialog-scrollable")&&s?s.scrollTop=0:this._element.scrollTop=0,t&&V.Z.reflow(this._element),$(this._element).addClass(oe),this._config.focus&&this._enforceFocus();const n=$.Event(J,{relatedTarget:e});$(this._element).trigger($.Event(te));const o=()=>{this._config.focus&&document.activeElement&&!this._element.contains(document.activeElement)&&this._element.focus(),this._isTransitioning=!1,$(this._element).trigger(n)};if(t){const e=V.Z.getTransitionDurationFromElement(this._dialog);$(this._dialog).one(V.Z.TRANSITION_END,o).emulateTransitionEnd(e)}else o()}}function le(e){return new ae(e)}function de(e){const t={body:'<div class="paper-preloader">\n                  <div class="paper-preloader__text">Loading</div>\n                </div>',modalClass:"paper-modal--preloader fade-in",modalDialogClass:"modal-sm",closeButton:!1,templates:{modal:'<div class="paper-modal modal" tabindex="-1">\n                      <div class="modal-dialog">\n                        <div class="modal-content">\n                          <div class="modal-body"></div>\n                        </div>\n                      </div>\n                    </div>'},onClose:null,...e},s=new ae(t);return s.show(),s}const ce={createModal:le,showErrors:function(e,t){let s,n=gettext("Error");if(Array.isArray(e))if(1===e.length)s=e[0];else{n=gettext("Please correct the following errors");const t=['<ul class="px-4 mb-0">'];for(let s=0,n=e.length;s<n;s++)t.push(`<li>${e[s]}</li>`);t.push("</ul>"),s=t.join("\n")}else s=e;const o=le(Object.assign({modalClass:"paper-modal--danger fade",title:n,body:s,buttons:[{autofocus:!0,label:gettext("OK"),buttonClass:"btn-success",onClick:function(e,t){t.destroy()}}]},t));return o.show(),o},showPreloader:de,showSmartPreloader:function(e,t){const s=Symbol("waiting");return Promise.race([e,new Promise((e=>{setTimeout((()=>{e(s)}),200)}))]).then((n=>{if(n!==s)return n;const o=de(t);return G()([e,new Promise((e=>{setTimeout((()=>{e()}),600)}))]).then((e=>{o.destroy();const t=e[0];if("fulfilled"===t.status)return t.value;throw t.reason instanceof Error?t.reason:new Error(t.reason)}))}))}},ue=ce;class pe extends c.Z{constructor(e){super(),this.opts=Object.assign({openClass:"sidebar-open",shadowClass:"sidebar-shadow",triggerSelector:"[data-toggle='sidebar']"},e),document.addEventListener("click",(e=>{e.target.closest(this.opts.triggerSelector)&&(e.preventDefault(),this.toggle())}))}get hidden(){return!document.documentElement.classList.contains(this.opts.openClass)}show(){if(!this.hidden)return;let e=document.body.querySelector(`.${this.opts.shadowClass}`);e||(e=document.createElement("div"),e.classList.add(this.opts.shadowClass),e.dataset.toggle="sidebar",document.body.appendChild(e)),setTimeout((()=>{document.documentElement.classList.add(this.opts.openClass)}),0)}hide(){this.hidden||document.documentElement.classList.remove(this.opts.openClass)}toggle(){this.hidden?this.show():this.hide()}}const he=new pe;he.observe(".paper-sidebar"),he.initAll(".paper-sidebar"),$(document).on("show.bs.collapse",".paper-sidebar",(e=>{const t=e.target,s=t&&t.closest(".paper-sidebar__item"),n=s&&s.querySelector(":scope > a > .paper-icon-default");n&&(n.classList.remove("fa-folder-o"),n.classList.add("fa-folder-open-o"))})).on("hide.bs.collapse",".paper-sidebar",(e=>{const t=e.target,s=t&&t.closest(".paper-sidebar__item"),n=s&&s.querySelector(":scope > a > .paper-icon-default");n&&(n.classList.remove("fa-folder-open-o"),n.classList.add("fa-folder-o"))}));var me=s(6358),fe=s(9127);me.p8.registerPlugin(fe.L);const ge=document.querySelector(".paper-widget--invalid, .paper-message--error");if(ge)!function(e){const t=e.getBoundingClientRect().top,s=.3*document.documentElement.clientHeight;t>s&&t<document.documentElement.clientHeight-s||setTimeout((()=>{me.p8.to(window,{duration:.5,scrollTo:{y:t-Math.floor(33*document.documentElement.clientHeight/100)}})}))}(ge);else{const e=location.hash.substr(1).replace(/-panel$/i,"-tab");e&&function(e){const t=document.querySelector(`#${e}`);t&&$(t).tab("show")}(e)}$(document).on("shown.bs.tab",(e=>{const t=e.target.getAttribute("aria-controls");if(t){history.replaceState(null,"",`#${t}`);const s=e.target.closest(".paper-form");if(s){const e=new URL(s.action);e.hash=t,s.action=e.toString()}}}));s(5869);s.p;document.body.classList.contains("change-list")&&Promise.all([s.e(6075),s.e(9434)]).then(s.bind(s,423)),document.body.classList.contains("change-form")&&Promise.all([s.e(6075),s.e(9010)]).then(s.bind(s,3422)),-1!==window.location.search.indexOf("&_popup=1")&&s.e(7042).then(s.t.bind(s,2284,23)),window.django=window.django||{},window.django.jQuery=jQuery;const _e={bootstrap:n,emitters:i.Z,dragUtils:l,formUtils:d.Z,modals:ue,Sortable:o.ZP,Widget:c.Z}},2209:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(4795),o=s.n(n);const i={dom:new(o()),inlines:new(o())}},4827:(e,t,s)=>{"use strict";function n(e){switch(e.type){case"checkbox":case"radio":return e.defaultChecked!==e.checked;case"button":case"image":case"reset":case"submit":return!1;case"select-one":case"select-multiple":return Array.from(e.options).some((function(e){return e.selected!==e.defaultSelected}));default:return e.defaultValue!==e.value}}function o(e,t){if(!e.classList.contains(".paper-widget")&&!(e=e.closest(".paper-widget")))throw new Error("widget not found");const s=e.nextElementSibling;if(!s||!s.classList.contains("paper-error-list"))throw new Error("error list not found");for(;s.firstChild;)s.removeChild(s.lastChild);if("string"==typeof t&&(t=[t]),t&&t.length){e.classList.add("paper-widget--invalid"),t.forEach((function(e){const t=document.createElement("li");t.innerText=e,s.append(t)}));const n=e.closest(".paper-form__row");n&&n.classList.add("paper-form__row--invalid");const o=e.closest(".tab-pane");if(o){const e=o.getAttribute("aria-labelledby"),t=e&&document.getElementById(e);t&&(t.classList.add("btn-outline-danger"),t.classList.remove("btn-outline-primary"))}}else{e.classList.remove("paper-widget--invalid");const t=e.closest(".paper-form__row");t&&t.classList.remove("paper-form__row--invalid");const s=e.closest(".tab-pane");if(s&&!s.querySelectorAll(".paper-widget--invalid").length){const e=s.getAttribute("aria-labelledby"),t=e&&document.getElementById(e);t&&(t.classList.remove("btn-outline-danger"),t.classList.add("btn-outline-primary"))}}}function i(e,t){const s=e.querySelector(".paper-messages");if(!s)throw new Error("error list not found");for(;s.firstChild;)s.removeChild(s.lastChild);"string"==typeof t&&(t=[t]),t&&t.length&&t.forEach((function(e){const t=document.createElement("li");t.classList.add("paper-message","paper-message--error"),t.innerText=e,s.append(t)}))}s.d(t,{Z:()=>r});const r={isChangedField:n,containsChangedField:function(e){const t=e.querySelectorAll("input, select, textarea");return Array.from(t).some(n)},setWidgetErrors:o,setFormErrors:i,cleanAllErrors:function(e){void 0===e&&(e=document.body),i(e,[]),e.querySelectorAll(".paper-widget").forEach((function(e){o(e,[])}))},setErrorsFromJSON:function(e,t){for(const[s,n]of Object.entries(t))if("__all__"===s)i(e,n.map((e=>e.message)));else{const t=e.querySelector(".field-"+s),i=t&&t.querySelector(".paper-widget");i&&o(i,n.map((e=>e.message)))}}}},6410:(e,t,s)=>{"use strict";function n(){const e=[];let t=document.documentElement.lang;return t&&(t=t.toLowerCase(),e.push(t),-1!==t.indexOf("-")&&(t=t.replace("-","_"),e.push(t)),-1!==t.indexOf("_")&&(t=t.replace(/_.*$/,""),e.push(t))),e.push("en"),e}s.d(t,{Z:()=>n})},5932:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s(2209);const o=class{constructor(){this._event_handlers={}}addEventHandler(e,t,s){let n;if("function"==typeof t?(s=t,n=e):n=`${e}(${t})`,void 0!==this._event_handlers[n])throw new Error(`Event "${n}" already registered`);return this._event_handlers[n]=s}getEventHandler(e,t){let s;if(s=void 0===t?e:`${e}(${t})`,void 0===this._event_handlers[s])throw new Error(`Event "${t}" is not registered`);return this._event_handlers[s]}_setWidget(e){void 0===e._widgets&&(e._widgets={}),e._widgets[this.constructor.name]=this}getWidget(e){if("object"==typeof e._widgets)return e._widgets[this.constructor.name]}_removeWidget(e){"object"==typeof e._widgets&&delete e._widgets[this.constructor.name]}init(e){this.getWidget(e)?console.debug("The widget is already inialized on this element"):(this._setWidget(e),this._init(e))}_init(e){}destroy(e){this.getWidget(e)&&(this._removeWidget(e),this._destroy(e))}_destroy(e){}initAll(e,t){void 0===t&&(t=document.body);const s=this;t.matches(e)&&s.init(t),t.querySelectorAll(e).forEach((function(e){s.init(e)}))}destroyAll(e,t){void 0===t&&(t=document.body);const s=this;t.matches(e)&&s.destroy(t),t.querySelectorAll(e).forEach((function(e){s.destroy(e)}))}observe(e){const t=this.addEventHandler("dom_mutate",e,function(t){this.initAll(e,t)}.bind(this));n.Z.dom.on("mutate",t);const s=this.addEventHandler("dom_release",e,function(t){this.destroyAll(e,t)}.bind(this));n.Z.dom.on("release",s)}unobserve(e){n.Z.dom.off("mutate",this.getEventHandler("dom_mutate",e)),n.Z.dom.off("release",this.getEventHandler("dom_release",e))}}},1886:()=>{function e(e){const t=e.target.closest(".url-field");if(t){const e=t.querySelector("input"),s=t.querySelector(".url-field__link");if(s){const t=e.value.trim();t?s.href=t:s.removeAttribute("href")}}}document.addEventListener("input",e),document.addEventListener("change",e)},4654:()=>{}},e=>{e.O(0,[201,8265,8612,4879,2777,6737,617,9312,6148,9595,4413,9887,9402,2472,2928,9316,6697,7637,1553,7223,6360,3206,2606,9144,9827,3054,1746,267,1404,8101,8170,3891,331,9565,9252,440,6112,1152,6122,5974,606,9357,3603,7861,6200,6075],(()=>{return t=8542,e(e.s=t);var t}));var t=e.O(),s=window;for(var n in t)s[n]=t[n];t.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})}]);
//# sourceMappingURL=app.8ba4dc9e203e153a1c24.js.map