{"version":3,"file":"chunks/app_components_versionHoverCard_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/actionCreators/release.tsx","webpack:///./app/actions/releaseActions.tsx","webpack:///./app/actions/repositoryActions.tsx","webpack:///./app/components/avatar/avatarList.tsx","webpack:///./app/components/lastCommit.tsx","webpack:///./app/components/repoLabel.tsx","webpack:///./app/components/versionHoverCard.tsx","webpack:///./app/utils/withRelease.tsx","webpack:///./app/stores/releaseStore.tsx","webpack:///./app/stores/repositoryStore.tsx","webpack:///./app/utils/withRepositories.tsx","webpack:///./app/actionCreators/repositories.tsx"],"sourcesContent":["import * as Sentry from '@sentry/react';\n\nimport {\n  addErrorMessage,\n  addLoadingMessage,\n  addSuccessMessage,\n} from 'sentry/actionCreators/indicator';\nimport ReleaseActions from 'sentry/actions/releaseActions';\nimport {Client} from 'sentry/api';\nimport {t} from 'sentry/locale';\nimport ReleaseStore, {getReleaseStoreKey} from 'sentry/stores/releaseStore';\nimport {Deploy, Release, ReleaseStatus} from 'sentry/types';\n\ntype ParamsGet = {\n  orgSlug: string;\n  projectSlug: string;\n  releaseVersion: string;\n};\n\nexport function getProjectRelease(api: Client, params: ParamsGet) {\n  const {orgSlug, projectSlug, releaseVersion} = params;\n  const path = `/projects/${orgSlug}/${projectSlug}/releases/${encodeURIComponent(\n    releaseVersion\n  )}/`;\n  // HACK(leedongwei): Actions fired by the ActionCreators are queued to\n  // the back of the event loop, allowing another getRelease for the same\n  // release to be fired before the loading state is updated in store.\n  // This hack short-circuits that and update the state immediately.\n  ReleaseStore.state.releaseLoading[getReleaseStoreKey(projectSlug, releaseVersion)] =\n    true;\n  ReleaseActions.loadRelease(orgSlug, projectSlug, releaseVersion);\n\n  return api\n    .requestPromise(path, {\n      method: 'GET',\n    })\n    .then((res: Release) => {\n      ReleaseActions.loadReleaseSuccess(projectSlug, releaseVersion, res);\n    })\n    .catch(err => {\n      // This happens when a Project is not linked to a specific Release\n      if (err.status === 404) {\n        ReleaseActions.loadReleaseSuccess(projectSlug, releaseVersion, null);\n        return;\n      }\n\n      ReleaseActions.loadReleaseError(projectSlug, releaseVersion, err);\n      Sentry.withScope(scope => {\n        scope.setLevel('warning');\n        scope.setFingerprint(['getRelease-action-creator']);\n        Sentry.captureException(err);\n      });\n    });\n}\n\nexport function getReleaseDeploys(api: Client, params: ParamsGet) {\n  const {orgSlug, projectSlug, releaseVersion} = params;\n  const path = `/organizations/${orgSlug}/releases/${encodeURIComponent(\n    releaseVersion\n  )}/deploys/`;\n\n  // HACK(leedongwei): Same as above\n  ReleaseStore.state.deploysLoading[getReleaseStoreKey(projectSlug, releaseVersion)] =\n    true;\n  ReleaseActions.loadDeploys(orgSlug, projectSlug, releaseVersion);\n\n  return api\n    .requestPromise(path, {\n      method: 'GET',\n    })\n    .then((res: Deploy[]) => {\n      ReleaseActions.loadDeploysSuccess(projectSlug, releaseVersion, res);\n    })\n    .catch(err => {\n      // This happens when a Project is not linked to a specific Release\n      if (err.status === 404) {\n        ReleaseActions.loadDeploysSuccess(projectSlug, releaseVersion, null);\n        return;\n      }\n\n      ReleaseActions.loadDeploysError(projectSlug, releaseVersion, err);\n      Sentry.withScope(scope => {\n        scope.setLevel('warning');\n        scope.setFingerprint(['getReleaseDeploys-action-creator']);\n        Sentry.captureException(err);\n      });\n    });\n}\n\nexport function archiveRelease(api: Client, params: ParamsGet) {\n  const {orgSlug, projectSlug, releaseVersion} = params;\n\n  ReleaseActions.loadRelease(orgSlug, projectSlug, releaseVersion);\n  addLoadingMessage(t('Archiving Release\\u2026'));\n\n  return api\n    .requestPromise(`/organizations/${orgSlug}/releases/`, {\n      method: 'POST',\n      data: {\n        status: ReleaseStatus.Archived,\n        projects: [],\n        version: releaseVersion,\n      },\n    })\n    .then((release: Release) => {\n      ReleaseActions.loadReleaseSuccess(projectSlug, releaseVersion, release);\n      addSuccessMessage(t('Release was successfully archived.'));\n    })\n    .catch(error => {\n      ReleaseActions.loadReleaseError(projectSlug, releaseVersion, error);\n      addErrorMessage(\n        error.responseJSON?.detail ?? t('Release could not be be archived.')\n      );\n      throw error;\n    });\n}\n\nexport function restoreRelease(api: Client, params: ParamsGet) {\n  const {orgSlug, projectSlug, releaseVersion} = params;\n\n  ReleaseActions.loadRelease(orgSlug, projectSlug, releaseVersion);\n  addLoadingMessage(t('Restoring Release\\u2026'));\n\n  return api\n    .requestPromise(`/organizations/${orgSlug}/releases/`, {\n      method: 'POST',\n      data: {\n        status: ReleaseStatus.Active,\n        projects: [],\n        version: releaseVersion,\n      },\n    })\n    .then((release: Release) => {\n      ReleaseActions.loadReleaseSuccess(projectSlug, releaseVersion, release);\n      addSuccessMessage(t('Release was successfully restored.'));\n    })\n    .catch(error => {\n      ReleaseActions.loadReleaseError(projectSlug, releaseVersion, error);\n      addErrorMessage(\n        error.responseJSON?.detail ?? t('Release could not be be restored.')\n      );\n      throw error;\n    });\n}\n","import {createActions} from 'reflux';\n\nconst ReleaseActions = createActions([\n  'loadRelease', // Singular as it loads 1 release\n  'loadReleaseError',\n  'loadReleaseSuccess',\n  'loadDeploys', // Plural as it loads all deploys related to a release\n  'loadDeploysError',\n  'loadDeploysSuccess',\n]);\n\nexport default ReleaseActions;\n","import {createActions} from 'reflux';\n\nconst RepositoryActions = createActions([\n  'resetRepositories',\n  'loadRepositories',\n  'loadRepositoriesError',\n  'loadRepositoriesSuccess',\n]);\n\nexport default RepositoryActions;\n","import {Component} from 'react';\nimport {css} from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport UserAvatar from 'sentry/components/avatar/userAvatar';\nimport Tooltip from 'sentry/components/tooltip';\nimport {AvatarUser} from 'sentry/types';\n\nconst defaultProps = {\n  avatarSize: 28,\n  maxVisibleAvatars: 5,\n  typeMembers: 'users',\n  tooltipOptions: {},\n};\n\ntype DefaultProps = Readonly<typeof defaultProps>;\ntype Mutable<T> = {-readonly [P in keyof T]: T[P]};\n\ntype Props = {\n  tooltipOptions: Mutable<UserAvatar['props']['tooltipOptions']>;\n  users: AvatarUser[];\n  className?: string;\n  renderTooltip?: UserAvatar['props']['renderTooltip'];\n} & DefaultProps;\n\nexport default class AvatarList extends Component<Props> {\n  static defaultProps = defaultProps;\n\n  render() {\n    const {\n      className,\n      users,\n      avatarSize,\n      maxVisibleAvatars,\n      renderTooltip,\n      typeMembers,\n      tooltipOptions,\n    } = this.props;\n\n    const visibleUsers = users.slice(0, maxVisibleAvatars);\n    const numCollapsedUsers = users.length - visibleUsers.length;\n\n    if (!tooltipOptions.position) {\n      tooltipOptions.position = 'top';\n    }\n\n    return (\n      <AvatarListWrapper className={className}>\n        {!!numCollapsedUsers && (\n          <Tooltip title={`${numCollapsedUsers} other ${typeMembers}`}>\n            <CollapsedUsers size={avatarSize} data-test-id=\"avatarList-collapsedusers\">\n              {numCollapsedUsers < 99 && <Plus>+</Plus>}\n              {numCollapsedUsers}\n            </CollapsedUsers>\n          </Tooltip>\n        )}\n        {visibleUsers.map(user => (\n          <StyledAvatar\n            key={`${user.id}-${user.email}`}\n            user={user}\n            size={avatarSize}\n            renderTooltip={renderTooltip}\n            tooltipOptions={tooltipOptions}\n            hasTooltip\n          />\n        ))}\n      </AvatarListWrapper>\n    );\n  }\n}\n\n// used in releases list page to do some alignment\nexport const AvatarListWrapper = styled('div')`\n  display: flex;\n  flex-direction: row-reverse;\n`;\n\nconst Circle = p => css`\n  border-radius: 50%;\n  border: 2px solid ${p.theme.background};\n  margin-left: -8px;\n  cursor: default;\n\n  &:hover {\n    z-index: 1;\n  }\n`;\n\nconst StyledAvatar = styled(UserAvatar)`\n  overflow: hidden;\n  ${Circle};\n`;\n\nconst CollapsedUsers = styled('div')<{size: number}>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  text-align: center;\n  font-weight: 600;\n  background-color: ${p => p.theme.gray200};\n  color: ${p => p.theme.gray300};\n  font-size: ${p => Math.floor(p.size / 2.3)}px;\n  width: ${p => p.size}px;\n  height: ${p => p.size}px;\n  ${Circle};\n`;\n\nconst Plus = styled('span')`\n  font-size: 10px;\n  margin-left: 1px;\n  margin-right: -1px;\n`;\n","import styled from '@emotion/styled';\n\nimport UserAvatar from 'sentry/components/avatar/userAvatar';\nimport TimeSince from 'sentry/components/timeSince';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {AvatarUser, Commit} from 'sentry/types';\n\ntype Props = {\n  commit: Commit;\n  className?: string;\n};\n\nconst unknownUser: AvatarUser = {\n  id: '',\n  name: '',\n  username: '??',\n  email: '',\n  avatarUrl: '',\n  avatar: {\n    avatarUuid: '',\n    avatarType: 'letter_avatar',\n  },\n  ip_address: '',\n};\n\nfunction LastCommit({commit, className}: Props) {\n  function renderMessage(message: Commit['message']) {\n    if (!message) {\n      return t('No message provided');\n    }\n\n    const firstLine = message.split(/\\n/)[0];\n    if (firstLine.length > 100) {\n      let truncated = firstLine.substr(0, 90);\n      const words = truncated.split(/ /);\n      // try to not have ellipsis mid-word\n      if (words.length > 1) {\n        words.pop();\n        truncated = words.join(' ');\n      }\n      return `${truncated}\\u2026`;\n    }\n    return firstLine;\n  }\n\n  const commitAuthor = commit?.author;\n  return (\n    <div className={className}>\n      <h6>Last commit</h6>\n      <InnerWrap>\n        <UserAvatar user={commitAuthor || unknownUser} />\n        <div>\n          <Message>{renderMessage(commit.message)}</Message>\n          <Meta>\n            <strong>{commitAuthor?.name || t('Unknown Author')}</strong>\n            &nbsp;\n            <TimeSince date={commit.dateCreated} />\n          </Meta>\n        </div>\n      </InnerWrap>\n    </div>\n  );\n}\n\nexport default LastCommit;\n\nconst InnerWrap = styled('div')`\n  display: grid;\n  grid-template-columns: max-content minmax(0, 1fr);\n  gap: ${space(1)};\n  margin-top: ${space(1)};\n`;\n\nconst Message = styled('div')`\n  ${p => p.theme.overflowEllipsis}\n  margin-bottom: ${space(0.5)};\n`;\n\nconst Meta = styled('div')`\n  font-size: ${p => p.theme.fontSizeSmall};\n  color: ${p => p.theme.subText};\n`;\n","import styled from '@emotion/styled';\n\nconst RepoLabel = styled('span')`\n  /* label mixin from bootstrap */\n  font-weight: 700;\n  color: ${p => p.theme.white};\n  text-align: center;\n  white-space: nowrap;\n  border-radius: 0.25em;\n  /* end of label mixin from bootstrap */\n\n  ${p => p.theme.overflowEllipsis};\n\n  display: inline-block;\n  vertical-align: text-bottom;\n  line-height: 1;\n  background: ${p => p.theme.gray200};\n  padding: 3px;\n  max-width: 86px;\n  font-size: ${p => p.theme.fontSizeSmall};\n`;\n\nexport default RepoLabel;\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\n\nimport {Client} from 'sentry/api';\nimport AvatarList from 'sentry/components/avatar/avatarList';\nimport Button from 'sentry/components/button';\nimport Clipboard from 'sentry/components/clipboard';\nimport {Divider, Hovercard} from 'sentry/components/hovercard';\nimport LastCommit from 'sentry/components/lastCommit';\nimport LoadingError from 'sentry/components/loadingError';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport RepoLabel from 'sentry/components/repoLabel';\nimport TimeSince from 'sentry/components/timeSince';\nimport Version from 'sentry/components/version';\nimport {IconCopy} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Deploy, Organization, Release, Repository} from 'sentry/types';\nimport {defined} from 'sentry/utils';\nimport withApi from 'sentry/utils/withApi';\nimport withRelease from 'sentry/utils/withRelease';\nimport withRepositories from 'sentry/utils/withRepositories';\n\ninterface Props extends React.ComponentProps<typeof Hovercard> {\n  api: Client;\n  organization: Organization;\n  projectSlug: string;\n\n  releaseVersion: string;\n  deploys?: Array<Deploy>;\n  deploysError?: Error;\n  deploysLoading?: boolean;\n  release?: Release;\n  releaseError?: Error;\n  releaseLoading?: boolean;\n  repositories?: Array<Repository>;\n  repositoriesError?: Error;\n  repositoriesLoading?: boolean;\n}\n\ntype State = {\n  visible: boolean;\n};\n\nclass VersionHoverCard extends Component<Props, State> {\n  state: State = {\n    visible: false,\n  };\n\n  toggleHovercard() {\n    this.setState({\n      visible: true,\n    });\n  }\n\n  getRepoLink() {\n    const {organization} = this.props;\n    const orgSlug = organization.slug;\n    return {\n      header: null,\n      body: (\n        <ConnectRepo>\n          <h5>{t('Releases are better with commit data!')}</h5>\n          <p>\n            {t(\n              'Connect a repository to see commit info, files changed, and authors involved in future releases.'\n            )}\n          </p>\n          <Button href={`/organizations/${orgSlug}/repos/`} priority=\"primary\">\n            {t('Connect a repository')}\n          </Button>\n        </ConnectRepo>\n      ),\n    };\n  }\n\n  getBody() {\n    const {releaseVersion, release, deploys} = this.props;\n    if (release === undefined || !defined(deploys)) {\n      return {header: null, body: null};\n    }\n\n    const {lastCommit} = release;\n    const recentDeploysByEnvironment = deploys.reduce(function (dbe, deploy) {\n      const {dateFinished, environment} = deploy;\n      if (!dbe.hasOwnProperty(environment)) {\n        dbe[environment] = dateFinished;\n      }\n\n      return dbe;\n    }, {});\n    let mostRecentDeploySlice = Object.keys(recentDeploysByEnvironment);\n\n    if (Object.keys(recentDeploysByEnvironment).length > 3) {\n      mostRecentDeploySlice = Object.keys(recentDeploysByEnvironment).slice(0, 3);\n    }\n\n    return {\n      header: (\n        <HeaderWrapper>\n          {t('Release')}\n          <VersionWrapper>\n            <StyledVersion version={releaseVersion} truncate anchor={false} />\n\n            <Clipboard value={releaseVersion}>\n              <ClipboardIconWrapper>\n                <IconCopy size=\"xs\" />\n              </ClipboardIconWrapper>\n            </Clipboard>\n          </VersionWrapper>\n        </HeaderWrapper>\n      ),\n      body: (\n        <div>\n          <div className=\"row\">\n            <div className=\"col-xs-4\">\n              <h6>{t('New Issues')}</h6>\n              <CountSince>{release.newGroups}</CountSince>\n            </div>\n            <div className=\"col-xs-8\">\n              <h6 style={{textAlign: 'right'}}>\n                {release.commitCount}{' '}\n                {release.commitCount !== 1 ? t('commits ') : t('commit ')} {t('by ')}{' '}\n                {release.authors.length}{' '}\n                {release.authors.length !== 1 ? t('authors') : t('author')}{' '}\n              </h6>\n              <AvatarList\n                users={release.authors}\n                avatarSize={25}\n                tooltipOptions={{container: 'body'} as any}\n                typeMembers=\"authors\"\n              />\n            </div>\n          </div>\n          {lastCommit && <StyledLastCommit commit={lastCommit} />}\n          {deploys.length > 0 && (\n            <div>\n              <Divider>\n                <h6>{t('Deploys')}</h6>\n              </Divider>\n              {mostRecentDeploySlice.map((env, idx) => {\n                const dateFinished = recentDeploysByEnvironment[env];\n                return (\n                  <DeployWrap key={idx}>\n                    <VersionRepoLabel>{env}</VersionRepoLabel>\n                    {dateFinished && <StyledTimeSince date={dateFinished} />}\n                  </DeployWrap>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      ),\n    };\n  }\n\n  render() {\n    const {\n      deploysLoading,\n      deploysError,\n      release,\n      releaseLoading,\n      releaseError,\n      repositories,\n      repositoriesLoading,\n      repositoriesError,\n    } = this.props;\n    let header: React.ReactNode = null;\n    let body: React.ReactNode = null;\n\n    const loading = !!(deploysLoading || releaseLoading || repositoriesLoading);\n    const error = deploysError ?? releaseError ?? repositoriesError;\n    const hasRepos = repositories && repositories.length > 0;\n\n    if (loading) {\n      body = <LoadingIndicator mini />;\n    } else if (error) {\n      body = <LoadingError />;\n    } else {\n      const renderObj: {[key: string]: React.ReactNode} =\n        hasRepos && release ? this.getBody() : this.getRepoLink();\n      header = renderObj.header;\n      body = renderObj.body;\n    }\n\n    return (\n      <Hovercard {...this.props} header={header} body={body}>\n        {this.props.children}\n      </Hovercard>\n    );\n  }\n}\n\nexport {VersionHoverCard};\nexport default withApi(withRelease(withRepositories(VersionHoverCard)));\n\nconst ConnectRepo = styled('div')`\n  padding: ${space(2)};\n  text-align: center;\n`;\n\nconst VersionRepoLabel = styled(RepoLabel)`\n  width: 86px;\n`;\n\nconst StyledTimeSince = styled(TimeSince)`\n  color: ${p => p.theme.gray300};\n  font-size: ${p => p.theme.fontSizeSmall};\n`;\n\nconst HeaderWrapper = styled('div')`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst VersionWrapper = styled('div')`\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: flex-end;\n`;\n\nconst StyledVersion = styled(Version)`\n  margin-right: ${space(0.5)};\n  max-width: 190px;\n`;\n\nconst ClipboardIconWrapper = styled('span')`\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst CountSince = styled('div')`\n  color: ${p => p.theme.headingColor};\n  font-size: ${p => p.theme.headerFontSize};\n`;\n\nconst StyledLastCommit = styled(LastCommit)`\n  margin-top: ${space(2)};\n`;\n\nconst DeployWrap = styled('div')`\n  display: grid;\n  grid-template-columns: max-content minmax(0, 1fr);\n  gap: ${space(1)};\n  justify-items: start;\n  align-items: center;\n`;\n","import {Component} from 'react';\n\nimport {getProjectRelease, getReleaseDeploys} from 'sentry/actionCreators/release';\nimport {Client} from 'sentry/api';\nimport ReleaseStore from 'sentry/stores/releaseStore';\nimport {Deploy, Organization, Release} from 'sentry/types';\nimport getDisplayName from 'sentry/utils/getDisplayName';\n\ntype DependentProps = {\n  api: Client;\n  organization: Organization;\n  projectSlug: string;\n  releaseVersion: string;\n};\n\ntype InjectedProps = {\n  deploys?: Array<Deploy>;\n  deploysError?: Error;\n  deploysLoading?: boolean;\n  release?: Release;\n  releaseError?: Error;\n  releaseLoading?: boolean;\n};\n\nfunction withRelease<P extends DependentProps>(WrappedComponent: React.ComponentType<P>) {\n  class WithRelease extends Component<\n    Omit<P, keyof InjectedProps> & Partial<InjectedProps> & DependentProps,\n    InjectedProps\n  > {\n    static displayName = `withRelease(${getDisplayName(WrappedComponent)})`;\n\n    constructor(props, context) {\n      super(props, context);\n\n      const {projectSlug, releaseVersion} = this.props;\n      const releaseData = ReleaseStore.get(projectSlug, releaseVersion);\n      this.state = {...releaseData};\n    }\n\n    componentDidMount() {\n      this.fetchRelease();\n      this.fetchDeploys();\n    }\n\n    componentWillUnmount() {\n      this.unsubscribe();\n    }\n\n    unsubscribe = ReleaseStore.listen(() => this.onStoreUpdate(), undefined);\n\n    fetchRelease() {\n      const {api, organization, projectSlug, releaseVersion} = this.props;\n      const releaseData = ReleaseStore.get(projectSlug, releaseVersion);\n      const orgSlug = organization.slug;\n\n      if (\n        (!releaseData.release && !releaseData.releaseLoading) ||\n        releaseData.releaseError\n      ) {\n        getProjectRelease(api, {orgSlug, projectSlug, releaseVersion});\n      }\n    }\n\n    fetchDeploys() {\n      const {api, organization, projectSlug, releaseVersion} = this.props;\n      const releaseData = ReleaseStore.get(projectSlug, releaseVersion);\n      const orgSlug = organization.slug;\n\n      if (\n        (!releaseData.deploys && !releaseData.deploysLoading) ||\n        releaseData.deploysError\n      ) {\n        getReleaseDeploys(api, {orgSlug, projectSlug, releaseVersion});\n      }\n    }\n\n    onStoreUpdate() {\n      const {projectSlug, releaseVersion} = this.props;\n      const releaseData = ReleaseStore.get(projectSlug, releaseVersion);\n\n      this.setState({...releaseData});\n    }\n\n    render() {\n      return (\n        <WrappedComponent\n          {...(this.props as P & DependentProps)}\n          {...(this.state as InjectedProps)}\n        />\n      );\n    }\n  }\n  return WithRelease;\n}\n\nexport default withRelease;\n","import {createStore, StoreDefinition} from 'reflux';\n\nimport OrganizationActions from 'sentry/actions/organizationActions';\nimport ReleaseActions from 'sentry/actions/releaseActions';\nimport {Deploy, Organization, Release} from 'sentry/types';\nimport {makeSafeRefluxStore} from 'sentry/utils/makeSafeRefluxStore';\n\ntype StoreRelease = Map<string, Release>;\ntype StoreDeploys = Map<string, Array<Deploy>>;\ntype StoreLoading = Map<string, boolean>;\ntype StoreError = Map<string, Error>;\n\ninterface ReleaseStoreDefinition extends StoreDefinition {\n  get(\n    projectSlug: string,\n    releaseVersion: string\n  ): {\n    deploys: Array<Deploy> | undefined;\n    deploysError: Error | undefined;\n    deploysLoading: boolean | undefined;\n    release: Release | undefined;\n    releaseError: Error | undefined;\n    releaseLoading: boolean | undefined;\n  };\n\n  loadDeploys(orgSlug: string, projectSlug: string, releaseVersion: string): void;\n\n  loadDeploysError(projectSlug: string, releaseVersion: string, error: Error): void;\n  loadDeploysSuccess(projectSlug: string, releaseVersion: string, data: Release): void;\n  loadRelease(orgSlug: string, projectSlug: string, releaseVersion: string): void;\n  loadReleaseError(projectSlug: string, releaseVersion: string, error: Error): void;\n  loadReleaseSuccess(projectSlug: string, releaseVersion: string, data: Release): void;\n  state: {\n    deploys: StoreDeploys;\n    deploysError: StoreError;\n    deploysLoading: StoreLoading;\n    orgSlug: string | undefined;\n    release: StoreRelease;\n    releaseError: StoreError;\n    releaseLoading: StoreLoading;\n  };\n  updateOrganization(org: Organization): void;\n}\n\nexport const getReleaseStoreKey = (projectSlug: string, releaseVersion: string) =>\n  `${projectSlug}${releaseVersion}`;\n\nconst storeConfig: ReleaseStoreDefinition = {\n  state: {\n    orgSlug: undefined,\n    release: new Map() as StoreRelease,\n    releaseLoading: new Map() as StoreLoading,\n    releaseError: new Map() as StoreError,\n    deploys: new Map() as StoreDeploys,\n    deploysLoading: new Map() as StoreLoading,\n    deploysError: new Map() as StoreError,\n  },\n\n  listenables: ReleaseActions,\n  unsubscribeListeners: [],\n\n  init() {\n    this.unsubscribeListeners.push(\n      this.listenTo(OrganizationActions.update, this.updateOrganization)\n    );\n    this.reset();\n  },\n\n  reset() {\n    this.state = {\n      orgSlug: undefined,\n      release: new Map() as StoreRelease,\n      releaseLoading: new Map() as StoreLoading,\n      releaseError: new Map() as StoreError,\n      deploys: new Map() as StoreDeploys,\n      deploysLoading: new Map() as StoreLoading,\n      deploysError: new Map() as StoreError,\n    };\n    this.trigger(this.state);\n  },\n\n  updateOrganization(org: Organization) {\n    this.reset();\n    this.state.orgSlug = org.slug;\n    this.trigger(this.state);\n  },\n\n  loadRelease(orgSlug: string, projectSlug: string, releaseVersion: string) {\n    // Wipe entire store if the user switched organizations\n    if (!this.orgSlug || this.orgSlug !== orgSlug) {\n      this.reset();\n      this.orgSlug = orgSlug;\n    }\n\n    const releaseKey = getReleaseStoreKey(projectSlug, releaseVersion);\n    const {releaseLoading, releaseError, ...state} = this.state;\n\n    this.state = {\n      ...state,\n      releaseLoading: {\n        ...releaseLoading,\n        [releaseKey]: true,\n      },\n      releaseError: {\n        ...releaseError,\n        [releaseKey]: undefined,\n      },\n    };\n    this.trigger(this.state);\n  },\n\n  loadReleaseError(projectSlug: string, releaseVersion: string, error: Error) {\n    const releaseKey = getReleaseStoreKey(projectSlug, releaseVersion);\n    const {releaseLoading, releaseError, ...state} = this.state;\n\n    this.state = {\n      ...state,\n      releaseLoading: {\n        ...releaseLoading,\n        [releaseKey]: false,\n      },\n      releaseError: {\n        ...releaseError,\n        [releaseKey]: error,\n      },\n    };\n    this.trigger(this.state);\n  },\n\n  loadReleaseSuccess(projectSlug: string, releaseVersion: string, data: Release) {\n    const releaseKey = getReleaseStoreKey(projectSlug, releaseVersion);\n    const {release, releaseLoading, releaseError, ...state} = this.state;\n    this.state = {\n      ...state,\n      release: {\n        ...release,\n        [releaseKey]: data,\n      },\n      releaseLoading: {\n        ...releaseLoading,\n        [releaseKey]: false,\n      },\n      releaseError: {\n        ...releaseError,\n        [releaseKey]: undefined,\n      },\n    };\n    this.trigger(this.state);\n  },\n\n  loadDeploys(orgSlug: string, projectSlug: string, releaseVersion: string) {\n    // Wipe entire store if the user switched organizations\n    if (!this.orgSlug || this.orgSlug !== orgSlug) {\n      this.reset();\n      this.orgSlug = orgSlug;\n    }\n\n    const releaseKey = getReleaseStoreKey(projectSlug, releaseVersion);\n    const {deploysLoading, deploysError, ...state} = this.state;\n\n    this.state = {\n      ...state,\n      deploysLoading: {\n        ...deploysLoading,\n        [releaseKey]: true,\n      },\n      deploysError: {\n        ...deploysError,\n        [releaseKey]: undefined,\n      },\n    };\n    this.trigger(this.state);\n  },\n\n  loadDeploysError(projectSlug: string, releaseVersion: string, error: Error) {\n    const releaseKey = getReleaseStoreKey(projectSlug, releaseVersion);\n    const {deploysLoading, deploysError, ...state} = this.state;\n\n    this.state = {\n      ...state,\n      deploysLoading: {\n        ...deploysLoading,\n        [releaseKey]: false,\n      },\n      deploysError: {\n        ...deploysError,\n        [releaseKey]: error,\n      },\n    };\n    this.trigger(this.state);\n  },\n\n  loadDeploysSuccess(projectSlug: string, releaseVersion: string, data: Release) {\n    const releaseKey = getReleaseStoreKey(projectSlug, releaseVersion);\n    const {deploys, deploysLoading, deploysError, ...state} = this.state;\n\n    this.state = {\n      ...state,\n      deploys: {\n        ...deploys,\n        [releaseKey]: data,\n      },\n      deploysLoading: {\n        ...deploysLoading,\n        [releaseKey]: false,\n      },\n      deploysError: {\n        ...deploysError,\n        [releaseKey]: undefined,\n      },\n    };\n    this.trigger(this.state);\n  },\n\n  get(projectSlug: string, releaseVersion: string) {\n    const releaseKey = getReleaseStoreKey(projectSlug, releaseVersion);\n\n    return {\n      release: this.state.release[releaseKey],\n      releaseLoading: this.state.releaseLoading[releaseKey],\n      releaseError: this.state.releaseError[releaseKey],\n      deploys: this.state.deploys[releaseKey],\n      deploysLoading: this.state.deploysLoading[releaseKey],\n      deploysError: this.state.deploysError[releaseKey],\n    };\n  },\n};\n\nconst ReleaseStore = createStore(makeSafeRefluxStore(storeConfig));\nexport default ReleaseStore;\n","import {createStore, StoreDefinition} from 'reflux';\n\nimport RepoActions from 'sentry/actions/repositoryActions';\nimport {Repository} from 'sentry/types';\nimport {makeSafeRefluxStore} from 'sentry/utils/makeSafeRefluxStore';\n\ninterface RepositoryStoreDefinition extends StoreDefinition {\n  get(): {\n    orgSlug?: string;\n    repositories?: Repository[];\n    repositoriesError?: Error;\n    repositoriesLoading?: boolean;\n  };\n\n  loadRepositories(orgSlug: string): void;\n\n  loadRepositoriesError(error: Error): void;\n  loadRepositoriesSuccess(data: Repository[]): void;\n  state: {\n    orgSlug?: string;\n    repositories?: Repository[];\n    repositoriesError?: Error;\n    repositoriesLoading?: boolean;\n  };\n}\n\nconst storeConfig: RepositoryStoreDefinition = {\n  listenables: RepoActions,\n  state: {\n    orgSlug: undefined,\n    repositories: undefined,\n    repositoriesLoading: undefined,\n    repositoriesError: undefined,\n  },\n\n  init() {\n    this.resetRepositories();\n  },\n\n  resetRepositories() {\n    this.state = {\n      orgSlug: undefined,\n      repositories: undefined,\n      repositoriesLoading: undefined,\n      repositoriesError: undefined,\n    };\n    this.trigger(this.state);\n  },\n\n  loadRepositories(orgSlug: string) {\n    this.state = {\n      orgSlug,\n      repositories: orgSlug === this.state.orgSlug ? this.state.repositories : undefined,\n      repositoriesLoading: true,\n      repositoriesError: undefined,\n    };\n    this.trigger(this.state);\n  },\n\n  loadRepositoriesError(err: Error) {\n    this.state = {\n      ...this.state,\n      repositories: undefined,\n      repositoriesLoading: false,\n      repositoriesError: err,\n    };\n    this.trigger(this.state);\n  },\n\n  loadRepositoriesSuccess(data: Repository[]) {\n    this.state = {\n      ...this.state,\n      repositories: data,\n      repositoriesLoading: false,\n      repositoriesError: undefined,\n    };\n    this.trigger(this.state);\n  },\n\n  get() {\n    return {...this.state};\n  },\n};\n\nconst RepositoryStore = createStore(makeSafeRefluxStore(storeConfig));\nexport default RepositoryStore;\n","import {Component} from 'react';\n\nimport {getRepositories} from 'sentry/actionCreators/repositories';\nimport RepositoryActions from 'sentry/actions/repositoryActions';\nimport {Client} from 'sentry/api';\nimport RepositoryStore from 'sentry/stores/repositoryStore';\nimport {Organization, Repository} from 'sentry/types';\nimport getDisplayName from 'sentry/utils/getDisplayName';\n\ntype DependentProps = {\n  api: Client;\n  organization: Organization;\n};\n\ntype InjectedProps = {\n  repositories?: Repository[];\n  repositoriesError?: Error;\n  repositoriesLoading?: boolean;\n};\n\nconst INITIAL_STATE: InjectedProps = {\n  repositories: undefined,\n  repositoriesLoading: undefined,\n  repositoriesError: undefined,\n};\n\nfunction withRepositories<P extends DependentProps>(\n  WrappedComponent: React.ComponentType<P>\n) {\n  class WithRepositories extends Component<P & DependentProps, InjectedProps> {\n    static displayName = `withRepositories(${getDisplayName(WrappedComponent)})`;\n\n    constructor(props: P & DependentProps, context: any) {\n      super(props, context);\n\n      const {organization} = this.props;\n      const orgSlug = organization.slug;\n      const repoData = RepositoryStore.get();\n\n      if (repoData.orgSlug !== orgSlug) {\n        RepositoryActions.resetRepositories();\n      }\n\n      this.state =\n        repoData.orgSlug === orgSlug\n          ? {...INITIAL_STATE, ...repoData}\n          : {...INITIAL_STATE};\n    }\n\n    componentDidMount() {\n      // XXX(leedongwei): Do not move this function call unless you modify the\n      // unit test named \"prevents repeated calls\"\n      this.fetchRepositories();\n    }\n    componentWillUnmount() {\n      this.unsubscribe();\n    }\n    unsubscribe = RepositoryStore.listen(() => this.onStoreUpdate(), undefined);\n\n    fetchRepositories() {\n      const {api, organization} = this.props;\n      const orgSlug = organization.slug;\n      const repoData = RepositoryStore.get();\n\n      // XXX(leedongwei): Do not check the orgSlug here. It would have been\n      // verified at `getInitialState`. The short-circuit hack in actionCreator\n      // does not update the orgSlug in the store.\n      if (\n        (!repoData.repositories && !repoData.repositoriesLoading) ||\n        repoData.repositoriesError\n      ) {\n        getRepositories(api, {orgSlug});\n      }\n    }\n\n    onStoreUpdate() {\n      const repoData = RepositoryStore.get();\n      this.setState({...repoData});\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} {...this.state} />;\n    }\n  }\n\n  return WithRepositories;\n}\n\nexport default withRepositories;\n","import * as Sentry from '@sentry/react';\n\nimport RepositoryActions from 'sentry/actions/repositoryActions';\nimport {Client} from 'sentry/api';\nimport RepositoryStore from 'sentry/stores/repositoryStore';\nimport {Repository} from 'sentry/types';\n\ntype ParamsGet = {\n  orgSlug: string;\n};\n\nexport function getRepositories(api: Client, params: ParamsGet) {\n  const {orgSlug} = params;\n  const path = `/organizations/${orgSlug}/repos/`;\n\n  // HACK(leedongwei): Actions fired by the ActionCreators are queued to\n  // the back of the event loop, allowing another getRepo for the same\n  // repo to be fired before the loading state is updated in store.\n  // This hack short-circuits that and update the state immediately.\n  RepositoryStore.state.repositoriesLoading = true;\n  RepositoryActions.loadRepositories(orgSlug);\n\n  return api\n    .requestPromise(path, {\n      method: 'GET',\n    })\n    .then((res: Repository[]) => {\n      RepositoryActions.loadRepositoriesSuccess(res);\n    })\n    .catch(err => {\n      RepositoryActions.loadRepositoriesError(err);\n      Sentry.withScope(scope => {\n        scope.setLevel('warning');\n        scope.setFingerprint(['getRepositories-action-creator']);\n        Sentry.captureException(err);\n      });\n    });\n}\n"],"names":["getProjectRelease","api","params","orgSlug","projectSlug","releaseVersion","path","encodeURIComponent","ReleaseStore","getReleaseStoreKey","ReleaseActions","requestPromise","method","then","res","catch","err","status","Sentry","scope","setLevel","setFingerprint","getReleaseDeploys","archiveRelease","addLoadingMessage","t","data","ReleaseStatus","projects","version","release","addSuccessMessage","error","addErrorMessage","responseJSON","detail","restoreRelease","createActions","AvatarList","Component","render","className","users","avatarSize","maxVisibleAvatars","renderTooltip","typeMembers","tooltipOptions","this","props","visibleUsers","slice","numCollapsedUsers","length","position","AvatarListWrapper","title","CollapsedUsers","size","Plus","map","user","StyledAvatar","hasTooltip","id","email","Circle","p","css","theme","background","UserAvatar","gray200","gray300","Math","floor","unknownUser","name","username","avatarUrl","avatar","avatarUuid","avatarType","ip_address","LastCommit","commit","commitAuthor","author","InnerWrap","Message","message","firstLine","split","truncated","substr","words","pop","join","renderMessage","Meta","date","dateCreated","space","overflowEllipsis","fontSizeSmall","subText","white","VersionHoverCard","visible","toggleHovercard","setState","getRepoLink","organization","slug","header","body","ConnectRepo","href","priority","getBody","deploys","undefined","defined","lastCommit","recentDeploysByEnvironment","reduce","dbe","deploy","dateFinished","environment","hasOwnProperty","mostRecentDeploySlice","Object","keys","HeaderWrapper","VersionWrapper","StyledVersion","truncate","anchor","value","ClipboardIconWrapper","CountSince","newGroups","style","textAlign","commitCount","authors","container","StyledLastCommit","env","idx","DeployWrap","VersionRepoLabel","StyledTimeSince","deploysLoading","deploysError","releaseLoading","releaseError","repositories","repositoriesLoading","repositoriesError","loading","hasRepos","mini","renderObj","children","withApi","WrappedComponent","WithRelease","constructor","context","super","onStoreUpdate","releaseData","state","componentDidMount","fetchRelease","fetchDeploys","componentWillUnmount","unsubscribe","getDisplayName","withRelease","withRepositories","RepoLabel","TimeSince","Version","headingColor","headerFontSize","storeConfig","Map","listenables","unsubscribeListeners","init","push","listenTo","OrganizationActions","updateOrganization","reset","trigger","org","loadRelease","releaseKey","loadReleaseError","loadReleaseSuccess","loadDeploys","loadDeploysError","loadDeploysSuccess","get","createStore","makeSafeRefluxStore","RepoActions","resetRepositories","loadRepositories","loadRepositoriesError","loadRepositoriesSuccess","INITIAL_STATE","WithRepositories","RepositoryStore","repoData","RepositoryActions","fetchRepositories","getRepositories"],"sourceRoot":""}