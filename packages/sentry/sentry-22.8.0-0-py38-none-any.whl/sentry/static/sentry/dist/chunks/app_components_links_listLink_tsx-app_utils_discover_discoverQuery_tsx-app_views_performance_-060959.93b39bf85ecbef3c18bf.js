(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_links_listLink_tsx-app_utils_discover_discoverQuery_tsx-app_views_performance_-060959"],{"./app/components/charts/barChartZoom.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),i=s("../node_modules/react-router/es/index.js"),a=s("./app/components/charts/components/dataZoomInside.tsx"),r=s("./app/components/charts/components/toolBox.tsx"),l=s("./app/utils/callIfFunction.tsx");class d extends n.Component{constructor(){super(...arguments),(0,o.Z)(this,"zooming",null),(0,o.Z)(this,"handleChartReady",(e=>{(0,l.g)(this.props.onChartReady,e)})),(0,o.Z)(this,"handleChartFinished",((e,t)=>{var s;"function"==typeof this.zooming&&(this.zooming(),this.zooming=null);const o=null===(s=t._componentsViews)||void 0===s?void 0:s.find((e=>e._features&&e._features.dataZoom));o&&!o._features.dataZoom._isZoomActive&&t.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0})})),(0,o.Z)(this,"handleDataZoom",((e,t)=>{const s=t.getModel(),{startValue:o,endValue:n}=s._payload.batch[0];if(null!==o&&null!==n){const{buckets:e,location:s,paramStart:a,paramEnd:r,minZoomWidth:d,onHistoryPush:c}=this.props,{start:p}=e[o],{end:u}=e[n];if(void 0===d||u-p>d){const e={pathname:s.pathname,query:{...s.query,[a]:p,[r]:u}};c?c(p,u):i.browserHistory.push(e)}else t.dispatchAction({type:"restore"}),(0,l.g)(this.props.onDataZoomCancelled)}else t.dispatchAction({type:"restore"}),(0,l.g)(this.props.onDataZoomCancelled);(0,l.g)(this.props.onDataZoom,e,t)}))}render(){const{children:e,xAxisIndex:t}=this.props;return e({onChartReady:this.handleChartReady,onFinished:this.handleChartFinished,dataZoom:(0,a.Z)({xAxisIndex:t}),toolBox:(0,r.Z)({},{dataZoom:{title:{zoom:"",back:""},iconStyle:{borderWidth:0,color:"transparent",opacity:0}}}),onDataZoom:this.handleDataZoom})}}d.displayName="BarChartZoom";const c=d},"./app/components/charts/components/dataZoomInside.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n}),s("../node_modules/echarts/lib/component/dataZoomInside.js");const o={type:"inside",zoomOnMouseWheel:!1,zoomLock:!0,throttle:50};function n(e){return e&&Array.isArray(e)?e:[{...o,...e}]}},"./app/components/charts/components/toolBox.tsx":(e,t,s)=>{"use strict";function o(){let{dataZoom:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e?{dataZoom:{yAxisIndex:"none",title:{zoom:"zoom",back:"undo"},...e}}:{},...t}}function n(e,t){return{right:0,top:0,itemSize:16,z:-1,feature:o(t),...e}}s.d(t,{Z:()=>n})},"./app/components/charts/transparentLoadingMask.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=s("./app/components/loadingMask.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,o.Z)((e=>{let{className:t,visible:s,children:o,...a}=e;const r=s?{...a,"data-test-id":"loading-placeholder"}:a;return(0,i.tZ)(n.Z,{className:t,...r,children:o})}),{target:"ewtkxp50"})((e=>!e.visible&&"display: none;"),";opacity:0.4;z-index:1;")},"./app/components/links/listLink.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),a=s("../node_modules/react-router/es/index.js"),r=s("../node_modules/classnames/index.js"),l=s.n(r),d=s("../node_modules/lodash/omit.js"),c=s.n(d),p=s("../node_modules/query-string/index.js"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class m extends i.Component{constructor(){super(...arguments),(0,o.Z)(this,"getClassName",(()=>{const e={},{className:t,activeClassName:s}=this.props;return t&&(e[t]=!0),this.isActive()&&s&&(e[s]=!0),l()(e)}))}isActive(){const{isActive:e,to:t,query:s,index:o,router:n}=this.props,i=s?p.parse(s):void 0,a="string"==typeof t?{pathname:t,query:i}:t;return"function"==typeof e?e(a,o):n.isActive(a,o)}render(){const{index:e,children:t,to:s,disabled:o,...n}=this.props,i=c()(n,"activeClassName","css","isActive","index","router","location");return(0,u.tZ)(v,{className:this.getClassName(),disabled:o,children:(0,u.tZ)(a.Link,{...i,onlyActiveOnIndex:e,to:o?"":s,children:t})})}}m.displayName="ListLink",(0,o.Z)(m,"displayName","ListLink"),(0,o.Z)(m,"defaultProps",{activeClassName:"active",index:!1,disabled:!1});const h=(0,a.withRouter)(m),v=(0,n.Z)("li",{shouldForwardProp:e=>"disabled"!==e,target:"er8tqc10"})((e=>e.disabled&&`\n   a {\n    color:${e.theme.disabled} !important;\n    pointer-events: none;\n    :hover {\n      color: ${e.theme.disabled}  !important;\n    }\n   }\n`),";")},"./app/utils/discover/discoverQuery.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var o=s("./app/utils/withApi.tsx"),n=s("./app/utils/discover/genericDiscoverQuery.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e,t){return e.transactionName!==t.transactionName||e.transactionThreshold!==t.transactionThreshold||e.transactionThresholdMetric!==t.transactionThresholdMetric}function r(e){const t=e.useEvents?"events":"eventsv2",s=e.useEvents?(e,t)=>{var s;const{fields:o,...n}=null!==(s=e.meta)&&void 0!==s?s:{};return{...e,meta:{...o,...n}}}:void 0;return(0,i.tZ)(n.ZP,{route:t,shouldRefetchData:a,afterFetch:s,...e})}r.displayName="DiscoverQuery";const l=(0,o.Z)(r)},"./app/utils/performance/histogram/constants.tsx":(e,t,s)=>{"use strict";s.d(t,{d:()=>n});var o=s("./app/locale.tsx");const n=[{label:(0,o.t)("Exclude"),value:"exclude_outliers"},{label:(0,o.t)("Include"),value:"all"}]},"./app/utils/performance/histogram/histogramQuery.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var o=s("../node_modules/react/index.js"),n=s("../node_modules/lodash/omit.js"),i=s.n(n),a=s("./app/utils/discover/genericDiscoverQuery.tsx"),r=s("./app/utils/withApi.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){const{fields:t,numBuckets:s,min:o,max:n,precision:a,dataFilter:r,eventView:l,location:d}=e,c={field:t,numBuckets:s,min:o,max:n,precision:a,dataFilter:r},p=i()(l.getEventsAPIPayload(d),["field","sort","per_page"]);return Object.assign(c,p)}function c(e){const{children:t,fields:s,didReceiveMultiAxis:n}=e;return 0===s.length?(0,l.tZ)(o.Fragment,{children:t({isLoading:!1,error:null,pageLinks:null,histograms:{}})}):(0,l.tZ)(a.ZP,{route:"events-histogram",getRequestPayload:d,didFetch:function(e){if(n){const t={};Object.entries(e).forEach((e=>{let[s,o]=e;return t[s]=o.length?o.reduce(((e,t)=>e+t.count),0):0})),n(t)}},...i()(e,"children"),children:t=>{let{tableData:s,...o}=t;return e.children({histograms:s,...o})}})}c.displayName="HistogramQuery";const p=(0,r.Z)(c)},"./app/utils/performance/histogram/index.tsx":(e,t,s)=>{"use strict";s.d(t,{V:()=>d,Z:()=>c});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),i=s("../node_modules/react-router/es/index.js"),a=s("./app/utils/queryString.tsx"),r=s("./app/utils/performance/histogram/constants.tsx");class l extends n.Component{constructor(){super(...arguments),(0,o.Z)(this,"handleResetView",(()=>{const{location:e,zoomKeys:t}=this.props;i.browserHistory.push({pathname:e.pathname,query:d(e,t)})})),(0,o.Z)(this,"handleFilterChange",(e=>{const{location:t,zoomKeys:s}=this.props;i.browserHistory.push({pathname:t.pathname,query:{...d(t,s),dataFilter:e}})}))}isZoomed(){const{location:e,zoomKeys:t}=this.props;return t.map((t=>e.query[t])).some((e=>void 0!==e))}getActiveFilter(){const{location:e}=this.props,t=e.query.dataFilter?(0,a.ro)(e.query.dataFilter):r.d[0].value;return r.d.find((e=>e.value===t))||r.d[0]}render(){const e={isZoomed:this.isZoomed(),handleResetView:this.handleResetView,activeFilter:this.getActiveFilter(),handleFilterChange:this.handleFilterChange,filterOptions:r.d};return this.props.children(e)}}function d(e,t){const s={...e.query,cursor:void 0};return delete s.dataFilter,t.forEach((e=>delete s[e])),s}l.displayName="Histogram";const c=l},"./app/views/performance/transactionSummary/transactionVitals/constants.tsx":(e,t,s)=>{"use strict";s.d(t,{GW:()=>r,PE:()=>c,QB:()=>p,sE:()=>a}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var o=s("./app/utils/fields/index.ts"),n=s("./app/utils/performance/vitals/constants.tsx"),i=s("./app/utils/theme.tsx");const a=100,r=.75,l=[{vitals:[o.Zl.FP,o.Zl.FCP,o.Zl.LCP],min:0},{vitals:[o.Zl.FID],min:0,precision:2},{vitals:[o.Zl.CLS],min:0,precision:2}],d=[...i.ZP.charts.getColorPalette(l.reduce(((e,t)=>{let{vitals:s}=t;return e+s.length}),0)-1)].reverse(),c=l.map((e=>({...e,colors:d.splice(0,e.vitals.length)}))),p=l.reduce(((e,t)=>{let{vitals:s}=t;return s.forEach((t=>{const s=n.r9[t].slug;e.push(`${s}Start`),e.push(`${s}End`)})),e}),[])},"./app/views/performance/transactionSummary/transactionVitals/index.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>be}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var o=s("./app/locale.tsx"),n=s("./app/utils/discover/eventView.tsx"),i=s("./app/utils/discover/fields.tsx"),a=s("./app/utils/performance/vitals/constants.tsx"),r=s("./app/utils/queryString.tsx"),l=s("./app/utils/tokenizeSearch.tsx"),d=s("./app/utils/withOrganization.tsx"),c=s("./app/utils/withProjects.tsx"),p=s("./app/views/performance/transactionSummary/pageLayout.tsx"),u=s("./app/views/performance/transactionSummary/tabs.tsx"),m=s("./app/views/performance/transactionSummary/transactionVitals/constants.tsx"),h=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),v=s("../node_modules/react/index.js"),g=s("../node_modules/react-router/es/index.js"),x=s("./app/components/alert.tsx"),f=s("./app/components/button.tsx"),y=s("./app/components/datePageFilter.tsx"),Z=s("./app/components/environmentPageFilter.tsx"),b=s("./app/components/events/searchBar.tsx"),w=s("./app/components/forms/compactSelect.tsx"),_=s("./app/components/layouts/thirds.tsx"),j=s("./app/components/links/externalLink.tsx"),k=s("./app/components/organizations/pageFilterBar.tsx"),C=s("./app/components/organizations/pageFilters/parse.tsx"),D=s("./app/styles/space.tsx"),z=s("./app/utils/analytics.tsx"),F=s("./app/utils/performance/histogram/index.tsx"),S=s("./app/utils/performance/histogram/constants.tsx"),V=s("./app/utils/performance/vitals/vitalsCardsDiscoverQuery.tsx"),P=s("./app/views/performance/transactionSummary/transactionVitals/utils.tsx"),L=s("./app/components/panels/index.tsx"),N=s("./app/utils/performance/histogram/histogramQuery.tsx"),E=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),R=s("../node_modules/@emotion/react/dist/emotion-element-cbed451f.browser.esm.js"),q=s("../node_modules/lodash/isEqual.js"),A=s.n(q),$=s("../node_modules/lodash/throttle.js"),B=s.n($),O=s("./app/components/charts/barChart.tsx"),T=s("./app/components/charts/barChartZoom.tsx"),I=s("./app/components/charts/components/markLine.tsx"),M=s("./app/components/charts/transparentLoadingMask.tsx"),W=s("./app/components/placeholder.tsx"),Q=s("./app/utils/formatters.tsx"),H=s("./app/utils/getDynamicText.tsx"),G=s("./app/utils/performance/histogram/utils.tsx"),K=s("./app/views/performance/transactionSummary/transactionEvents/utils.tsx"),X=s("./app/views/performance/landing/vitalsCards.tsx"),Y=s("./app/views/performance/vitalDetail/utils.tsx"),U=s("./app/components/charts/styles.tsx");const J=(0,h.Z)(L.Lv,{target:"e1l3pu0z5"})({name:"1slq3zi",styles:"display:grid;grid-template-columns:325px minmax(100px, auto);padding:0"}),ee=(0,h.Z)("div",{target:"e1l3pu0z4"})("padding:",(0,D.Z)(3),";"),te=(0,h.Z)(ee,{target:"e1l3pu0z3"})("position:relative;border-right:1px solid ",(e=>e.theme.border),";grid-column:1/1;display:flex;flex-direction:column;justify-content:space-between;"),se=(0,h.Z)(U.OT,{target:"e1l3pu0z2"})({name:"cfjpzu",styles:"margin:0px"}),oe=(0,h.Z)("div",{target:"e1l3pu0z1"})("font-size:",(e=>e.theme.fontSizeMedium),";color:",(e=>e.theme.subText),";"),ne=(0,h.Z)("div",{target:"e1l3pu0z0"})({name:"5r9nha",styles:"font-size:32px"});var ie=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class ae extends v.Component{constructor(){super(...arguments),(0,E.Z)(this,"state",{refDataRect:null,refPixelRect:null}),(0,E.Z)(this,"trackOpenInDiscoverClicked",(()=>{const{organization:e}=this.props,{vitalDetails:t}=this.props;(0,z.ec)({eventKey:"performance_views.vitals.open_in_discover",eventName:"Performance Views: Open vitals in discover",organization_id:e.id,vital:t.slug})})),(0,E.Z)(this,"trackOpenAllEventsClicked",(()=>{const{organization:e}=this.props,{vitalDetails:t}=this.props;(0,z.ec)({eventKey:"performance_views.vitals.open_all_events",eventName:"Performance Views: Open vitals in all events",organization_id:e.id,vital:t.slug})})),(0,E.Z)(this,"handleRendered",B()(((e,t)=>{const{chartData:s}=this.props,{refDataRect:o}=this.state;if(null===o||s.length<1)return;const n=null===o?null:(0,P.L0)(t,o);null===n||A()(n,this.state.refPixelRect)||this.setState({refPixelRect:n})}),200,{leading:!0})),(0,E.Z)(this,"handleDataZoomCancelled",(()=>{}))}static getDerivedStateFromProps(e,t){const{isLoading:s,error:o,chartData:n}=e;if(s||null===o)return{...t};const i=(0,P.eH)(n);return null===t.refDataRect||null!==i&&!A()(i,t.refDataRect)?{...t,refDataRect:i}:{...t}}get summary(){var e;const{summaryData:t}=this.props;return null!==(e=null==t?void 0:t.p75)&&void 0!==e?e:null}get failureRate(){var e,t;const{summaryData:s}=this.props,o=null!==(e=null==s?void 0:s.poor)&&void 0!==e?e:0,n=null!==(t=null==s?void 0:s.total)&&void 0!==t?t:0;return n<=0?0:o/n}getFormattedStatNumber(){const{vitalDetails:e}=this.props,t=this.summary,{type:s}=e;return null===t?"—":"duration"===s?(0,Q.g9)(t/1e3,2,!0):(0,Q.$1)(t,2)}renderSummary(){var e;const{vitalDetails:t,eventView:s,organization:n,min:a,max:r,dataFilter:d}=this.props,{slug:c,name:p,description:u}=t,h=`measurements.${c}`,v=s.withColumns([{kind:"field",field:"transaction"},{kind:"function",function:["percentile",h,m.GW.toString(),void 0]},{kind:"function",function:["count","","",void 0]}]).withSorts([{kind:"desc",field:(0,i.LY)(`percentile(${h},${m.GW.toString()})`)}]),g=new l.MY(null!==(e=v.query)&&void 0!==e?e:"");return g.addFilterValues("has",[h]),void 0===a&&void 0===r||(void 0!==a&&g.addFilterValues(h,[`>=${a}`]),void 0!==r&&g.addFilterValues(h,[`<=${r}`])),v.query=g.formatString(),(0,ie.BX)(te,{children:[(0,ie.tZ)(re,{children:(0,ie.tZ)(se,{children:`${p} (${c.toUpperCase()})`})}),(0,ie.tZ)(ne,{children:(0,H.Z)({value:this.getFormattedStatNumber(),fixed:"—"})}),(0,ie.tZ)(oe,{children:u}),(0,ie.tZ)("div",{children:(0,ie.tZ)(f.ZP,{size:"xs",to:v.withColumns([{kind:"field",field:h}]).withSorts([{kind:"desc",field:h}]).getPerformanceTransactionEventsViewUrlTarget(n.slug,{showTransactions:"all"===d?K.q3.p100:K.q3.p75,webVital:h}),onClick:this.trackOpenAllEventsClicked,children:(0,o.t)("View All Events")})})]})}renderHistogram(){const{theme:e,location:t,isLoading:s,chartData:o,summaryData:n,error:i,colors:a,vital:r,vitalDetails:l,precision:d=0}=this.props,{slug:c}=l,p=this.getSeries(),u={type:"category",truncate:!0,axisTick:{alignWithLabel:!0}},h=p.data.map((e=>e.value)),v={type:"value",max:h.length?Math.max(...h):void 0,axisLabel:{color:e.chartLabel,formatter:Q.Du}},g=[p];if(!s&&!i){const e=this.getBaselineSeries();null!==e&&g.push(e)}const x=s||i||null===n?{}:{[r]:n};return(0,ie.tZ)(T.Z,{minZoomWidth:10**-d*m.sE,location:t,paramStart:`${c}Start`,paramEnd:`${c}End`,xAxisIndex:[0],buckets:(0,G._W)(o),onDataZoomCancelled:this.handleDataZoomCancelled,children:e=>(0,ie.BX)(le,{children:[(0,ie.tZ)(M.Z,{visible:s}),(0,ie.tZ)(de,{children:(0,ie.tZ)(X.JO,{isLoading:s,data:x,vital:r,showBar:!1,showStates:!1,showVitalPercentNames:!1,showVitalThresholds:!1,showDurationDetail:!1})}),(0,H.Z)({value:(0,ie.tZ)(O.v,{series:g,xAxis:u,yAxis:v,colors:a,onRendered:this.handleRendered,grid:{left:(0,D.Z)(3),right:(0,D.Z)(3),top:(0,D.Z)(3),bottom:(0,D.Z)(1.5)},stacked:!0,...e}),fixed:(0,ie.tZ)(W.Z,{testId:"skeleton-ui",height:"200px"})})]})})}bucketWidth(){const{chartData:e}=this.props;return e.length>=2?e[1].bin-e[0].bin:0}getSeries(){const{theme:e,chartData:t,precision:s,vitalDetails:n,vital:i}=this.props,a=(0,G.GT)(t,{precision:0===s?void 0:s,type:n.type,additionalFieldsFn:t=>({itemStyle:{color:e[this.getVitalsColor(i,t)]}})});return{seriesName:(0,o.t)("Count"),data:a}}getVitalsColor(e,t){const s=Y.eE[e],o=Y.MN[e];return t>=s?Y.fL[Y.SP.POOR]:t>=o?Y.fL[Y.SP.MEH]:Y.fL[Y.SP.GOOD]}getBaselineSeries(){const{theme:e,chartData:t}=this.props,s=this.summary;if(null===s||null===this.state.refPixelRect)return null;const n=(0,P.oZ)(t,s);if(null===n||-1===n)return null;const i=(0,P.jb)({x:n-.5,y:0},this.state.refDataRect,this.state.refPixelRect);if(null===i)return null;const a=(0,P.jb)({x:n-.5,y:Math.max(...t.map((e=>e.count)))||1},this.state.refDataRect,this.state.refPixelRect);if(null===a)return null;const r=(0,I.Z)({animationDuration:200,data:[[i,a]],label:{show:!1},lineStyle:{color:e.textColor,type:"solid"},tooltip:{formatter:()=>['<div class="tooltip-series tooltip-series-solo">','<span class="tooltip-label">',`<strong>${(0,o.t)("p75")}</strong>`,"</span>","</div>",'<div class="tooltip-arrow"></div>'].join("")}});return{seriesName:(0,o.t)("p75"),data:[],markLine:r}}render(){return(0,ie.BX)(J,{children:[this.renderSummary(),this.renderHistogram()]})}}ae.displayName="VitalCard";const re=(0,h.Z)("div",{target:"e1yeyzg42"})({name:"1eoy87d",styles:"display:flex;justify-content:space-between"}),le=(0,h.Z)("div",{target:"e1yeyzg41"})({name:"bjn8wh",styles:"position:relative"}),de=(0,h.Z)("div",{target:"e1yeyzg40"})("position:absolute;top:",(0,D.Z)(2),";right:",(0,D.Z)(3),";z-index:2;"),ce=(0,R.d)(ae);class pe extends v.Component{renderVitalCard(e,t,s,o,n,i,r,l,d){const{location:c,organization:p,eventView:u,dataFilter:h}=this.props,v=a.r9[e],g=void 0!==r||void 0!==l;return(0,ie.tZ)(N.Z,{location:c,orgSlug:p.slug,eventView:u,numBuckets:m.sE,fields:g?[e]:[],min:r,max:l,precision:d,dataFilter:h,children:a=>{var m,x;const f=g?a.isLoading:t,y=g?null!==a.error:s,Z=g&&null!==(m=null===(x=a.histograms)||void 0===x?void 0:x[e])&&void 0!==m?m:n;return(0,ie.tZ)(ce,{location:c,isLoading:f,error:y,vital:e,vitalDetails:v,summaryData:o,chartData:Z,colors:i,eventView:u,organization:p,min:r,max:l,precision:d,dataFilter:h})}})}renderVitalGroup(e,t){const{location:s,organization:o,eventView:n,dataFilter:i}=this.props,{vitals:l,colors:d,min:c,max:p,precision:u}=e,h=l.reduce(((e,t)=>{const o=a.r9[t].slug;return e[t]={start:(0,r.ro)(s.query[`${o}Start`]),end:(0,r.ro)(s.query[`${o}End`])},e}),{});return(0,ie.tZ)(N.Z,{location:s,orgSlug:o.slug,eventView:n,numBuckets:m.sE,fields:l,min:c,max:p,precision:u,dataFilter:i,children:e=>{const s=t.isLoading||e.isLoading,o=null!==t.error||null!==e.error;return(0,ie.tZ)(v.Fragment,{children:l.map(((n,i)=>{var a,r,l,c,p;const m=null!==(a=null==t||null===(r=t.vitalsData)||void 0===r?void 0:r[n])&&void 0!==a?a:null,g=null!==(l=null===(c=e.histograms)||void 0===c?void 0:c[n])&&void 0!==l?l:[],{start:x,end:f}=null!==(p=h[n])&&void 0!==p?p:{};return(0,ie.tZ)(v.Fragment,{children:this.renderVitalCard(n,s,o,m,g,[d[i]],ue(x,u),ue(f,u),u)},n)}))})}})}render(){const{results:e}=this.props;return(0,ie.tZ)(L.s_,{children:(0,ie.tZ)(v.Fragment,{children:m.PE.map((t=>(0,ie.tZ)(v.Fragment,{children:this.renderVitalGroup(t,e)},t.vitals.join(""))))})})}}function ue(e,t){if(void 0!==e)return void 0===t||0===t?parseInt(e,10):parseFloat(e)}pe.displayName="VitalsPanel";const me=pe;function he(e){const{location:t,organization:s,eventView:n}=e,i=(0,r.ro)(t.query.query,""),a=e=>{const s=(0,C.fK)({...t.query||{},query:e});delete s.cursor,g.browserHistory.push({pathname:t.pathname,query:s})},l=m.PE.reduce(((e,t)=>{let{vitals:s}=t;return e.concat(s)}),[]);return(0,ie.tZ)(F.Z,{location:t,zoomKeys:m.QB,children:e=>{let{activeFilter:r,handleFilterChange:d,handleResetView:c,isZoomed:p}=e;return(0,ie.tZ)(_.or,{fullWidth:!0,children:(0,ie.tZ)(V.Z,{eventView:n,orgSlug:s.slug,location:t,vitals:l,children:e=>{const u=!e.isLoading&&(0,P.A1)(e.vitalsData,l);return(0,ie.BX)(v.Fragment,{children:[u&&(0,ie.tZ)(x.Z,{type:"info",showIcon:!0,children:(0,o._N)("If this page is looking a little bare, keep in mind not all browsers support these vitals. [link]",{link:(0,ie.tZ)(j.Z,{href:"https://docs.sentry.io/product/performance/web-vitals/#browser-support",children:(0,o.t)("Read more about browser support.")})})}),(0,ie.BX)(ve,{children:[(0,ie.BX)(k.Z,{condensed:!0,children:[(0,ie.tZ)(Z.Z,{}),(0,ie.tZ)(y.Z,{alignDropdown:"left"})]}),(0,ie.tZ)(ge,{organization:s,projectIds:n.project,query:i,fields:n.fields,onSearch:a}),(0,ie.tZ)(w.Z,{value:r.value,options:S.d,onChange:e=>{(0,z.ec)({eventKey:"performance_views.vitals.filter_changed",eventName:"Performance Views: Change vitals filter",organization_id:s.id,value:e.value}),d(e.value)},triggerProps:{prefix:(0,o.t)("Outliers")},triggerLabel:r.label}),(0,ie.tZ)(f.ZP,{onClick:()=>{(0,z.ec)({eventKey:"performance_views.vitals.reset_view",eventName:"Performance Views: Reset vitals view",organization_id:s.id}),c()},disabled:!p,"data-test-id":"reset-view",children:(0,o.t)("Reset View")})]}),(0,ie.tZ)(me,{organization:s,location:t,eventView:n,dataFilter:r.value,results:e})]})}})})}})}he.displayName="VitalsContent";const ve=(0,h.Z)("div",{target:"ekvr84z1"})("display:grid;gap:",(0,D.Z)(2),";margin-bottom:",(0,D.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:repeat(3, min-content);}@media (min-width: ",(e=>e.theme.breakpoints.xlarge),"){grid-template-columns:auto 1fr auto auto;}"),ge=(0,h.Z)(b.Z,{target:"ekvr84z0"})("@media (min-width: ",(e=>e.theme.breakpoints.small),"){order:1;grid-column:1/5;}@media (min-width: ",(e=>e.theme.breakpoints.xlarge),"){order:initial;grid-column:auto;}"),xe=he;function fe(e){const{location:t,organization:s,projects:o}=e;return(0,ie.tZ)(p.ZP,{location:t,organization:s,projects:o,tab:u.Z.WebVitals,getDocumentTitle:ye,generateEventView:Ze,childComponent:xe})}function ye(e){return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,o.t)("Vitals")].join(" — "):[(0,o.t)("Summary"),(0,o.t)("Vitals")].join(" — ")}function Ze(e){let{location:t,transactionName:s}=e;const o=(0,r.ro)(t.query.query,""),d=new l.MY(o);d.setFilterValues("event.type",["transaction"]),d.setFilterValues("transaction",[s]),Object.keys(d.filters).forEach((e=>{(0,i.h1)(e)&&d.removeFilter(e)}));const c=m.PE.reduce(((e,t)=>e.concat(t.vitals)),[]);return n.ZP.fromNewQueryWithLocation({id:void 0,version:2,name:s,fields:[...c.map((e=>`percentile(${e}, ${m.GW})`)),...c.map((e=>`count_at_least(${e}, 0)`)),...c.map((e=>`count_at_least(${e}, ${a.r9[e].poorThreshold})`))],query:d.formatString(),projects:[]},t)}fe.displayName="TransactionVitals";const be=(0,c.Z)((0,d.Z)(fe))},"../node_modules/lodash/_baseExtremum.js":(e,t,s)=>{var o=s("../node_modules/lodash/isSymbol.js");e.exports=function(e,t,s){for(var n=-1,i=e.length;++n<i;){var a=e[n],r=t(a);if(null!=r&&(void 0===l?r==r&&!o(r):s(r,l)))var l=r,d=a}return d}},"../node_modules/lodash/_baseGt.js":e=>{e.exports=function(e,t){return e>t}},"../node_modules/lodash/throttle.js":(e,t,s)=>{var o=s("../node_modules/lodash/debounce.js"),n=s("../node_modules/lodash/isObject.js");e.exports=function(e,t,s){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return n(s)&&(i="leading"in s?!!s.leading:i,a="trailing"in s?!!s.trailing:a),o(e,t,{leading:i,maxWait:t,trailing:a})}}}]);
//# sourceMappingURL=../sourcemaps/app_components_links_listLink_tsx-app_utils_discover_discoverQuery_tsx-app_views_performance_-060959.35ec3f3133efa27119950c65ba786d9f.js.map