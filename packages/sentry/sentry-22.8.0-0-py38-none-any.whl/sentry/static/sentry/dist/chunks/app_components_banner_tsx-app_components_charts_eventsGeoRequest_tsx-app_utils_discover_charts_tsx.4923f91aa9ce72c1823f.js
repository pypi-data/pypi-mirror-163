"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_banner_tsx-app_components_charts_eventsGeoRequest_tsx-app_utils_discover_charts_tsx"],{"./app/components/banner.tsx":(e,t,r)=>{r.d(t,{Z:()=>w});var n=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/react/index.js")),o=r("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),i=r("./app/components/button.tsx"),a=r("./app/components/buttonBar.tsx"),l=r("./app/icons/index.tsx"),d=r("./app/locale.tsx"),c=r("./app/styles/space.tsx"),u=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const m=e=>`${e}-banner-dismissed`;function p(e){localStorage.setItem(m(e),"true")}const g=e=>{let{title:t,subtitle:r,isDismissable:n=!0,dismissKey:o="generic-banner",className:i,backgroundImg:a,backgroundComponent:l,children:c}=e;const[g,w]=function(e){const t=m(e),[r,n]=(0,s.useState)(localStorage.getItem(t));return["true"===r,()=>{n("true"),p(e)}]}(o);return g?null:(0,u.BX)(h,{backgroundImg:a,className:i,children:[l,n?(0,u.tZ)(k,{onClick:w,"aria-label":(0,d.t)("Close")}):null,(0,u.BX)(b,{children:[(0,u.tZ)(x,{children:t}),(0,u.tZ)(v,{children:r}),(0,u.tZ)(f,{gap:1,children:c})]})]})};g.displayName="Banner",g.dismiss=p;const h=(0,n.Z)("div",{target:"e8az5815"})((e=>e.backgroundImg?(0,o.iv)("background:url(",e.backgroundImg,");background-repeat:no-repeat;background-size:cover;background-position:center center;",""):(0,o.iv)("background-color:",e.theme.gray500,";",""))," display:flex;overflow:hidden;align-items:center;justify-content:center;position:relative;margin-bottom:",(0,c.Z)(2),";box-shadow:",(e=>e.theme.dropShadowLight),";border-radius:",(e=>e.theme.borderRadius),";height:180px;color:",(e=>e.theme.white),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){height:220px;}"),b=(0,n.Z)("div",{target:"e8az5814"})("position:absolute;display:grid;justify-items:center;grid-template-rows:repeat(3, max-content);text-align:center;padding:",(0,c.Z)(4),";"),x=(0,n.Z)("h1",{target:"e8az5813"})("margin:0;@media (min-width: ",(e=>e.theme.breakpoints.small),"){font-size:40px;}"),v=(0,n.Z)("div",{target:"e8az5812"})("margin:0;@media (min-width: ",(e=>e.theme.breakpoints.small),"){font-size:",(e=>e.theme.fontSizeExtraLarge),";}"),f=(0,n.Z)(a.ZP,{target:"e8az5811"})("margin-top:",(0,c.Z)(2),";width:fit-content;"),k=(0,n.Z)(i.ZP,{target:"e8az5810"})("position:absolute;display:block;top:",(0,c.Z)(2),";right:",(0,c.Z)(2),";color:",(e=>e.theme.white),";cursor:pointer;z-index:1;");k.defaultProps={icon:(0,u.tZ)(l.bM,{}),"aria-label":(0,d.t)("Close"),priority:"link",borderless:!0,size:"xs"};const w=g},"./app/components/charts/eventsGeoRequest.tsx":(e,t,r)=>{r.d(t,{Z:()=>a}),r("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=r("../node_modules/react/index.js"),s=r("./app/utils/dates.tsx"),o=r("./app/utils/discover/eventView.tsx"),i=r("./app/utils/discover/genericDiscoverQuery.tsx");const a=e=>{let{api:t,organization:r,yAxis:a,query:l,orderby:d,projects:c,period:u,start:m,end:p,environments:g,referrer:h,children:b}=e;const x=o.ZP.fromSavedQuery({id:void 0,name:"",version:2,fields:Array.isArray(a)?a:[a],query:l,orderby:null!=d?d:"",projects:c,range:null!=u?u:"",start:m?(0,s.v5)(m):void 0,end:p?(0,s.v5)(p):void 0,environment:g}),[v,f]=(0,n.useState)(void 0),[k,w]=(0,n.useState)(!1),[y,Z]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{let e=!0;return Z(!1),v&&w(!0),(0,i.AA)(t,`/organizations/${r.slug}/events-geo/`,{...x.generateQueryStringObject(),referrer:h}).then((t=>{e&&(f([t[0]]),w(!1))})).catch((()=>{e&&(Z(!0),w(!1))})),()=>{e=!1}}),[l,a,m,p,u,g,c,t]),b({errored:y,loading:!v&&!y,reloading:k,tableData:v})}},"./app/utils/discover/charts.tsx":(e,t,r)=>{r.d(t,{CX:()=>i,Xp:()=>u,gu:()=>l,x1:()=>d}),r("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=r("./app/locale.tsx"),s=r("./app/utils.tsx"),o=r("./app/utils/formatters.tsx");function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";return(0,s.ri)(e)?a(e,t):"—"}function a(e,t){if(!(0,s.ri)(e))return"—";switch(t){case"integer":case"number":return e.toLocaleString();case"percentage":return(0,o.rl)(e,2);case"duration":return(0,o.g9)(e/1e3,2,!0);case"size":return(0,s.F)(e);default:return e.toString()}}function l(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return d(e,t,r,n)}function d(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;switch(t){case"integer":case"number":return r?(0,o.Du)(e):e.toLocaleString();case"percentage":return(0,o.rl)(e,0);case"duration":return c(e,n);case"size":return(0,s.F)(e,0);default:return e.toString()}}function c(e,t){var r;if(null!==(r=t)&&void 0!==r||(t=m(e)),0===e)return"0";switch(t){case o.ps:{const t=(e/o.ps).toFixed(0);return(0,n.t)("%swk",t)}case o.x4:{const t=(e/o.x4).toFixed(0);return(0,n.t)("%sd",t)}case o.kr:{const t=(e/o.kr).toFixed(0);return(0,n.t)("%shr",t)}case o.EB:{const t=(e/o.EB).toFixed(0);return(0,n.t)("%smin",t)}case o.sh:{const t=(e/o.sh).toFixed(0);return(0,n.t)("%ss",t)}default:const t=e.toFixed(0);return(0,n.t)("%sms",t)}}function u(e,t){let r=0;const n=function(e,t){var r;let n;if(null!==(r=e[0])&&void 0!==r&&r.data){var s;let r,o=e[0];e.forEach(((n,s)=>{var i;let{seriesName:a,data:l}=n;var d;!1!==(null==t||null===(i=t.selected)||void 0===i?void 0:i[a])&&l.length&&(o=e[s],null!==(d=r)&&void 0!==d||(r=e[s]))})),null!==(s=r)&&void 0!==s&&s.data&&(n={max:Math.max(...r.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e))),min:Math.min(...o.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e)))})}return n}(e,t);if(n){const e=(n.max+n.min)/2;r=m((n.max-n.min)/5),(e/r).toFixed(0).length>6&&(r=m(e))}return r}function m(e){return e>=o.ps?o.ps:e>=o.x4?o.x4:e>=o.kr?o.kr:e>=o.EB?o.EB:e>=o.sh?o.sh:1}}}]);
//# sourceMappingURL=../sourcemaps/app_components_banner_tsx-app_components_charts_eventsGeoRequest_tsx-app_utils_discover_charts_tsx.f170566b1b5ba828b22eab115afe9007.js.map