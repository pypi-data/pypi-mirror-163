"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_dashboardWidgetLibraryModal_index_tsx"],{"./app/components/modals/dashboardWidgetLibraryModal/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>T,modalCss:()=>Z});var a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),r=s("./app/components/tooltip.tsx"),o=s("./app/locale.tsx"),d=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),n=s("./app/views/dashboardsV2/layoutUtils.tsx"),l=s("./app/views/dashboardsV2/types.tsx"),c=s("./app/components/button.tsx"),p=s("./app/components/buttonBar.tsx"),u=(s("../node_modules/core-js/modules/es.array.includes.js"),s("./app/components/alert.tsx")),g=s("./app/styles/space.tsx"),m=s("./app/views/dashboardsV2/widgetLibrary/data.tsx"),y=s("./app/views/dashboardsV2/widgetLibrary/widgetCard.tsx"),b=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function h(e){let{selectedWidgets:t,errored:s,organization:a,setSelectedWidgets:r,setErrored:d}=e,n=m.c;return a.features.includes("dashboards-releases")||(n=n.filter((e=>!(e.widgetType===l.l9.RELEASE)))),(0,b.BX)(i.Fragment,{children:[s&&!t.length?(0,b.tZ)(u.Z,{type:"error",children:(0,o.t)("Please select at least one Widget from our Library. Alternatively, you can build a custom widget from scratch.")}):null,(0,b.tZ)(w,{children:n.map(((e,s)=>(0,b.tZ)(y.Z,{"data-test-id":`widget-library-card-${s}`,widget:e,selectedWidgets:t,setSelectedWidgets:r,setErrored:d},e.title)))})]})}h.displayName="DashboardWidgetLibraryTab";const w=(0,a.Z)("div",{target:"e15svj9l0"})("display:grid;grid-template-columns:repeat(2, minmax(100px, 1fr));grid-template-rows:repeat(2, max-content);row-gap:",(0,g.Z)(1.5),";column-gap:",(0,g.Z)(2),";@media (max-width: 700px){grid-template-columns:auto;}"),x=h;var f=s("./app/components/modals/dashboardWidgetLibraryModal/tabsButtonBar.tsx");function v(e){let{Header:t,Body:s,Footer:a,dashboard:u,organization:g,customWidget:m,initialSelectedWidgets:y,closeModal:h,onAddWidget:w}=e;const[v,Z]=(0,i.useState)(y||[]),[T,W]=(0,i.useState)(!1),E=u.widgets.length+v.length>l.ZU;return(0,b.BX)(i.Fragment,{children:[(0,b.tZ)(t,{closeButton:!0,children:(0,b.tZ)("h4",{children:(0,o.t)("Add Widget(s)")})}),(0,b.BX)(s,{children:[(0,b.tZ)(f.$,{activeTab:f.M.Library,organization:g,dashboard:u,selectedWidgets:v,customWidget:m,onAddWidget:w}),(0,b.tZ)(x,{selectedWidgets:v,errored:T,setSelectedWidgets:Z,setErrored:W,organization:g})]}),(0,b.tZ)(a,{children:(0,b.BX)(p.ZP,{gap:1,children:[(0,b.tZ)(c.ZP,{external:!0,href:"https://docs.sentry.io/product/dashboards/widget-library/",children:(0,o.t)("Read the docs")}),(0,b.tZ)(r.Z,{title:(0,o._N)("Exceeds max widgets ([maxWidgets]) per dashboard. Plese unselect [unselectWidgets] widget(s).",{maxWidgets:l.ZU,unselectWidgets:u.widgets.length+v.length-l.ZU}),disabled:!E,children:(0,b.tZ)(_,{"data-test-id":"confirm-widgets",priority:"primary",disabled:E,type:"button",onClick:()=>{v.length?((0,d.Z)("dashboards_views.widget_library.add",{organization:g,num_widgets:v.length}),v.forEach((e=>{(0,d.Z)("dashboards_views.widget_library.add_widget",{organization:g,title:e.title})})),w([...u.widgets,...v.map(n.TE)]),h()):W(!0)},children:v.length?(0,o._N)("Add ([numWidgets])",{numWidgets:v.length}):(0,o.t)("Add")})})]})})]})}v.displayName="DashboardWidgetLibraryModal";const Z={name:"l07bt5",styles:"width:100%;max-width:700px;margin:70px auto"},_=(0,a.Z)(c.ZP,{target:"e1g50rat0"})({name:"g740v2",styles:"min-width:90px"}),T=v},"./app/components/modals/dashboardWidgetLibraryModal/tabsButtonBar.tsx":(e,t,s)=>{s.d(t,{M:()=>b,$:()=>h});var a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("./app/actionCreators/modal.tsx"),r=s("./app/components/featureBadge.tsx"),o=s("./app/locale.tsx"),d=s("./app/styles/space.tsx"),n=s("./app/utils.tsx"),l=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),c=s("./app/views/dashboardsV2/types.tsx"),p=s("./app/components/button.tsx"),u=s("./app/components/buttonBar.tsx");const g="dashboard-widget-library-visits";function m(){const e=localStorage.getItem(g);return null===e||(parseInt(e,10)||0)<5}var y=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let b;function h(e){let{activeTab:t,organization:s,dashboard:a,selectedWidgets:d,customWidget:p,onAddWidget:u}=e;return(0,y.BX)(w,{active:t,children:[(0,y.tZ)(f,{barId:b.Custom,onClick:()=>{t!==b.Custom&&((0,l.Z)("dashboards_views.widget_library.switch_tab",{organization:s,to:b.Custom}),(0,i.openAddDashboardWidgetModal)({organization:s,dashboard:a,selectedWidgets:d,widget:p,source:c.EN.LIBRARY,onAddLibraryWidget:u}))},children:(0,o.t)("Custom Widget")}),(0,y.BX)(x,{barId:b.Library,"data-test-id":"library-tab",onClick:()=>{t!==b.Library&&((0,l.Z)("dashboards_views.widget_library.switch_tab",{organization:s,to:b.Library}),function(){const e=localStorage.getItem(g);localStorage.setItem(g,null===e?"1":`${(parseInt(e,10)||0)+1}`)}(),(0,n.ri)(u)&&(0,i.openDashboardWidgetLibraryModal)({organization:s,dashboard:a,customWidget:p,initialSelectedWidgets:d,onAddWidget:u}))},children:[(0,o.t)("Widget Library"),m()&&(0,y.tZ)(r.Z,{type:"new"})]})]})}!function(e){e.Library="library",e.Custom="custom"}(b||(b={})),h.displayName="TabsButtonBar";const w=(0,a.Z)(u.ZP,{target:"ea8om9w2"})("display:inline-flex;margin-bottom:",(0,d.Z)(2),";"),x=(0,a.Z)(p.ZP,{target:"ea8om9w1"})({name:"ygoyvl",styles:"border-top-left-radius:0;border-bottom-left-radius:0"}),f=(0,a.Z)(p.ZP,{target:"ea8om9w0"})({name:"1ga8o78",styles:"border-top-right-radius:0;border-bottom-right-radius:0;line-height:17px"})},"./app/views/dashboardsV2/widgetLibrary/data.tsx":(e,t,s)=>{s.d(t,{P:()=>d,c:()=>o});var a=s("./app/locale.tsx"),i=s("./app/utils/discover/types.tsx"),r=s("./app/views/dashboardsV2/types.tsx");const o=[{id:"duration-distribution",title:(0,a.t)("Duration Distribution"),description:(0,a.t)("Compare transaction durations across different percentiles."),displayType:r.FO.LINE,widgetType:r.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["p50(transaction.duration)","p75(transaction.duration)","p95(transaction.duration)"],aggregates:["p50(transaction.duration)","p75(transaction.duration)","p95(transaction.duration)"],columns:[],orderby:""}]},{id:"high-throughput-transactions",title:(0,a.t)("High Throughput Transactions"),description:(0,a.t)("Top 5 transactions with the largest volume."),displayType:r.FO.TOP_N,widgetType:r.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["transaction","count()"],aggregates:["count()"],columns:["transaction"],orderby:"-count()"}]},{id:"crash-rates-recent-releases",title:(0,a.t)("Crash Rates for Recent Releases"),description:(0,a.t)("Percentage of crashed sessions for latest releases."),displayType:r.FO.LINE,widgetType:r.l9.RELEASE,interval:"5m",limit:8,queries:[{name:"",conditions:"",fields:["crash_rate(session)","release"],aggregates:["crash_rate(session)"],columns:["release"],orderby:"-release"}]},{id:"session-health",title:(0,a.t)("Session Health"),description:(0,a.t)("Number of abnormal,crashed, errored and healthy sessions."),displayType:r.FO.TABLE,widgetType:r.l9.RELEASE,interval:"5m",queries:[{name:"",conditions:"",fields:["session.status","sum(session)"],aggregates:["sum(session)"],columns:["session.status"],orderby:""}]},{id:"lcp-country",title:(0,a.t)("LCP by Country"),description:(0,a.t)("Density map showing page load times by country."),displayType:r.FO.WORLD_MAP,widgetType:r.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"has:geo.country_code",fields:["p75(measurements.lcp)"],aggregates:["p75(measurements.lcp)"],columns:[],orderby:""}]},{id:"miserable-users",title:(0,a.t)("Miserable Users"),description:(0,a.t)("Unique users who have experienced slow load times."),displayType:r.FO.BIG_NUMBER,widgetType:r.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"",fields:["count_miserable(user,300)"],aggregates:["count_miserable(user,300)"],columns:[],orderby:""}]},{id:"slow-vs-fast",title:(0,a.t)("Slow vs. Fast Transactions"),description:(0,a.t)("Percentage breakdown of transaction durations over and under 300ms."),displayType:r.FO.BAR,widgetType:r.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["equation|(count_if(transaction.duration,greater,300) / count()) * 100","equation|(count_if(transaction.duration,lessOrEquals,300) / count()) * 100"],aggregates:["equation|(count_if(transaction.duration,greater,300) / count()) * 100","equation|(count_if(transaction.duration,lessOrEquals,300) / count()) * 100"],columns:[],orderby:""}]},{id:"issue-for-review",title:(0,a.t)("Issues For Review"),description:(0,a.t)("Most recently seen unresolved issues for review."),displayType:r.FO.TABLE,widgetType:r.l9.ISSUE,interval:"5m",queries:[{name:"",conditions:"is:unresolved is:for_review",fields:["issue","assignee","events","title"],aggregates:[],columns:["issue","assignee","events","title"],orderby:"date"}]},{id:"top-unhandled",title:(0,a.t)("Top Unhandled Error Types"),description:(0,a.t)("Most frequently encountered unhandled errors."),displayType:r.FO.TOP_N,widgetType:r.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"error.unhandled:true",fields:["error.type","count()"],aggregates:["count()"],columns:["error.type"],orderby:"-count()"}]},{id:"users-affected",title:(0,a.t)("Users Affected by Errors"),description:(0,a.t)("Footprint of unique users affected by errors."),displayType:r.FO.LINE,widgetType:r.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:error",fields:["count_unique(user)","count()"],aggregates:["count_unique(user)","count()"],columns:[],orderby:""}]}];function d(){return o.map((e=>e.displayType===r.FO.TOP_N?{...e,displayType:r.FO.AREA,limit:i.hY}:e))}},"./app/views/dashboardsV2/widgetLibrary/widgetCard.tsx":(e,t,s)=>{s.d(t,{T:()=>u,Z:()=>w});var a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),r=s("./app/components/panels/index.tsx"),o=s("./app/icons/index.tsx"),d=s("./app/icons/iconGraphArea.tsx"),n=s("./app/icons/iconGraphBar.tsx"),l=s("./app/styles/space.tsx"),c=s("./app/views/dashboardsV2/types.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){switch(e){case c.FO.TABLE:return o.dc;case c.FO.WORLD_MAP:return o.vc;case c.FO.BIG_NUMBER:return o.A8;case c.FO.BAR:return n.U;case c.FO.TOP_N:return o.CC;case c.FO.AREA:return d.g;case c.FO.LINE:default:return o.TX}}function g(e){let{selectedWidgets:t,widget:s,setSelectedWidgets:a,"data-test-id":o}=e;const[d,n]=(0,i.useState)(t.includes(s)),l=u(s.displayType);return(0,p.tZ)(h,{"data-test-id":o,selected:d,onClick:()=>{if(d){const e=t.filter((e=>s!==e));a(e)}else{const e=t.slice().concat(s);a(e)}n(!d)},children:(0,p.BX)(r.N,{children:[(0,p.BX)(y,{children:[(0,p.tZ)(l,{size:"xs"}),(0,p.tZ)(m,{children:s.title})]}),(0,p.tZ)(b,{children:s.description})]})})}g.displayName="WidgetLibraryCard";const m=(0,a.Z)("div",{target:"e11j9f793"})("padding-left:",(0,l.Z)(1),";font-size:16px;line-height:140%;color:",(e=>e.theme.gray500),";"),y=(0,a.Z)("div",{target:"e11j9f792"})("padding:",(0,l.Z)(1.5)," ",(0,l.Z)(2),";padding-bottom:",(0,l.Z)(.5),";display:flex;align-items:center;"),b=(0,a.Z)("div",{target:"e11j9f791"})("padding:0 ",(0,l.Z)(1)," ",(0,l.Z)(1.5)," 36px;font-size:14px;line-height:21px;color:",(e=>e.theme.gray300),";"),h=(0,a.Z)(r.s_,{target:"e11j9f790"})("border:",(e=>e.selected?`2px solid ${e.theme.active}`:`1px solid ${e.theme.border}`),";margin:",(e=>e.selected?"-1px":0),";box-sizing:border-box;box-shadow:0px 2px 1px rgba(0, 0, 0, 0.08);cursor:pointer;"),w=g}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_dashboardWidgetLibraryModal_index_tsx.85ffb9aa222ecef79d2f33a979ec09d7.js.map