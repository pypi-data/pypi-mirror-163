"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_profiling_index_tsx"],{"./app/views/profiling/index.tsx":(e,i,t)=>{t.r(i),t.d(i,{default:()=>x}),t("../node_modules/core-js/modules/web.dom-collections.iterator.js");var a=t("../node_modules/react/index.js"),o=t("../node_modules/@sentry/hub/esm/exports.js"),n=t("./app/actionCreators/prompts.tsx"),s=t("./app/components/acl/feature.tsx"),r=t("./app/components/alert.tsx"),d=t("./app/components/loadingIndicator.tsx"),l=t("./app/locale.tsx"),p=t("./app/styles/organization.tsx"),c=t("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),u=t("./app/utils/useApi.tsx"),g=t("./app/utils/withOrganization.tsx"),m=t("./app/views/profiling/legacyProfilingOnboarding.tsx"),f=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function b(e){let{organization:i,children:t}=e;const g=(0,u.Z)(),[b,x]=(0,a.useState)({type:"initial"});(0,a.useEffect)((()=>{x({type:"loading"}),(0,n.vu)(g,{organizationId:i.id,feature:"profiling_onboarding"}).then((e=>{x({type:"resolved",data:e})})).catch((e=>{o.Tb(e),x({type:"errored",error:(0,l.t)("Error: Unable to load prompt data")})}))}),[g,i]);const h=(0,a.useCallback)((e=>(x({type:"resolved",data:{dismissedTime:Date.now()}}),(0,c.Z)("profiling_views.onboarding_action",{action:e,organization:i}),(0,n.Xt)(g,{feature:"profiling_onboarding",organizationId:i.id,status:"dismissed"}))),[i,g]),v=(0,a.useCallback)((()=>{h("done")}),[h]),y=(0,a.useCallback)((()=>{h("dismissed")}),[h]);return(0,f.tZ)(s.Z,{hookName:"feature-disabled:profiling-page",features:["profiling"],organization:i,renderDisabled:()=>(0,f.tZ)(p.JH,{children:(0,f.tZ)(r.Z,{type:"warning",children:(0,l.t)("You don't have access to this feature")})}),children:"loading"===b.type?(0,f.tZ)(d.Z,{}):(Z=b,"resolved"===Z.type&&"number"!=typeof(null===(_=Z.data)||void 0===_?void 0:_.dismissedTime)?(0,f.tZ)(m.Z,{organization:i,onDismissClick:y,onDoneClick:v}):t)});var Z,_}b.displayName="ProfilingContainer";const x=(0,g.Z)(b)}}]);
//# sourceMappingURL=../sourcemaps/app_views_profiling_index_tsx.9ab409209e8eb74d68f72267f007a26d.js.map