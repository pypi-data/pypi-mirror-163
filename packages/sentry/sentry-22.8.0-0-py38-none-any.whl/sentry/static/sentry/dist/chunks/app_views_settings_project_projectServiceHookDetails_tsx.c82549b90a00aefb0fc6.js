"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_project_projectServiceHookDetails_tsx"],{"./app/components/forms/controls/multipleCheckbox.tsx":(e,t,s)=>{s.d(t,{Z:()=>h});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),r=s("./app/utils.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=(0,n.Z)("div",{target:"eib0h5u3"})({name:"5kov97",styles:"display:flex;flex-wrap:wrap"}),l=(0,n.Z)("label",{target:"eib0h5u2"})({name:"1ryhb28",styles:"font-weight:normal;white-space:nowrap;margin-right:10px;margin-bottom:10px;width:20%"}),p=(0,n.Z)("span",{target:"eib0h5u1"})({name:"1i7v2bx",styles:"margin-left:3px"});class c extends i.Component{constructor(){super(...arguments),(0,o.Z)(this,"onChange",((e,t)=>{const{value:s,onChange:o}=this.props;let n=[];"function"==typeof o&&(n=t.target.checked?s?[...s,e]:[s]:s.filter((t=>t!==e)),o(n,t))}))}render(){const{disabled:e,choices:t,value:s}=this.props;return(0,a.tZ)(d,{children:t.map((t=>{let[o,n]=t;return(0,a.tZ)(m,{children:(0,a.BX)(l,{children:[(0,a.tZ)("input",{type:"checkbox",value:o,onChange:this.onChange.bind(this,o),disabled:e,checked:(0,r.ri)(s)&&-1!==s.indexOf(o)}),(0,a.tZ)(p,{children:n})]})},o)}))})}}c.displayName="MultipleCheckbox";const h=c,m=(0,n.Z)("div",{target:"eib0h5u0"})("width:100%;@media (min-width: ",(e=>e.theme.breakpoints.small),"){width:50%;}@media (min-width: ",(e=>e.theme.breakpoints.medium),"){width:33.333%;}@media (min-width: ",(e=>e.theme.breakpoints.large),"){width:25%;}")},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});var o=s("./app/components/asyncComponent.tsx"),n=s("./app/components/sentryDocumentTitle.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class r extends o.Z{getTitle(){return""}render(){return(0,i.tZ)(n.Z,{title:this.getTitle(),children:this.renderComponent()})}}r.displayName="AsyncView"},"./app/views/settings/project/projectServiceHookDetails.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),i=s("../node_modules/react-router/es/index.js"),r=s("./app/actionCreators/indicator.tsx"),a=s("./app/components/asyncComponent.tsx"),d=s("./app/components/button.tsx"),l=s("./app/components/charts/miniBarChart.tsx"),p=s("./app/components/errorBoundary.tsx"),c=s("./app/components/forms/field/index.tsx"),h=s("./app/components/forms/textCopyInput.tsx"),m=s("./app/components/panels/index.tsx"),u=s("./app/locale.tsx"),x=s("./app/utils/getDynamicText.tsx"),g=s("./app/views/asyncView.tsx"),b=s("./app/views/settings/components/emptyMessage.tsx"),Z=s("./app/views/settings/components/settingsPageHeader.tsx"),v=s("./app/views/settings/project/serviceHookSettingsForm.tsx"),w=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class j extends a.Z{getEndpoints(){const e=Math.floor((new Date).getTime()/1e3),t=e-2592e3,{hookId:s,orgId:o,projectId:n}=this.props.params;return[["stats",`/projects/${o}/${n}/hooks/${s}/stats/`,{query:{since:t,until:e,resolution:"1d"}}]]}renderBody(){const{stats:e}=this.state;if(null===e)return null;let t=!0;const s={seriesName:(0,u.t)("Events"),data:e.map((e=>(e.total&&(t=!1),{name:1e3*e.ts,value:e.total})))};return(0,w.BX)(m.s_,{children:[(0,w.tZ)(m.V9,{children:(0,u.t)("Events in the last 30 days (by day)")}),(0,w.tZ)(m.N,{withPadding:!0,children:t?(0,w.tZ)(b.Z,{title:(0,u.t)("Nothing recorded in the last 30 days."),description:(0,u.t)("Total webhooks fired for this configuration.")}):(0,w.tZ)(l.Z,{isGroupedByDate:!0,showTimeInTooltip:!0,labelYAxisExtents:!0,series:[s],height:150})})]})}}class y extends g.Z{constructor(){super(...arguments),(0,o.Z)(this,"onDelete",(()=>{const{orgId:e,projectId:t,hookId:s}=this.props.params;(0,r.E3)((0,u.t)("Saving changesâ€¦")),this.api.request(`/projects/${e}/${t}/hooks/${s}/`,{method:"DELETE",success:()=>{(0,r.B8)(),i.browserHistory.push(`/settings/${e}/projects/${t}/hooks/`)},error:()=>{(0,r.Iw)((0,u.t)("Unable to remove application. Please try again."))}})}))}getEndpoints(){const{orgId:e,projectId:t,hookId:s}=this.props.params;return[["hook",`/projects/${e}/${t}/hooks/${s}/`]]}renderBody(){const{orgId:e,projectId:t,hookId:s}=this.props.params,{hook:o}=this.state;return o?(0,w.BX)(n.Fragment,{children:[(0,w.tZ)(Z.Z,{title:(0,u.t)("Service Hook Details")}),(0,w.tZ)(p.Z,{children:(0,w.tZ)(j,{params:this.props.params})}),(0,w.tZ)(v.Z,{orgId:e,projectId:t,hookId:s,initialData:{...o,isActive:"disabled"!==o.status}}),(0,w.BX)(m.s_,{children:[(0,w.tZ)(m.V9,{children:(0,u.t)("Event Validation")}),(0,w.BX)(m.N,{children:[(0,w.BX)(m.aU,{type:"info",showIcon:!0,children:["Sentry will send the ",(0,w.tZ)("code",{children:"X-ServiceHook-Signature"})," header built using"," ",(0,w.tZ)("code",{children:"HMAC(SHA256, [secret], [payload])"}),". You should always verify this signature before trusting the information provided in the webhook."]}),(0,w.tZ)(c.Z,{label:(0,u.t)("Secret"),flexibleControlStateSize:!0,inline:!1,help:(0,u.t)("The shared secret used for generating event HMAC signatures."),children:(0,w.tZ)(h.ZP,{children:(0,x.Z)({value:o.secret,fixed:"a dynamic secret value"})})})]})]}),(0,w.BX)(m.s_,{children:[(0,w.tZ)(m.V9,{children:(0,u.t)("Delete Hook")}),(0,w.tZ)(m.N,{children:(0,w.tZ)(c.Z,{label:(0,u.t)("Delete Hook"),help:(0,u.t)("Removing this hook is immediate and permanent."),children:(0,w.tZ)("div",{children:(0,w.tZ)(d.ZP,{priority:"danger",onClick:this.onDelete,children:(0,u.t)("Delete Hook")})})})})]})]}):null}}},"./app/views/settings/project/serviceHookSettingsForm.tsx":(e,t,s)=>{s.d(t,{Z:()=>x});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),i=s("../node_modules/react-router/es/index.js"),r=s("./app/components/forms/apiForm.tsx"),a=s("./app/components/forms/booleanField.tsx"),d=s("./app/components/forms/controls/multipleCheckbox.tsx"),l=s("./app/components/forms/formField/index.tsx"),p=s("./app/components/forms/textField.tsx"),c=s("./app/components/panels/index.tsx"),h=s("./app/locale.tsx"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=["event.alert","event.created"].map((e=>[e,e]));class x extends n.Component{constructor(){super(...arguments),(0,o.Z)(this,"onSubmitSuccess",(()=>{const{orgId:e,projectId:t}=this.props;i.browserHistory.push(`/settings/${e}/projects/${t}/hooks/`)}))}render(){const{initialData:e,orgId:t,projectId:s,hookId:o}=this.props,n=o?`/projects/${t}/${s}/hooks/${o}/`:`/projects/${t}/${s}/hooks/`;return(0,m.tZ)(c.s_,{children:(0,m.BX)(r.Z,{apiMethod:o?"PUT":"POST",apiEndpoint:n,initialData:e,onSubmitSuccess:this.onSubmitSuccess,footerStyle:{marginTop:0,paddingRight:20},submitLabel:o?(0,h.t)("Save Changes"):(0,h.t)("Create Hook"),children:[(0,m.tZ)(c.V9,{children:(0,h.t)("Hook Configuration")}),(0,m.BX)(c.N,{children:[(0,m.tZ)(a.Z,{name:"isActive",label:(0,h.t)("Active")}),(0,m.tZ)(p.Z,{name:"url",label:(0,h.t)("URL"),required:!0,help:(0,h.t)("The URL which will receive events.")}),(0,m.tZ)(l.Z,{name:"events",label:(0,h.t)("Events"),inline:!1,help:(0,h.t)("The event types you wish to subscribe to."),children:e=>{let{value:t,onChange:s}=e;return(0,m.tZ)(d.Z,{onChange:s,value:t,choices:u})}})]})]})})}}x.displayName="ServiceHookSettingsForm"}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_project_projectServiceHookDetails_tsx.ba0c243813e1a79b06f84b2fe3b2d24e.js.map