"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_profiling_content_tsx"],{"./app/components/charts/areaChart.tsx":(e,t,o)=>{o.d(t,{T:()=>i});var n=o("./app/components/charts/series/lineSeries.tsx"),r=o("./app/components/charts/baseChart.tsx"),s=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{series:t,stacked:o,colors:i,...a}=e;return(0,s.tZ)(r.Z,{...a,"data-test-id":"area-chart",colors:i,series:t.map(((e,t)=>{let{seriesName:r,data:s,...a}=e;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.Z)({...e})}({stack:o?"area":void 0,name:r,data:s.map((e=>{let{name:t,value:o}=e;return[t,o]})),lineStyle:{color:null==i?void 0:i[t],opacity:1,width:.4},areaStyle:{color:null==i?void 0:i[t],opacity:1},animation:!1,animationThreshold:1,animationDuration:0,...a})}))})}i.displayName="AreaChart"},"./app/components/charts/chartZoom.tsx":(e,t,o)=>{o.d(t,{Z:()=>f});var n=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/react/index.js")),s=o("../node_modules/moment/moment.js"),i=o.n(s),a=o("../node_modules/query-string/index.js"),l=o("./app/actionCreators/pageFilters.tsx"),c=o("./app/components/charts/components/dataZoomInside.tsx");o("../node_modules/echarts/lib/component/dataZoomSlider.js");const u={realtime:!1,showDetail:!1,left:0,right:6,bottom:8};function d(e){return e&&Array.isArray(e)?e:[{...u,...e}]}var p=o("./app/components/charts/components/toolBox.tsx"),m=o("./app/utils/callIfFunction.tsx"),h=o("./app/utils/dates.tsx");const g=e=>e?i().utc(e).format(i().HTML5_FMT.DATETIME_LOCAL_SECONDS):null;class x extends r.Component{constructor(e){var t;super(e),t=this,(0,n.Z)(this,"history",void 0),(0,n.Z)(this,"currentPeriod",void 0),(0,n.Z)(this,"zooming",null),(0,n.Z)(this,"saveCurrentPeriod",(e=>{this.currentPeriod={period:e.period,start:g(e.start),end:g(e.end)}})),(0,n.Z)(this,"setPeriod",(function(e){let{period:o,start:n,end:r}=e,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{router:i,onZoom:c,usePageDate:u}=t.props,d=g(n),p=g(r);s&&t.history.push(t.currentPeriod),(0,m.g)(c,{period:o,start:d,end:p}),t.zooming=()=>{if(u&&i){const e={...i.location.query,pageStart:n?(0,h.v5)(n):void 0,pageEnd:r?(0,h.v5)(r):void 0,pageStatsPeriod:null!=o?o:void 0};a.stringify(e)!==a.stringify(i.location.query)&&i.push({pathname:i.location.pathname,query:e})}else(0,l.dR)({period:o,start:d?(0,h.hC)(d):d,end:p?(0,h.hC)(p):p},i);t.saveCurrentPeriod({period:o,start:n,end:r})}})),(0,n.Z)(this,"handleChartReady",(e=>{(0,m.g)(this.props.onChartReady,e)})),(0,n.Z)(this,"handleZoomRestore",((e,t)=>{this.history.length&&(this.setPeriod(this.history[0]),this.history=[],(0,m.g)(this.props.onRestore,e,t))})),(0,n.Z)(this,"handleDataZoom",((e,t)=>{const o=t.getModel(),{startValue:n,endValue:r}=o._payload.batch[0];if(null===n&&null===r){const e=this.history.pop();if(!e)return;this.setPeriod(e)}else{const e=i().utc(n),t=i().utc(r);this.setPeriod({period:null,start:e,end:t},!0)}(0,m.g)(this.props.onDataZoom,e,t)})),(0,n.Z)(this,"handleChartFinished",((e,t)=>{var o;"function"==typeof this.zooming&&(this.zooming(),this.zooming=null);const n=null===(o=t._componentsViews)||void 0===o?void 0:o.find((e=>e._features&&e._features.dataZoom));n&&!n._features.dataZoom._isZoomActive&&t.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0}),(0,m.g)(this.props.onFinished)})),this.history=[],this.saveCurrentPeriod(e)}componentDidUpdate(){this.props.disabled||this.saveCurrentPeriod(this.props)}render(){const{utc:e,start:t,end:o,disabled:n,children:r,xAxisIndex:s,router:i,onZoom:a,onRestore:l,onChartReady:u,onDataZoom:m,onFinished:g,showSlider:x,chartZoomOptions:f,...y}=this.props,Z=null!=e?e:void 0,v=t?(0,h.hC)(t):void 0,b=o?(0,h.hC)(o):void 0;return r(n?{utc:Z,start:v,end:b,...y}:{isGroupedByDate:!0,onChartReady:this.handleChartReady,utc:Z,start:v,end:b,dataZoom:x?[...d({xAxisIndex:s,...f}),...(0,c.Z)({xAxisIndex:s,...f})]:(0,c.Z)({xAxisIndex:s,...f}),showTimeInTooltip:!0,toolBox:(0,p.Z)({},{dataZoom:{title:{zoom:"",back:""},iconStyle:{borderWidth:0,color:"transparent",opacity:0}}}),onDataZoom:this.handleDataZoom,onFinished:this.handleChartFinished,onRestore:this.handleZoomRestore,...y})}}x.displayName="ChartZoom";const f=x},"./app/components/charts/components/dataZoomInside.tsx":(e,t,o)=>{o.d(t,{Z:()=>r}),o("../node_modules/echarts/lib/component/dataZoomInside.js");const n={type:"inside",zoomOnMouseWheel:!1,zoomLock:!0,throttle:50};function r(e){return e&&Array.isArray(e)?e:[{...n,...e}]}},"./app/components/charts/components/toolBox.tsx":(e,t,o)=>{function n(){let{dataZoom:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e?{dataZoom:{yAxisIndex:"none",title:{zoom:"zoom",back:"undo"},...e}}:{},...t}}function r(e,t){return{right:0,top:0,itemSize:16,z:-1,feature:n(t),...e}}o.d(t,{Z:()=>r})},"./app/components/gridEditable/sortLink.tsx":(e,t,o)=>{o.d(t,{Z:()=>m});var n=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=o("../node_modules/lodash/omit.js"),s=o.n(r),i=o("./app/components/links/link.tsx"),a=o("./app/icons/index.tsx"),l=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{align:t,title:o,canSort:n,generateSortLink:r,onClick:s,direction:i}=e;const a=r();if(!a||!n)return(0,l.tZ)(d,{align:t,children:o});const c=i?(0,l.tZ)(p,{size:"xs",direction:"desc"===i?"down":"up"}):null;return(0,l.BX)(u,{align:t,to:a,onClick:s,children:[o," ",c]})}c.displayName="SortLink";const u=(0,n.Z)((e=>{const t=s()(e,["align"]);return(0,l.tZ)(i.Z,{...t})}),{target:"e1xb2te62"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(e=>e.align?`text-align: ${e.align};`:""),";"),d=(0,n.Z)("div",{target:"e1xb2te61"})("display:block;width:100%;white-space:nowrap;",(e=>e.align?`text-align: ${e.align};`:""),";"),p=(0,n.Z)(a.CC,{target:"e1xb2te60"})({name:"40f4ru",styles:"vertical-align:top"}),m=c},"./app/components/performanceDuration.tsx":(e,t,o)=>{o.d(t,{Z:()=>a});var n=o("./app/components/duration.tsx"),r=o("./app/utils.tsx"),s=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){const t=function(e){return(0,r.ri)(e.nanoseconds)}(e)?e.nanoseconds/1e9:function(e){return(0,r.ri)(e.milliseconds)}(e)?e.milliseconds/1e3:e.seconds;return(0,s.tZ)(n.Z,{abbreviation:e.abbreviation,seconds:t,fixedDigits:2})}i.displayName="PerformanceDuration";const a=i},"./app/utils/discover/charts.tsx":(e,t,o)=>{o.d(t,{CX:()=>i,Xp:()=>d,gu:()=>l,x1:()=>c}),o("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=o("./app/locale.tsx"),r=o("./app/utils.tsx"),s=o("./app/utils/formatters.tsx");function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";return(0,r.ri)(e)?a(e,t):"—"}function a(e,t){if(!(0,r.ri)(e))return"—";switch(t){case"integer":case"number":return e.toLocaleString();case"percentage":return(0,s.rl)(e,2);case"duration":return(0,s.g9)(e/1e3,2,!0);case"size":return(0,r.F)(e);default:return e.toString()}}function l(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return c(e,t,o,n)}function c(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;switch(t){case"integer":case"number":return o?(0,s.Du)(e):e.toLocaleString();case"percentage":return(0,s.rl)(e,0);case"duration":return u(e,n);case"size":return(0,r.F)(e,0);default:return e.toString()}}function u(e,t){var o;if(null!==(o=t)&&void 0!==o||(t=p(e)),0===e)return"0";switch(t){case s.ps:{const t=(e/s.ps).toFixed(0);return(0,n.t)("%swk",t)}case s.x4:{const t=(e/s.x4).toFixed(0);return(0,n.t)("%sd",t)}case s.kr:{const t=(e/s.kr).toFixed(0);return(0,n.t)("%shr",t)}case s.EB:{const t=(e/s.EB).toFixed(0);return(0,n.t)("%smin",t)}case s.sh:{const t=(e/s.sh).toFixed(0);return(0,n.t)("%ss",t)}default:const t=e.toFixed(0);return(0,n.t)("%sms",t)}}function d(e,t){let o=0;const n=function(e,t){var o;let n;if(null!==(o=e[0])&&void 0!==o&&o.data){var r;let o,s=e[0];e.forEach(((n,r)=>{var i;let{seriesName:a,data:l}=n;var c;!1!==(null==t||null===(i=t.selected)||void 0===i?void 0:i[a])&&l.length&&(s=e[r],null!==(c=o)&&void 0!==c||(o=e[r]))})),null!==(r=o)&&void 0!==r&&r.data&&(n={max:Math.max(...o.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e))),min:Math.min(...s.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e)))})}return n}(e,t);if(n){const e=(n.max+n.min)/2;o=p((n.max-n.min)/5),(e/o).toFixed(0).length>6&&(o=p(e))}return o}function p(e){return e>=s.ps?s.ps:e>=s.x4?s.x4:e>=s.kr?s.kr:e>=s.EB?s.EB:e>=s.sh?s.sh:1}},"./app/utils/profiling/hooks/useProfileFilters.tsx":(e,t,o)=>{o.d(t,{J:()=>a}),o("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=o("../node_modules/react/index.js"),r=o("./app/components/organizations/pageFilters/parse.tsx"),s=o("./app/utils/useApi.tsx"),i=o("./app/utils/useOrganization.tsx");function a(e){let{query:t,selection:o}=e;const a=(0,s.Z)(),l=(0,i.Z)(),[c,u]=(0,n.useState)({});return(0,n.useEffect)((()=>{if(o)return function(e,t,o,n){return e.requestPromise(`/organizations/${t.slug}/profiling/filters/`,{method:"GET",query:{query:o,project:n.projects,environment:n.environments,...(0,r.fK)(n.datetime)}})}(a,l,t,o).then((e=>{const t=e.reduce(((e,t)=>(e[t.key]={...t,predefined:!0},e)),{});u(t)})),()=>a.clear()}),[a,l,t,o]),c}},"./app/utils/profiling/routes.tsx":(e,t,o)=>{function n(e){let{orgSlug:t}=e;return`/organizations/${t}/profiling/`}function r(e){let{orgSlug:t}=e;return`/organizations/${t}/profiling/onboarding/`}function s(e){let{orgSlug:t,projectSlug:o,profileId:n}=e;return`/organizations/${t}/profiling/profile/${o}/${n}/flamechart/`}function i(e){let{location:t,orgSlug:o,query:r}=e;return{pathname:n({orgSlug:o}),query:{...null==t?void 0:t.query,...r}}}function a(e){let{location:t,orgSlug:o,projectSlug:n,transaction:r,query:s}=e;const i=function(e){let{orgSlug:t,projectSlug:o}=e;return`/organizations/${t}/profiling/summary/${o}/`}({orgSlug:o,projectSlug:n});return{pathname:i,query:{...null==t?void 0:t.query,...s,transaction:r}}}function l(e){let{location:t,orgSlug:o,projectSlug:n,profileId:r,query:i}=e;return{pathname:s({orgSlug:o,projectSlug:n,profileId:r}),query:{...null==t?void 0:t.query,...i}}}function c(e){let{location:t,orgSlug:o,projectSlug:n,profileId:r,query:s}=e;const i=function(e){let{orgSlug:t,projectSlug:o,profileId:n}=e;return`/organizations/${t}/profiling/profile/${o}/${n}/details/`}({orgSlug:o,projectSlug:n,profileId:r});return{pathname:i,query:{...null==t?void 0:t.query,...s}}}o.d(t,{E7:()=>n,O$:()=>s,Qy:()=>c,R0:()=>a,TH:()=>l,XR:()=>i,i5:()=>r})},"./app/utils/profiling/tableRenderer.tsx":(e,t,o)=>{o.d(t,{w:()=>s});var n=o("./app/components/gridEditable/sortLink.tsx"),r=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function s(e){let{currentSort:t,generateSortLink:o,rightAlignedColumns:s,sortableColumns:i}=e;return(e,a)=>{var l;return(0,r.tZ)(n.Z,{align:null!=s&&s.has(e.key)?"right":"left",title:e.name,direction:(null==t?void 0:t.column)===e.key?null==t?void 0:t.direction:void 0,canSort:(null==i?void 0:i.has(e.key))||!1,generateSortLink:null!==(l=null==o?void 0:o(e.key))&&void 0!==l?l:()=>{}})}}},"./app/utils/useLocation.tsx":(e,t,o)=>{o.d(t,{T:()=>r});var n=o("./app/utils/useRouteContext.tsx");function r(){return(0,n.s)().location}},"./app/views/profiling/content.tsx":(e,t,o)=>{o.r(t),o.d(t,{default:()=>pe});var n=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=o("../node_modules/react/index.js"),s=o("../node_modules/react-router/es/index.js"),i=o("./app/components/button.tsx"),a=o("./app/components/datePageFilter.tsx"),l=o("./app/components/environmentPageFilter.tsx"),c=o("./app/components/layouts/thirds.tsx"),u=o("./app/components/noProjectMessage.tsx"),d=o("./app/components/organizations/pageFilterBar.tsx"),p=o("./app/components/organizations/pageFilters/container.tsx"),m=o("./app/components/pageHeading.tsx"),h=o("./app/components/pagination.tsx"),g=(o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("./app/components/count.tsx")),x=o("./app/components/dateTime.tsx"),f=o("./app/components/gridEditable/index.tsx"),y=o("./app/components/idBadge/projectBadge.tsx"),Z=o("./app/components/links/link.tsx"),v=o("./app/components/performanceDuration.tsx"),b=o("./app/locale.tsx"),j=o("./app/utils.tsx"),S=o("./app/utils/discover/styles.tsx"),w=o("./app/utils/profiling/routes.tsx"),k=o("./app/utils/profiling/tableRenderer.tsx"),_=o("./app/utils/useLocation.tsx"),C=o("./app/utils/useOrganization.tsx"),q=o("./app/utils/useProjects.tsx"),P=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function z(e){const t=(0,_.T)(),o=(0,C.Z)(),{projects:n}=(0,q.Z)(),s=(0,r.useMemo)((()=>e.transactions.map((e=>{const r=n.find((t=>t.id===e.project_id));return{transaction:r?(0,P.tZ)(Z.Z,{to:(0,w.R0)({location:t,orgSlug:o.slug,projectSlug:r.slug,transaction:e.name}),children:e.name}):e.name,count:e.profiles_count,project:r,p50:e.duration_ms.p50,p75:e.duration_ms.p75,p90:e.duration_ms.p90,p95:e.duration_ms.p95,p99:e.duration_ms.p99,lastSeen:e.last_profile_at}}))),[e.transactions,t,o,n]);return(0,P.tZ)(f.ZP,{isLoading:e.isLoading,error:e.error,data:s,columnOrder:F.map((e=>L[e])),columnSortBy:[],grid:{renderHeadCell:(0,k.w)({rightAlignedColumns:A}),renderBodyCell:I},location:t})}z.displayName="ProfileTransactionsTable";const A=new Set(["count","p50","p75","p90","p95","p99"]);function I(e,t,o,n){return(0,P.tZ)(T,{column:e,dataRow:t,rowIndex:o,columnIndex:n})}function T(e){let{column:t,dataRow:o}=e;const n=o[t.key];switch(t.key){case"project":return(0,j.ri)(n)?(0,P.tZ)(S.W2,{children:(0,P.tZ)(y.Z,{project:n,avatarSize:16})}):(0,P.tZ)(S.W2,{children:(0,b.t)("n/a")});case"count":return(0,P.tZ)(S.Hw,{children:(0,P.tZ)(g.Z,{value:n})});case"p50":case"p75":case"p90":case"p95":case"p99":return(0,P.tZ)(S.Hw,{children:(0,P.tZ)(v.Z,{milliseconds:n,abbreviation:!0})});case"lastSeen":return(0,P.tZ)(S.W2,{children:(0,P.tZ)(x.Z,{date:n})});default:return(0,P.tZ)(S.W2,{children:n})}}I.displayName="renderTableBody";const F=["transaction","project","lastSeen","p75","p95","count"],L={transaction:{key:"transaction",name:(0,b.t)("Transaction"),width:f.z7},count:{key:"count",name:(0,b.t)("Count"),width:f.z7},project:{key:"project",name:(0,b.t)("Project"),width:f.z7},p50:{key:"p50",name:(0,b.t)("P50"),width:f.z7},p75:{key:"p75",name:(0,b.t)("P75"),width:f.z7},p90:{key:"p90",name:(0,b.t)("P90"),width:f.z7},p95:{key:"p95",name:(0,b.t)("P95"),width:f.z7},p99:{key:"p99",name:(0,b.t)("P99"),width:f.z7},lastSeen:{key:"lastSeen",name:(0,b.t)("Last Seen"),width:f.z7}};var B=o("./app/components/projectPageFilter.tsx"),E=o("./app/components/sentryDocumentTitle.tsx"),R=o("./app/components/smartSearchBar/index.tsx"),D=o("./app/constants/index.tsx"),$=o("./app/styles/organization.tsx"),N=o("./app/styles/space.tsx"),X=o("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),O=o("./app/utils/profiling/hooks/useProfileFilters.tsx"),H=o("../node_modules/@sentry/hub/esm/exports.js"),M=o("./app/components/organizations/pageFilters/parse.tsx"),G=o("./app/utils/useApi.tsx");var W=o("./app/utils/queryString.tsx"),U=o("./app/utils/usePageFilters.tsx"),J=(o("../node_modules/core-js/modules/es.error.cause.js"),o("../node_modules/@emotion/react/dist/emotion-element-cbed451f.browser.esm.js")),K=o("./app/components/charts/areaChart.tsx"),V=o("./app/components/charts/chartZoom.tsx"),Q=o("./app/components/charts/styles.tsx"),Y=o("./app/components/panels/index.tsx"),ee=o("./app/utils/discover/charts.tsx"),te=o("./app/utils/discover/fields.tsx");const oe=["count()","p99()","p75()"];function ne(e){let{query:t,router:o,selection:n}=e;const s=(0,J.a)(),i=function(e){let{query:t,selection:o}=e;const n=(0,G.Z)(),s=(0,C.Z)(),[i,a]=(0,r.useState)({type:"initial"});return(0,r.useEffect)((()=>{if((0,j.ri)(o))return a({type:"loading"}),function(e,t,o){let{query:n,selection:r}=o;return e.requestPromise(`/organizations/${t.slug}/profiling/stats/`,{method:"GET",includeAllArgs:!1,query:{query:n,project:r.projects,environment:r.environments,...(0,M.fK)(r.datetime)}})}(n,s,{query:t,selection:o}).then((e=>{a({type:"resolved",data:e})})).catch((e=>{a({type:"errored",error:(0,b.t)("Error: Unable to load profile stats")}),H.Tb(e)})),()=>n.clear()}),[n,s,t,o]),i}({query:t,selection:n}),a=(0,r.useMemo)((()=>{if("resolved"!==i.type)return[];const e=i.data.timestamps.map((e=>1e3*e)),t=i.data.data.filter((e=>oe.indexOf(`${e.axis}()`)>-1)).map((t=>{if(e.length!==t.values.length)throw new Error("Invalid stats response");return"count"===t.axis?{data:t.values.map(((t,o)=>({name:e[o],value:null!=t?t:0}))),seriesName:`${t.axis}()`,xAxisIndex:0,yAxisIndex:0}:{data:t.values.map(((t,o)=>({name:e[o],value:(null!=t?t:0)/1e6}))),seriesName:`${t.axis}()`,xAxisIndex:1,yAxisIndex:1}}));return t.sort(((e,t)=>oe.indexOf(e.seriesName)-oe.indexOf(t.seriesName))),t}),[i]);return(0,P.tZ)(V.Z,{router:o,...null==n?void 0:n.datetime,children:e=>(0,P.BX)(re,{children:[(0,P.BX)(se,{children:[(0,P.tZ)(ie,{children:(0,b.t)("Profiles by Count")}),(0,P.tZ)(ie,{children:(0,b.t)("Profiles by Percentiles")})]}),(0,P.tZ)(K.T,{height:300,series:a,grid:[{top:"32px",left:"24px",right:"52%",bottom:"16px"},{top:"32px",left:"52%",right:"24px",bottom:"16px"}],legend:{right:16,top:12,data:oe.slice()},axisPointer:{link:[{xAxisIndex:[0,1]}]},xAxes:[{gridIndex:0,type:"time"},{gridIndex:1,type:"time"}],yAxes:[{gridIndex:0,scale:!0,axisLabel:{color:s.chartLabel,formatter:e=>(0,ee.gu)(e,"integer")}},{gridIndex:1,scale:!0,axisLabel:{color:s.chartLabel,formatter:e=>(0,ee.gu)(e,"duration")}}],tooltip:{valueFormatter:(e,t)=>(0,ee.CX)(e,(0,te.Px)(t))},isGroupedByDate:!0,showTimeInTooltip:!0,...e})]})})}ne.displayName="ProfileCharts";const re=(0,n.Z)(Y.s_,{target:"e16luuhi2"})("padding-top:",(0,N.Z)(2),";"),se=(0,n.Z)("div",{target:"e16luuhi1"})({name:"ai16bo",styles:"width:100%;display:flex;flex-direction:row"}),ie=(0,n.Z)(Q.Gh,{target:"e16luuhi0"})("flex-grow:1;margin-left:",(0,N.Z)(2),";");function ae(e){let{location:t,router:o}=e;const n=(0,C.Z)(),{selection:m}=(0,U.Z)(),g=(0,W.ro)(t.query.cursor),x=(0,W.ro)(t.query.query,""),f=(0,O.J)({query:"",selection:m}),y=function(e){let{cursor:t,limit:o,query:n,selection:s}=e;const i=(0,G.Z)(),a=(0,C.Z)(),[l,c]=(0,r.useState)({type:"initial"});return(0,r.useEffect)((()=>{if((0,j.ri)(s))return c({type:"loading"}),function(e,t,o){let{cursor:n,limit:r,query:s,selection:i}=o;return e.requestPromise(`/organizations/${t.slug}/profiling/transactions/`,{method:"GET",includeAllArgs:!0,query:{cursor:n,query:s,per_page:r,project:i.projects,environment:i.environments,...(0,M.fK)(i.datetime)}})}(i,a,{cursor:t,limit:o,query:n,selection:s}).then((e=>{var t;let[o,,n]=e;c({type:"resolved",data:{transactions:o,pageLinks:null!==(t=null==n?void 0:n.getResponseHeader("Link"))&&void 0!==t?t:null}})})).catch((e=>{c({type:"errored",error:(0,b.t)("Error: Unable to load transactions")}),H.Tb(e)})),()=>i.clear()}),[i,a,t,o,n,s]),l}({cursor:g,query:x,selection:m});(0,r.useEffect)((()=>{(0,X.Z)("profiling_views.landing",{organization:n})}),[n]);const Z=(0,r.useCallback)((e=>{s.browserHistory.push({...t,query:{...t.query,cursor:void 0,query:e||void 0}})}),[t]),v=(0,r.useCallback)((()=>{s.browserHistory.push((0,w.i5)({orgSlug:n.slug}))}),[n.slug]);return(0,P.tZ)(E.Z,{title:(0,b.t)("Profiling"),orgSlug:n.slug,children:(0,P.tZ)(p.Z,{children:(0,P.tZ)(u.Z,{organization:n,children:(0,P.BX)(le,{children:[(0,P.tZ)(c.h4,{children:(0,P.BX)(ce,{children:[(0,P.tZ)(ue,{children:(0,b.t)("Profiling")}),(0,P.tZ)(i.ZP,{onClick:v,children:"Set Up Profiling"})]})}),(0,P.tZ)(c.uT,{children:(0,P.BX)(c.or,{fullWidth:!0,children:[(0,P.BX)(de,{children:[(0,P.BX)(d.Z,{condensed:!0,children:[(0,P.tZ)(B.Z,{}),(0,P.tZ)(l.Z,{}),(0,P.tZ)(a.Z,{alignDropdown:"left"})]}),(0,P.tZ)(R.Z,{organization:n,hasRecentSearches:!0,searchSource:"profile_landing",supportedTags:f,query:x,onSearch:Z,maxQueryLength:D.dI})]}),(0,P.tZ)(ne,{router:o,query:x,selection:m}),(0,P.tZ)(z,{error:"errored"===y.type?(0,b.t)("Unable to load profiles"):null,isLoading:"loading"===y.type,transactions:"resolved"===y.type?y.data.transactions:[]}),(0,P.tZ)(h.Z,{pageLinks:"resolved"===y.type?y.data.pageLinks:null})]})})]})})})})}ae.displayName="ProfilingContent";const le=(0,n.Z)($.JH,{target:"eil9lws3"})({name:"1hcx8jb",styles:"padding:0"}),ce=(0,n.Z)(c.oB,{target:"eil9lws2"})({name:"1iix8hw",styles:"display:flex;justify-content:space-between;flex-direction:row"}),ue=(0,n.Z)(m.Z,{target:"eil9lws1"})({name:"ht6xsx",styles:"line-height:40px"}),de=(0,n.Z)("div",{target:"eil9lws0"})("display:grid;gap:",(0,N.Z)(2),";grid-template-columns:min-content auto;margin-bottom:",(0,N.Z)(2),";"),pe=ae}}]);
//# sourceMappingURL=../sourcemaps/app_views_profiling_content_tsx.b151bbbcd0df37ac3928acf84a8060ef.js.map