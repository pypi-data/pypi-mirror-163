(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_acl_access_tsx-app_components_forms_textCopyInput_tsx-app_components_modals_wi-9f3c2a"],{"./app/components/acl/access.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),i=s("./app/components/alert.tsx"),r=s("./app/locale.tsx"),a=s("./app/utils/isRenderFunc.tsx"),l=s("./app/utils/withConfig.tsx"),d=s("./app/utils/withOrganization.tsx");const u=(0,s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js").tZ)(i.Z,{type:"error",showIcon:!0,children:(0,r.t)("You do not have sufficient permissions to access this.")});class c extends o.Component{render(){const{organization:e,config:t,access:s,requireAll:n,isSuperuser:o,renderNoAccessMessage:i,children:r}=this.props,{access:l}=e||{access:[]},d=!s||s[n?"every":"some"]((e=>l.includes(e))),c=!(!t.user||!t.user.isSuperuser),p={hasAccess:d,hasSuperuser:c},m=d&&(!o||c);return m||"function"!=typeof i?!m&&i?u:(0,a.l)(r)?r(p):m?r:null:i(p)}}c.displayName="Access",(0,n.Z)(c,"defaultProps",{renderNoAccessMessage:!1,isSuperuser:!1,requireAll:!0,access:[]});const p=(0,d.Z)((0,l.Z)(c))},"./app/components/forms/textCopyInput.tsx":(e,t,s)=>{"use strict";s.d(t,{ZP:()=>x});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),r=s("../node_modules/react-dom/profiling.js"),a=s("./app/components/button.tsx"),l=s("./app/components/clipboard.tsx"),d=s("./app/icons/index.tsx"),u=s("./app/styles/input.tsx"),c=s("./app/utils/selectText.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const m=(0,o.Z)("div",{target:"etk0cn13"})({name:"zjik7",styles:"display:flex"}),g=(0,o.Z)("input",{target:"etk0cn12"})(u.T,";background-color:",(e=>e.theme.backgroundSecondary),";border-right-width:0;border-top-right-radius:0;border-bottom-right-radius:0;direction:",(e=>e.rtl?"rtl":"ltr"),";&:hover,&:focus{background-color:",(e=>e.theme.backgroundSecondary),";border-right-width:0;}"),h=(0,o.Z)("div",{target:"etk0cn11"})({name:"1u4yjkc",styles:"flex-grow:1;border:none"}),y=(0,o.Z)(a.ZP,{target:"etk0cn10"})({name:"1tz1tsa",styles:"flex-shrink:1;border-radius:0 0.25em 0.25em 0;box-shadow:none"});class v extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"textRef",(0,i.createRef)()),(0,n.Z)(this,"handleCopyClick",(e=>{if(!this.textRef.current)return;const{onCopy:t,children:s}=this.props;this.handleSelectText(),null==t||t(s,e),e.stopPropagation()})),(0,n.Z)(this,"handleSelectText",(()=>{const{rtl:e}=this.props;if(!this.textRef.current)return;const t=(0,r.findDOMNode)(this.textRef.current);t&&t instanceof HTMLElement&&(e&&t instanceof HTMLInputElement?t.setSelectionRange(1,t.value.length-1):(0,c.e)(t))}))}render(){const{className:e,disabled:t,style:s,children:n,rtl:o}=this.props,i=o?"‪"+n+"‬":n;return(0,p.BX)(m,{className:e,children:[(0,p.tZ)(h,{children:(0,p.tZ)(g,{readOnly:!0,disabled:t,ref:this.textRef,style:s,value:i,onClick:this.handleSelectText,rtl:o})}),(0,p.tZ)(l.Z,{hideUnsupported:!0,value:n,children:(0,p.tZ)(y,{type:"button",disabled:t,onClick:this.handleCopyClick,children:(0,p.tZ)(d.vU,{})})})]})}}v.displayName="TextCopyInput";const x=v},"./app/components/gridEditable/sortLink.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/lodash/omit.js"),i=s.n(o),r=s("./app/components/links/link.tsx"),a=s("./app/icons/index.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){let{align:t,title:s,canSort:n,generateSortLink:o,onClick:i,direction:r}=e;const a=o();if(!a||!n)return(0,l.tZ)(c,{align:t,children:s});const d=r?(0,l.tZ)(p,{size:"xs",direction:"desc"===r?"down":"up"}):null;return(0,l.BX)(u,{align:t,to:a,onClick:i,children:[s," ",d]})}d.displayName="SortLink";const u=(0,n.Z)((e=>{const t=i()(e,["align"]);return(0,l.tZ)(r.Z,{...t})}),{target:"e1xb2te62"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(e=>e.align?`text-align: ${e.align};`:""),";"),c=(0,n.Z)("div",{target:"e1xb2te61"})("display:block;width:100%;white-space:nowrap;",(e=>e.align?`text-align: ${e.align};`:""),";"),p=(0,n.Z)(a.CC,{target:"e1xb2te60"})({name:"40f4ru",styles:"vertical-align:top"}),m=d},"./app/components/modals/widgetViewerModal.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>fe,modalCss:()=>he});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.string.replace.js"),s("../node_modules/react/index.js")),i=s("../node_modules/react-router/es/index.js"),r=s("../node_modules/react-select/dist/index-4322c0ed.browser.esm.js"),a=s("../node_modules/@sentry/hub/esm/exports.js"),l=s("../node_modules/@sentry/utils/esm/string.js"),d=s("../node_modules/lodash/cloneDeep.js"),u=s.n(d),c=s("../node_modules/lodash/isEqual.js"),p=s.n(c),m=s("../node_modules/lodash/trimStart.js"),g=s.n(m),h=s("../node_modules/moment/moment.js"),y=s.n(h),v=s("./app/actionCreators/events.tsx"),x=s("./app/components/alert.tsx"),b=s("./app/components/button.tsx"),w=s("./app/components/buttonBar.tsx"),_=s("./app/components/forms/selectControl.tsx"),f=s("./app/components/forms/selectOption.tsx"),j=s("./app/components/gridEditable/index.tsx"),Z=s("./app/components/pagination.tsx"),R=s("./app/components/questionTooltip.tsx"),E=s("./app/components/searchSyntax/parser.tsx"),S=s("./app/components/searchSyntax/renderer.tsx"),T=s("./app/locale.tsx"),O=s("./app/styles/space.tsx"),C=s("./app/utils.tsx"),k=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),q=s("./app/utils/dates.tsx"),L=s("./app/utils/discover/fields.tsx"),B=s("./app/utils/parseLinkHeader.tsx"),I=s("./app/utils/queryString.tsx"),z=s("./app/utils/useApi.tsx"),A=s("./app/utils/withPageFilters.tsx"),P=s("./app/views/dashboardsV2/types.tsx"),D=s("./app/views/dashboardsV2/utils.tsx"),F=s("./app/views/dashboardsV2/widgetCard/chart.tsx"),N=s("./app/views/dashboardsV2/widgetCard/dashboardsMEPContext.tsx"),V=s("./app/views/dashboardsV2/widgetCard/issueWidgetQueries.tsx"),M=s("./app/views/dashboardsV2/widgetCard/releaseWidgetQueries.tsx"),H=s("./app/views/dashboardsV2/widgetCard/widgetCardChartContainer.tsx"),U=s("./app/views/dashboardsV2/widgetCard/widgetQueries.tsx"),G=s("./app/views/eventsV2/utils.tsx"),X=s("./app/components/modals/widgetViewerModal/utils.tsx"),$=s("./app/components/gridEditable/sortLink.tsx"),Q=(s("./app/components/links/link.tsx"),s("./app/components/tooltip.tsx")),W=s("./app/utils/dashboards/issueFieldRenderers.tsx"),Y=s("./app/utils/discover/eventView.tsx"),J=s("./app/utils/discover/fieldRenderers.tsx"),K=(s("./app/utils/discover/urls.tsx"),s("./app/views/dashboardsV2/widgetBuilder/issueWidget/fields.tsx")),ee=s("./app/views/eventsV2/table/topResultsIndicator.tsx"),te=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const se=e=>{let{location:t,widget:s,tableData:n,organization:o,onHeaderClick:i}=e;return(e,r)=>{const a=null==n?void 0:n.meta,l=(0,L.qG)(e.name,e.type,a),d=(0,W.N)(String(e.key));return(0,te.tZ)($.Z,{align:l,title:(0,te.tZ)(re,{title:e.name,children:e.name}),direction:s.queries[0].orderby===d?"desc":void 0,canSort:!!d,generateSortLink:()=>({...t,query:{...t.query,[X.R.SORT]:d,[X.R.PAGE]:void 0,[X.R.CURSOR]:void 0}}),onClick:()=>{null==i||i(),(0,k.Z)("dashboards_views.widget_viewer.sort",{organization:o,widget_type:P.l9.ISSUE,display_type:s.displayType,column:e.name,order:"desc"})}})}},ne=e=>{let{location:t,selection:s,widget:n,tableData:o,organization:i,onHeaderClick:r}=e;return(e,a)=>{const{orderby:l}=n.queries[0],d=`${l.startsWith("-")?"-":""}${(0,L.LY)(g()(l,"-"))}`,u=(0,D.tT)(n.title,{...n.queries[0],orderby:d},s,n.displayType),c=null==o?void 0:o.meta,p=(0,L.qG)(e.name,e.type,c),m={field:String(e.key),width:e.width},h=u.sortForField(m,c),y=(0,Y.M3)(m,c),v=(0,L.uI)(e.name)?u.getEquations()[(0,L.G5)(e.name)]:e.name;return(0,te.tZ)($.Z,{align:p,title:(0,te.tZ)(re,{title:v,children:v}),direction:h?h.kind:void 0,canSort:y,generateSortLink:function(){if(!c)return;const e=u.sortOnField(m,c,void 0,!0).generateQueryStringObject();return{...t,query:{...t.query,[X.R.SORT]:e.sort,[X.R.PAGE]:void 0,[X.R.CURSOR]:void 0}}},onClick:()=>{null==r||r(),(0,k.Z)("dashboards_views.widget_viewer.sort",{organization:i,widget_type:P.l9.DISCOVER,display_type:n.displayType,column:e.name,order:"desc"===(null==h?void 0:h.kind)?"asc":"desc"})}})}},oe=e=>{let{location:t,organization:s,widget:n,tableData:i,isFirstPage:r}=e;return(e,a,l,d)=>{var u,c;const p=String(e.key),m=n.displayType===P.FO.TOP_N;let g;const h=!s.features.includes("discover-frontend-use-events-endpoint")&&n.widgetType!==P.l9.RELEASE;switch(n.widgetType){case P.l9.ISSUE:g=(null!==(u=(0,W.O)(p))&&void 0!==u?u:(0,J.Js)(p,K.$L))(a,{organization:s,location:t});break;case P.l9.DISCOVER:default:if(!i||!i.meta)return a[e.key];const n=null===(c=i.meta.units)||void 0===c?void 0:c[e.key];g=(0,J.Js)(p,i.meta,h)(a,{organization:s,location:t,unit:n});const o=(0,L.LY)(p),r=a[o];if("integer"===i.meta[o]&&(0,C.ri)(r)&&r>999)return(0,te.tZ)(Q.Z,{title:r.toLocaleString(),containerDisplayMode:"block",position:"right",children:g})}const y=i?Math.min(null==i?void 0:i.data.length,5):5;return(0,te.BX)(o.Fragment,{children:[m&&r&&l<5&&0===d?(0,te.tZ)(ee.Z,{count:y,index:l}):null,g]})}},ie=e=>{let{location:t,widget:s,tableData:n,organization:o,onHeaderClick:i}=e;return(e,r)=>{const a=null==n?void 0:n.meta,l=(0,L.qG)(e.name,e.type,a),d=s.queries[0].orderby,u={kind:d.startsWith("-")?"desc":"asc",field:d.startsWith("-")?d.slice(1):d},c=(0,L.h1)(e.name),p=e.name;return(0,te.tZ)($.Z,{align:l,title:(0,te.tZ)(re,{title:p,children:p}),direction:u.field===e.name?u.kind:void 0,canSort:c,generateSortLink:function(){const s=e.name===u.field?{...u,kind:"desc"===u.kind?"asc":"desc"}:{kind:"desc",field:e.name};return{...t,query:{...t.query,[X.R.SORT]:"desc"===s.kind?`-${s.field}`:s.field,[X.R.PAGE]:void 0,[X.R.CURSOR]:void 0}}},onClick:()=>{null==i||i(),(0,k.Z)("dashboards_views.widget_viewer.sort",{organization:o,widget_type:P.l9.RELEASE,display_type:s.displayType,column:e.name,order:"desc"===(null==u?void 0:u.kind)?"asc":"desc"})}})}},re=(0,n.Z)(Q.Z,{target:"e1fqlj201"})({name:"168giuu",styles:"display:initial"}),ae="geo.country_code",le="(Empty Query Condition)",de=(e,t)=>{const s=t.selection===e.selection,n=t.location.query[X.R.SORT]===e.location.query[X.R.SORT],o=p()(t.chartZoomOptions,e.chartZoomOptions),i=t.widget.displayType!==P.FO.TOP_N&&!(0,C.ri)(t.widget.limit);return s&&o&&(n||i)},ue=(0,o.memo)(H.b,de),ce=(0,o.memo)(F.Z,de);function pe(e){var t,s;const{organization:n,widget:i,selection:d,location:c,Footer:p,Body:m,Header:h,closeModal:R,onEdit:A,router:H,routes:$,params:Q,seriesData:W,tableData:Y,totalIssuesCount:J,pageLinks:K}=e,ee=n.features.includes("widget-viewer-modal-minimap"),re=(0,I.ro)(c.query[X.R.START]),de=(0,I.ro)(c.query[X.R.END]),pe=i.displayType===P.FO.TABLE,he=(0,o.useMemo)((()=>re&&de?{...d,datetime:{start:re,end:de,period:null,utc:null}}:d),[re,de,d]),[fe,je]=(0,o.useState)(!0),[Ze,Re]=(0,o.useState)({start:0,end:100}),[Ee,Se]=(0,o.useState)(he),Te=(0,o.useRef)(Ee);(0,o.useEffect)((()=>{"POP"===c.action&&(Se(he),Re(re&&de?{startValue:1e3*y().utc(re).unix(),endValue:1e3*y().utc(de).unix()}:{start:0,end:100}))}),[de,c,he,re]);const[Oe,Ce]=(0,o.useState)((0,I.qP)(c.query[X.R.LEGEND]).reduce(((e,t)=>(e[t]=!1,e)),{})),[ke,qe]=(0,o.useState)(),Le=null!==(t=(0,I._q)(c.query[X.R.QUERY]))&&void 0!==t?t:0,Be=null!==(s=(0,I._q)(c.query[X.R.PAGE]))&&void 0!==s?s:0,Ie=(0,I.ro)(c.query[X.R.CURSOR]),ze=(0,I.qP)(c.query[X.R.WIDTH]),Ae=(0,I.ro)(c.query[X.R.SORT]),Pe=u()(Ae?i.queries.map((e=>({...e,orderby:Ae}))):i.queries),De=i.displayType===P.FO.TOP_N||void 0!==i.limit?{...i,queries:Pe}:i,Fe=(0,z.Z)(),Ne={...u()({...i,queries:[Pe[Le]]}),displayType:P.FO.TABLE},{aggregates:Ve,columns:Me}=Ne.queries[0],{orderby:He}=i.queries[0],Ue=He.startsWith("-"),Ge=g()(He,"-"),Xe=(0,C.ri)(Ne.queries[0].fields)?Ne.queries[0].fields:[...Me,...Ve];i.widgetType!==P.l9.DISCOVER||!He||(0,L.uI)(Ge)||Xe.includes(Ge)||(Xe.push(Ge),[Ne,De].forEach((e=>{(0,L.h1)(Ge)||(0,L.GO)(Ge)?e.queries.forEach((e=>{e.aggregates.includes(Ge)||e.aggregates.push(Ge)})):e.queries.forEach((e=>{e.columns.includes(Ge)||e.columns.push(Ge)}))}))),(0,L.GO)(Ge)&&Ne.queries[0].orderby===He&&(Ne.queries[0].orderby=`${Ue?"-":""}equation[${(0,D.yd)(Xe)-1}]`),i.displayType!==P.FO.WORLD_MAP||Me.includes(ae)||(Xe.unshift(ae),Me.unshift(ae));const $e=[P.FO.AREA,P.FO.LINE,P.FO.BIG_NUMBER,P.FO.BAR].includes(i.displayType)&&i.widgetType&&[P.l9.DISCOVER,P.l9.RELEASE].includes(i.widgetType)&&!(0,C.ri)(i.limit);if(pe||(0,D.Mf)(Xe).forEach((e=>{(0,L.h1)(e)&&!Ve.includes(e)&&Ve.unshift(e),(0,L.h1)(e)||Me.includes(e)||Me.unshift(e)})),Me.forEach((e=>{Xe.includes(e)||Xe.unshift(e)})),$e)switch(i.widgetType){case P.l9.DISCOVER:1===Xe.length&&(Ne.queries[0].orderby=Ne.queries[0].orderby||`-${Xe[0]}`),Xe.unshift("title"),Me.unshift("title");break;case P.l9.RELEASE:Xe.unshift("release"),Me.unshift("release")}const Qe=(0,D.tT)(Ne.title,Ne.queries[0],Ee,Ne.displayType);let We=(0,G.Hg)(Xe.map((e=>({field:e}))),n.features.includes("discover-frontend-use-events-endpoint"));const Ye=Qe.getSorts();We=We.map(((e,t)=>({...e,width:parseInt(ze[t],10)||-1})));const Je=Pe.map(((e,t)=>{let{name:s,conditions:n}=e;const o=!s&&n?(0,E.UG)(n):null;return{label:(0,l.$G)(s||n,120),value:t,getHighlightedQuery:e=>null!==o?(0,te.tZ)(be,{...e,children:(0,te.tZ)(S.Z,{parsedQuery:o})}):void 0}})),Ke=(e,t)=>{const s=t.width?Number(t.width):j.z7,n=new Array(Math.max(e,ze.length)).fill(j.z7);ze.forEach(((e,t)=>n[t]=parseInt(e,10))),n[e]=s,H.replace({pathname:c.pathname,query:{...c.query,[X.R.WIDTH]:n}})};function et(e){var t;let{selected:s}=e;Ce(s),H.replace({pathname:c.pathname,query:{...c.query,[X.R.LEGEND]:Object.keys(s).filter((e=>!s[e]))}}),(0,k.Z)("dashboards_views.widget_viewer.toggle_legend",{organization:n,widget_type:null!==(t=i.widgetType)&&void 0!==t?t:P.l9.DISCOVER,display_type:i.displayType})}(0,o.useEffect)((()=>{(async()=>{i.widgetType===P.l9.DISCOVER&&qe(await async function(e,t,s,n){if(n.isValid())try{return(await(0,v.JE)(e,t.slug,n.getEventsAPIPayload(s))).toLocaleString()}catch(e){return void a.Tb(e)}}(Fe,n,c,Qe))})()}),[Le]);const tt=t=>{var s,r,a,l,d;let{tableResults:u,loading:p,pageLinks:m}=t;const g=(0,B.Z)(null!=m?m:null),h=!1===(null===(s=g.previous)||void 0===s?void 0:s.results);return(0,te.BX)(o.Fragment,{children:[(0,te.tZ)(j.ZP,{isLoading:p,data:null!==(r=null==u||null===(a=u[0])||void 0===a?void 0:a.data)&&void 0!==r?r:[],columnOrder:We,columnSortBy:Ye,grid:{renderHeadCell:ne({...e,widget:Ne,tableData:null==u?void 0:u[0],onHeaderClick:()=>{([P.FO.TOP_N,P.FO.TABLE].includes(i.displayType)||(0,C.ri)(i.limit))&&je(!1)}}),renderBodyCell:oe({...e,tableData:null==u?void 0:u[0],isFirstPage:h}),onResizeColumn:Ke},location:c}),((null==g||null===(l=g.previous)||void 0===l?void 0:l.results)||(null==g||null===(d=g.next)||void 0===d?void 0:d.results))&&(0,te.tZ)(Z.Z,{pageLinks:m,onCursor:e=>{H.replace({pathname:c.pathname,query:{...c.query,[X.R.CURSOR]:e}}),i.displayType===P.FO.TABLE&&je(!1),(0,k.Z)("dashboards_views.widget_viewer.paginate",{organization:n,widget_type:P.l9.DISCOVER,display_type:i.displayType})}})]})},st=e=>{var t,s,r,a;let{tableResults:l,loading:u,pageLinks:p,totalCount:m}=e;void 0===ke&&m&&qe(m);const g=(0,B.Z)(null!=p?p:null);return(0,te.BX)(o.Fragment,{children:[(0,te.tZ)(j.ZP,{isLoading:u,data:null!==(t=null==l||null===(s=l[0])||void 0===s?void 0:s.data)&&void 0!==t?t:[],columnOrder:We,columnSortBy:Ye,grid:{renderHeadCell:se({location:c,organization:n,selection:d,widget:Ne,onHeaderClick:()=>{je(!1)}}),renderBodyCell:oe({location:c,organization:n,selection:d,widget:Ne}),onResizeColumn:Ke},location:c}),((null==g||null===(r=g.previous)||void 0===r?void 0:r.results)||(null==g||null===(a=g.next)||void 0===a?void 0:a.results))&&(0,te.tZ)(Z.Z,{pageLinks:p,onCursor:(e,t,s,o)=>{let r=isNaN(Be)?o:Be+o,a=e;r<=0&&(a=void 0,r=0),H.replace({pathname:c.pathname,query:{...c.query,[X.R.CURSOR]:a,[X.R.PAGE]:r}}),i.displayType===P.FO.TABLE&&je(!1),(0,k.Z)("dashboards_views.widget_viewer.paginate",{organization:n,widget_type:P.l9.ISSUE,display_type:i.displayType})}})]})},nt=t=>{var s,r,a,l,d;let{tableResults:u,loading:p,pageLinks:m}=t;const g=(0,B.Z)(null!=m?m:null),h=!1===(null===(s=g.previous)||void 0===s?void 0:s.results);return(0,te.BX)(o.Fragment,{children:[(0,te.tZ)(j.ZP,{isLoading:p,data:null!==(r=null==u||null===(a=u[0])||void 0===a?void 0:a.data)&&void 0!==r?r:[],columnOrder:We,columnSortBy:Ye,grid:{renderHeadCell:ie({...e,widget:Ne,tableData:null==u?void 0:u[0],onHeaderClick:()=>{([P.FO.TOP_N,P.FO.TABLE].includes(i.displayType)||(0,C.ri)(i.limit))&&je(!1)}}),renderBodyCell:oe({...e,tableData:null==u?void 0:u[0],isFirstPage:h}),onResizeColumn:Ke},location:c}),!Ne.queries[0].orderby.match(/^-?release$/)&&((null==g||null===(l=g.previous)||void 0===l?void 0:l.results)||(null==g||null===(d=g.next)||void 0===d?void 0:d.results))&&(0,te.tZ)(Z.Z,{pageLinks:m,onCursor:e=>{H.replace({pathname:c.pathname,query:{...c.query,[X.R.CURSOR]:e}}),(0,k.Z)("dashboards_views.widget_viewer.paginate",{organization:n,widget_type:P.l9.RELEASE,display_type:i.displayType})}})]})},ot=(e,t)=>{var s,o,r;const a=t.getModel(),{seriesStart:l,seriesEnd:d}=e;let u,p;u=null===(s=a._payload.batch)||void 0===s?void 0:s[0].startValue,p=null===(o=a._payload.batch)||void 0===o?void 0:o[0].endValue;const m=l?new Date(l).getTime():void 0,g=d?new Date(d).getTime():void 0;if(void 0===u||void 0===p){if(!m||!g)return;{const e=g-m;u=e*a._payload.start*.01+m,p=e*a._payload.end*.01+m}}Re({startValue:u,endValue:p});const h=(0,q.v5)(y().utc(u)),v=(0,q.v5)(y().utc(p));Se({...Ee,datetime:{...Ee.datetime,start:h,end:v,period:null}}),H.push({pathname:c.pathname,query:{...c.query,[X.R.START]:h,[X.R.END]:v}}),(0,k.Z)("dashboards_views.widget_viewer.zoom",{organization:n,widget_type:null!==(r=i.widgetType)&&void 0!==r?r:P.l9.DISCOVER,display_type:i.displayType})};return(0,te.tZ)(o.Fragment,{children:(0,te.BX)(N.KC,{children:[(0,te.tZ)(h,{closeButton:!0,children:(0,te.tZ)("h3",{children:i.title})}),(0,te.tZ)(m,{children:(0,te.BX)(o.Fragment,{children:[i.displayType!==P.FO.TABLE&&(0,te.tZ)(ye,{height:i.displayType!==P.FO.BIG_NUMBER?300+(ee&&[P.FO.AREA,P.FO.LINE,P.FO.BAR,P.FO.TOP_N].includes(i.displayType)?F.R:0):null,children:(W||Y)&&fe?(0,te.tZ)(ce,{timeseriesResults:W,tableResults:Y,errorMessage:void 0,loading:!1,location:c,widget:i,selection:d,router:H,organization:n,onZoom:ot,onLegendSelectChanged:et,legendOptions:{selected:Oe},expandNumbers:!0,showSlider:ee,noPadding:!0,chartZoomOptions:Ze}):(0,te.tZ)(ue,{location:c,router:H,routes:$,params:Q,api:Fe,organization:n,selection:Te.current,widget:De,onZoom:ot,onLegendSelectChanged:et,legendOptions:{selected:Oe},expandNumbers:!0,showSlider:ee,noPadding:!0,chartZoomOptions:Ze})}),i.queries.length>1&&(0,te.tZ)(x.Z,{type:"info",showIcon:!0,children:(0,T.t)("This widget was built with multiple queries. Table data can only be displayed for one query at a time. To edit any of the queries, edit the widget.")}),(i.queries.length>1||i.queries[0].conditions)&&(0,te.BX)(ve,{children:[(0,te.tZ)(_.Z,{value:Le,options:Je,onChange:e=>{var t;H.replace({pathname:c.pathname,query:{...c.query,[X.R.QUERY]:e.value,[X.R.PAGE]:void 0,[X.R.CURSOR]:void 0}}),(0,k.Z)("dashboards_views.widget_viewer.select_query",{organization:n,widget_type:null!==(t=i.widgetType)&&void 0!==t?t:P.l9.DISCOVER,display_type:i.displayType})},components:{SingleValue:e=>{var t;return(0,te.tZ)(r.y.SingleValue,{...e,getStyles:()=>({wordBreak:"break-word",flex:1,display:"flex",padding:`0 ${(0,O.Z)(.5)}`}),children:null!==(t=Je[Le].getHighlightedQuery({display:"block"}))&&void 0!==t?t:Je[Le].label||(0,te.tZ)(_e,{children:le})})},Option:e=>{const t=e.data.getHighlightedQuery({display:"flex"});return(0,te.tZ)(f.Z,{...t?{...e,label:t}:e.label?e:{...e,label:(0,te.tZ)(_e,{children:le})}})},...i.queries.length<2?{IndicatorsContainer:e=>null}:{}},isSearchable:!1,isDisabled:i.queries.length<2}),1===i.queries.length&&(0,te.tZ)(xe,{title:(0,T.t)("To edit this query, you must edit the widget."),size:"sm"})]}),function(){switch(i.widgetType){case P.l9.ISSUE:return Y&&fe&&i.displayType===P.FO.TABLE?st({tableResults:Y,loading:!1,errorMessage:void 0,pageLinks:K,totalCount:J}):(0,te.tZ)(V.Z,{api:Fe,organization:n,widget:Ne,selection:Ee,limit:i.displayType===P.FO.TABLE?20:10,cursor:Ie,children:st});case P.l9.RELEASE:return Y&&fe&&i.displayType===P.FO.TABLE?nt({tableResults:Y,loading:!1,pageLinks:K}):(0,te.tZ)(M.ZP,{api:Fe,organization:n,widget:Ne,selection:Ee,limit:i.displayType===P.FO.TABLE?20:10,cursor:Ie,children:nt});case P.l9.DISCOVER:default:return Y&&fe&&i.displayType===P.FO.TABLE?tt({tableResults:Y,loading:!1,pageLinks:K}):(0,te.tZ)(U.ZP,{api:Fe,organization:n,widget:Ne,selection:Ee,limit:i.displayType===P.FO.TABLE?20:10,cursor:Ie,children:tt})}}()]})}),(0,te.tZ)(p,{children:(0,te.BX)(we,{children:[ge(ke,i.widgetType),(0,te.BX)(w.ZP,{gap:1,children:[A&&i.id&&(0,te.tZ)(b.ZP,{type:"button",onClick:()=>{var e;R(),A(),(0,k.Z)("dashboards_views.widget_viewer.edit",{organization:n,widget_type:null!==(e=i.widgetType)&&void 0!==e?e:P.l9.DISCOVER,display_type:i.displayType})},children:(0,T.t)("Edit Widget")}),i.widgetType&&(0,te.tZ)(me,{widget:De,organization:n,selection:Ee,selectedQueryIndex:Le})]})]})})]})})}function me(e){let t,s,{widget:n,selection:o,organization:i,selectedQueryIndex:r}=e;const{isMetricsData:a}=(0,N.XA)();switch(n.widgetType){case P.l9.ISSUE:t=(0,T.t)("Open in Issues"),s=(0,D.hS)(n,o,i);break;case P.l9.RELEASE:t=(0,T.t)("Open in Releases"),s=(0,D.Cg)(n,o,i);break;case P.l9.DISCOVER:default:t=(0,T.t)("Open in Discover"),s=(0,D.z1)({...n,queries:[n.queries[r]]},o,i,0,a)}return(0,te.tZ)(b.ZP,{to:s,priority:"primary",type:"button",disabled:(0,D.BD)(n),title:(0,D.BD)(n)?(0,T.t)("Widgets using custom performance metrics cannot be opened in Discover."):void 0,onClick:()=>{var e;(0,k.Z)("dashboards_views.widget_viewer.open_source",{organization:i,widget_type:null!==(e=n.widgetType)&&void 0!==e?e:P.l9.DISCOVER,display_type:n.displayType})},children:t})}function ge(e,t){if(void 0===e)return(0,te.tZ)("span",{});switch(t){case P.l9.ISSUE:return(0,te.tZ)("span",{children:(0,T._N)("[description:Total Issues:] [total]",{description:(0,te.tZ)("strong",{}),total:"1000"===e?"1000+":e})});case P.l9.DISCOVER:return(0,te.tZ)("span",{children:(0,T._N)("[description:Total Events:] [total]",{description:(0,te.tZ)("strong",{}),total:e})});default:return(0,te.tZ)("span",{})}}pe.displayName="WidgetViewerModal",me.displayName="OpenButton";const he={name:"zhkibu",styles:"width:100%;max-width:1200px"},ye=(0,n.Z)("div",{target:"eteb5ir5"})("height:",(e=>e.height?`${e.height}px`:"auto"),";position:relative;padding-bottom:",(0,O.Z)(3),";"),ve=(0,n.Z)("div",{target:"eteb5ir4"})("margin-bottom:",(0,O.Z)(2),";position:relative;"),xe=(0,n.Z)(R.Z,{target:"eteb5ir3"})("position:absolute;top:",(0,O.Z)(1.5),";right:",(0,O.Z)(2),";"),be=(0,n.Z)("span",{target:"eteb5ir2"})("display:",(e=>e.display),";gap:",(0,O.Z)(1),";font-family:",(e=>e.theme.text.familyMono),";font-size:",(e=>e.theme.fontSizeSmall),";line-height:2;flex:1;"),we=(0,n.Z)("div",{target:"eteb5ir1"})("display:flex;flex-grow:1;flex-direction:column;gap:",(0,O.Z)(1),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){align-items:center;flex-direction:row;justify-content:space-between;}"),_e=(0,n.Z)("span",{target:"eteb5ir0"})("color:",(e=>e.theme.disabled),";"),fe=(0,i.withRouter)((0,A.Z)(pe))},"./app/components/pagination.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/react-router/es/index.js"),i=s("./app/components/button.tsx"),r=s("./app/components/buttonBar.tsx"),a=s("./app/icons/index.tsx"),l=s("./app/locale.tsx"),d=s("./app/styles/space.tsx"),u=s("./app/utils/parseLinkHeader.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const p=(e,t,s,n)=>o.browserHistory.push({pathname:t,query:{...s,cursor:e}}),m=e=>{var t,s;let{to:n,location:o,className:d,onCursor:m=p,paginationAnalyticsEvent:y,pageLinks:v,size:x="sm",caption:b,disabled:w=!1}=e;if(!v)return null;const _=null!=n?n:o.pathname,f=o.query,j=(0,u.Z)(v),Z=w||!1===(null===(t=j.previous)||void 0===t?void 0:t.results),R=w||!1===(null===(s=j.next)||void 0===s?void 0:s.results);return(0,c.BX)(g,{className:d,children:[b&&(0,c.tZ)(h,{children:b}),(0,c.BX)(r.ZP,{merged:!0,children:[(0,c.tZ)(i.ZP,{icon:(0,c.tZ)(a.g6,{direction:"left",size:"sm"}),"aria-label":(0,l.t)("Previous"),size:x,disabled:Z,onClick:()=>{var e;null==m||m(null===(e=j.previous)||void 0===e?void 0:e.cursor,_,f,-1),null==y||y("Previous")}}),(0,c.tZ)(i.ZP,{icon:(0,c.tZ)(a.g6,{direction:"right",size:"sm"}),"aria-label":(0,l.t)("Next"),size:x,disabled:R,onClick:()=>{var e;null==m||m(null===(e=j.next)||void 0===e?void 0:e.cursor,_,f,1),null==y||y("Next")}})]})]})};m.displayName="Pagination";const g=(0,n.Z)("div",{target:"ewgwd3b1"})("display:flex;align-items:center;justify-content:flex-end;margin:",(0,d.Z)(3)," 0 0 0;"),h=(0,n.Z)("span",{target:"ewgwd3b0"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";margin-right:",(0,d.Z)(2),";"),y=(0,o.withRouter)(m)},"./app/components/truncate.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),r=s("./app/styles/space.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class l extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{isExpanded:!1}),(0,n.Z)(this,"onFocus",(()=>{const{value:e,maxLength:t}=this.props;e.length<=t||this.setState({isExpanded:!0})})),(0,n.Z)(this,"onBlur",(()=>{this.state.isExpanded&&this.setState({isExpanded:!1})}))}render(){const{className:e,leftTrim:t,trimRegex:s,minLength:n,maxLength:o,value:i,expandable:r,expandDirection:l}=this.props,c=i.length>o;let p="";if(c){const e=t?i.slice(i.length-(o-4),i.length):i.slice(0,o-4);if(s&&t){const t=e.search(s);p=(0,a.BX)("span",{children:["…"," ",t>0&&t<=o-n?e.slice(e.search(s),e.length):e]})}else if(s&&!t){const t=e.match(s);let o=t?e.lastIndexOf(t[t.length-1])+1:e.length;o<=n&&(o=e.length),p=(0,a.BX)("span",{children:[e.slice(0,o)," …"]})}else p=t?(0,a.BX)("span",{children:["… ",e]}):(0,a.BX)("span",{children:[e," …"]})}else p=i;return(0,a.BX)(d,{className:e,onMouseOver:r?this.onFocus:void 0,onMouseOut:r?this.onBlur:void 0,onFocus:r?this.onFocus:void 0,onBlur:r?this.onBlur:void 0,children:[(0,a.tZ)("span",{children:p}),c&&(0,a.tZ)(u,{expanded:this.state.isExpanded,expandDirection:l,children:i})]})}}l.displayName="Truncate",(0,n.Z)(l,"defaultProps",{className:"",minLength:15,maxLength:50,leftTrim:!1,expandable:!0,expandDirection:"right"});const d=(0,o.Z)("span",{target:"e1sfkn8v1"})({name:"bjn8wh",styles:"position:relative"}),u=(0,o.Z)("span",{target:"e1sfkn8v0"})("display:none;position:absolute;background:",(e=>e.theme.background),";padding:",(0,r.Z)(.5),";border:1px solid ",(e=>e.theme.innerBorder),";white-space:nowrap;border-radius:",(0,r.Z)(.5),";top:-5px;",(e=>"left"===e.expandDirection&&"right: -5px;")," ",(e=>"right"===e.expandDirection&&"left: -5px;")," ",(e=>e.expanded&&`\n    z-index: ${e.theme.zIndex.truncationFullValue};\n    display: block;\n    `),";"),c=l},"./app/utils/useOrganization.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i}),s("../node_modules/core-js/modules/es.error.cause.js");var n=s("../node_modules/react/index.js"),o=s("./app/views/organizationContext.tsx");const i=function(){const e=(0,n.useContext)(o.g);if(!e)throw new Error("useOrganization called but organization is not set.");return e}},"./app/utils/withConfig.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s("./app/stores/configStore.tsx"),o=s("./app/stores/useLegacyStore.tsx"),i=s("./app/utils/getDisplayName.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=function(e){const t=t=>{const s={config:(0,o.X)(n.Z),...t};return(0,r.tZ)(e,{...s})};return t.displayName=`withConfig(${(0,i.Z)(e)})`,t}},"./app/views/organizationContext.tsx":(e,t,s)=>{"use strict";s.d(t,{g:()=>n});const n=(0,s("../node_modules/react/index.js").createContext)(null)},"../node_modules/core-js/internals/a-constructor.js":(e,t,s)=>{var n=s("../node_modules/core-js/internals/is-constructor.js"),o=s("../node_modules/core-js/internals/try-to-string.js"),i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not a constructor")}},"../node_modules/core-js/internals/species-constructor.js":(e,t,s)=>{var n=s("../node_modules/core-js/internals/an-object.js"),o=s("../node_modules/core-js/internals/a-constructor.js"),i=s("../node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e,t){var s,r=n(e).constructor;return void 0===r||null==(s=n(r)[i])?t:o(s)}},"../node_modules/core-js/modules/es.string.match-all.js":(e,t,s)=>{"use strict";var n=s("../node_modules/core-js/internals/export.js"),o=s("../node_modules/core-js/internals/function-call.js"),i=s("../node_modules/core-js/internals/function-uncurry-this.js"),r=s("../node_modules/core-js/internals/create-iterator-constructor.js"),a=s("../node_modules/core-js/internals/require-object-coercible.js"),l=s("../node_modules/core-js/internals/to-length.js"),d=s("../node_modules/core-js/internals/to-string.js"),u=s("../node_modules/core-js/internals/an-object.js"),c=s("../node_modules/core-js/internals/classof-raw.js"),p=s("../node_modules/core-js/internals/is-regexp.js"),m=s("../node_modules/core-js/internals/regexp-get-flags.js"),g=s("../node_modules/core-js/internals/get-method.js"),h=s("../node_modules/core-js/internals/define-built-in.js"),y=s("../node_modules/core-js/internals/fails.js"),v=s("../node_modules/core-js/internals/well-known-symbol.js"),x=s("../node_modules/core-js/internals/species-constructor.js"),b=s("../node_modules/core-js/internals/advance-string-index.js"),w=s("../node_modules/core-js/internals/regexp-exec-abstract.js"),_=s("../node_modules/core-js/internals/internal-state.js"),f=s("../node_modules/core-js/internals/is-pure.js"),j=v("matchAll"),Z="RegExp String Iterator",R=_.set,E=_.getterFor(Z),S=RegExp.prototype,T=TypeError,O=i("".indexOf),C=i("".matchAll),k=!!C&&!y((function(){C("a",/./)})),q=r((function(e,t,s,n){R(this,{type:Z,regexp:e,string:t,global:s,unicode:n,done:!1})}),"RegExp String",(function(){var e=E(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,s=e.string,n=w(t,s);return null===n?{value:void 0,done:e.done=!0}:e.global?(""===d(n[0])&&(t.lastIndex=b(s,l(t.lastIndex),e.unicode)),{value:n,done:!1}):(e.done=!0,{value:n,done:!1})})),L=function(e){var t,s,n,o=u(this),i=d(e),r=x(o,RegExp),a=d(m(o));return t=new r(r===RegExp?o.source:o,a),s=!!~O(a,"g"),n=!!~O(a,"u"),t.lastIndex=l(o.lastIndex),new q(t,i,s,n)};n({target:"String",proto:!0,forced:k},{matchAll:function(e){var t,s,n,i,r=a(this);if(null!=e){if(p(e)&&(t=d(a(m(e))),!~O(t,"g")))throw T("`.matchAll` does not allow non-global regexes");if(k)return C(r,e);if(void 0===(n=g(e,j))&&f&&"RegExp"==c(e)&&(n=L),n)return o(n,e,r)}else if(k)return C(r,e);return s=d(r),i=new RegExp(e,"g"),f?o(L,i,s):i[j](s)}}),f||j in S||h(S,j,L)},"../node_modules/lodash/_charsStartIndex.js":(e,t,s)=>{var n=s("../node_modules/lodash/_baseIndexOf.js");e.exports=function(e,t){for(var s=-1,o=e.length;++s<o&&n(t,e[s],0)>-1;);return s}},"../node_modules/lodash/assign.js":(e,t,s)=>{var n=s("../node_modules/lodash/_assignValue.js"),o=s("../node_modules/lodash/_copyObject.js"),i=s("../node_modules/lodash/_createAssigner.js"),r=s("../node_modules/lodash/isArrayLike.js"),a=s("../node_modules/lodash/_isPrototype.js"),l=s("../node_modules/lodash/keys.js"),d=Object.prototype.hasOwnProperty,u=i((function(e,t){if(a(t)||r(t))o(t,l(t),e);else for(var s in t)d.call(t,s)&&n(e,s,t[s])}));e.exports=u},"../node_modules/lodash/cloneDeep.js":(e,t,s)=>{var n=s("../node_modules/lodash/_baseClone.js");e.exports=function(e){return n(e,5)}},"../node_modules/lodash/isInteger.js":(e,t,s)=>{var n=s("../node_modules/lodash/toInteger.js");e.exports=function(e){return"number"==typeof e&&e==n(e)}},"../node_modules/lodash/isNil.js":e=>{e.exports=function(e){return null==e}},"../node_modules/lodash/isNumber.js":(e,t,s)=>{var n=s("../node_modules/lodash/_baseGetTag.js"),o=s("../node_modules/lodash/isObjectLike.js");e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==n(e)}},"../node_modules/lodash/maxBy.js":(e,t,s)=>{var n=s("../node_modules/lodash/_baseExtremum.js"),o=s("../node_modules/lodash/_baseGt.js"),i=s("../node_modules/lodash/_baseIteratee.js");e.exports=function(e,t){return e&&e.length?n(e,i(t,2),o):void 0}},"../node_modules/lodash/pick.js":(e,t,s)=>{var n=s("../node_modules/lodash/_basePick.js"),o=s("../node_modules/lodash/_flatRest.js")((function(e,t){return null==e?{}:n(e,t)}));e.exports=o},"../node_modules/lodash/set.js":(e,t,s)=>{var n=s("../node_modules/lodash/_baseSet.js");e.exports=function(e,t,s){return null==e?e:n(e,t,s)}},"../node_modules/lodash/trimStart.js":(e,t,s)=>{var n=s("../node_modules/lodash/_baseToString.js"),o=s("../node_modules/lodash/_castSlice.js"),i=s("../node_modules/lodash/_charsStartIndex.js"),r=s("../node_modules/lodash/_stringToArray.js"),a=s("../node_modules/lodash/toString.js"),l=/^\s+/;e.exports=function(e,t,s){if((e=a(e))&&(s||void 0===t))return e.replace(l,"");if(!e||!(t=n(t)))return e;var d=r(e),u=i(d,r(t));return o(d,u).join("")}}}]);
//# sourceMappingURL=../sourcemaps/app_components_acl_access_tsx-app_components_forms_textCopyInput_tsx-app_components_modals_wi-9f3c2a.13a1a5a704961e38372319e82de6e0e2.js.map