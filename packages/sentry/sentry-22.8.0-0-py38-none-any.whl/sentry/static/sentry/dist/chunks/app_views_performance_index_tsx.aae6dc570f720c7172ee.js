"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_performance_index_tsx"],{"./app/utils/performance/contexts/metricsEnhancedSetting.tsx":(e,t,n)=>{n.d(t,{Ar:()=>x,Eg:()=>v,gp:()=>y,kP:()=>g,nP:()=>m,nl:()=>p,oR:()=>f,tm:()=>h}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.replace.js");var s=n("../node_modules/react/index.js"),r=n("../node_modules/react-router/es/index.js"),o=(n("./app/utils/localStorage.tsx"),n("./app/utils/queryString.tsx")),a=n("./app/utils/useOrganization.tsx"),i=n("./app/utils/performance/contexts/utils.tsx"),c=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const[u,l,d]=(0,i.n)({name:"MetricsEnhancedSettingContext"}),m=d.Consumer;let p,f;!function(e){e.unset="unset",e.metrics="metrics",e.transactions="transactions"}(p||(p={})),function(e){e.auto="auto",e.metricsOnly="metricsOnly",e.transactionsOnly="transactionsOnly"}(f||(f={}));const x="metricSetting",h="metricSearchSetting";function y(e){const t=function(e){return e.features.includes("performance-use-metrics")}(e),n=e.features.includes("performance-transaction-name-only-search"),s=e.features.includes("server-side-sampling")&&e.features.includes("mep-rollout-flag");return t||n||s}const g=e=>{var t;let{children:n,location:i,_hasMEPState:l,forceTransactions:d}=e;const m=y((0,a.Z)()),h=[f.metricsOnly,f.transactionsOnly],g=i?(0,o.ro)(i.query[x]):f.metricsOnly;let v=f.metricsOnly;d&&(v=f.transactionsOnly);const P=null!==(t=h.find((e=>e===g)))&&void 0!==t?t:v,S=void 0!==l,[j,w]=(0,s.useReducer)(((e,t)=>t),P),_=(0,s.useCallback)((e=>{i&&(r.browserHistory.replace({...i,query:{...i.query,[x]:e}}),w(e))}),[i,w]),[O,b]=(0,s.useReducer)(((e,t)=>t),p.unset),E=S?l:j,C=m&&E===f.auto,M=m&&E===f.metricsOnly,Z=m&&E===f.transactionsOnly,k=`${E}`;return(0,c.tZ)(u,{value:{autoSampleState:O,metricSettingState:E,shouldQueryProvideMEPAutoParams:C,shouldQueryProvideMEPMetricParams:M,shouldQueryProvideMEPTransactionParams:Z,memoizationKey:k,setMetricSettingState:_,setAutoSampleState:b},children:n})};g.displayName="MEPSettingProvider";const v=l},"./app/utils/performance/contexts/utils.tsx":(e,t,n)=>{n.d(t,{n:()=>r}),n("../node_modules/core-js/modules/es.error.cause.js");var s=n("../node_modules/react/index.js");function r(e){const{strict:t=!0,errorMessage:n=`useContext for "${e.name}" must be inside a Provider with a value`,name:r}=e,o=(0,s.createContext)(void 0);return o.displayName=r,[o.Provider,function(){const e=(0,s.useContext)(o);if(!e&&t)throw new Error(n);return e},o]}},"./app/views/performance/index.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var s=n("./app/components/acl/feature.tsx"),r=n("./app/components/alert.tsx"),o=n("./app/locale.tsx"),a=n("./app/styles/organization.tsx"),i=n("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),c=n("./app/utils/withOrganization.tsx"),u=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{organization:t,children:n}=e;return(0,u.tZ)(s.Z,{hookName:"feature-disabled:performance-page",features:["performance-view"],organization:t,renderDisabled:function(){return(0,u.tZ)(a.JH,{children:(0,u.tZ)(r.Z,{type:"warning",children:(0,o.t)("You don't have access to this feature")})})},children:(0,u.tZ)(i.kP,{children:n})})}l.displayName="PerformanceContainer";const d=(0,c.Z)(l)}}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_index_tsx.8f14cc86619eab1d353bc82a21f69233.js.map