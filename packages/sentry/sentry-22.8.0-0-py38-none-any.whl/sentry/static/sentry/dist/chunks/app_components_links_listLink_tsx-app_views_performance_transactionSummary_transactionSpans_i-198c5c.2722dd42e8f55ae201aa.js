(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_links_listLink_tsx-app_views_performance_transactionSummary_transactionSpans_i-198c5c"],{"./app/components/gridEditable/sortLink.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("../node_modules/lodash/omit.js"),o=n.n(i),a=n("./app/components/links/link.tsx"),r=n("./app/icons/index.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{align:t,title:n,canSort:s,generateSortLink:i,onClick:o,direction:a}=e;const r=i();if(!r||!s)return(0,l.tZ)(u,{align:t,children:n});const c=a?(0,l.tZ)(d,{size:"xs",direction:"desc"===a?"down":"up"}):null;return(0,l.BX)(p,{align:t,to:r,onClick:o,children:[n," ",c]})}c.displayName="SortLink";const p=(0,s.Z)((e=>{const t=o()(e,["align"]);return(0,l.tZ)(a.Z,{...t})}),{target:"e1xb2te62"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(e=>e.align?`text-align: ${e.align};`:""),";"),u=(0,s.Z)("div",{target:"e1xb2te61"})("display:block;width:100%;white-space:nowrap;",(e=>e.align?`text-align: ${e.align};`:""),";"),d=(0,s.Z)(r.CC,{target:"e1xb2te60"})({name:"40f4ru",styles:"vertical-align:top"}),m=c},"./app/components/links/listLink.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),a=n("../node_modules/react-router/es/index.js"),r=n("../node_modules/classnames/index.js"),l=n.n(r),c=n("../node_modules/lodash/omit.js"),p=n.n(c),u=n("../node_modules/query-string/index.js"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class m extends o.Component{constructor(){super(...arguments),(0,s.Z)(this,"getClassName",(()=>{const e={},{className:t,activeClassName:n}=this.props;return t&&(e[t]=!0),this.isActive()&&n&&(e[n]=!0),l()(e)}))}isActive(){const{isActive:e,to:t,query:n,index:s,router:i}=this.props,o=n?u.parse(n):void 0,a="string"==typeof t?{pathname:t,query:o}:t;return"function"==typeof e?e(a,s):i.isActive(a,s)}render(){const{index:e,children:t,to:n,disabled:s,...i}=this.props,o=p()(i,"activeClassName","css","isActive","index","router","location");return(0,d.tZ)(g,{className:this.getClassName(),disabled:s,children:(0,d.tZ)(a.Link,{...o,onlyActiveOnIndex:e,to:s?"":n,children:t})})}}m.displayName="ListLink",(0,s.Z)(m,"displayName","ListLink"),(0,s.Z)(m,"defaultProps",{activeClassName:"active",index:!1,disabled:!1});const v=(0,a.withRouter)(m),g=(0,i.Z)("li",{shouldForwardProp:e=>"disabled"!==e,target:"er8tqc10"})((e=>e.disabled&&`\n   a {\n    color:${e.theme.disabled} !important;\n    pointer-events: none;\n    :hover {\n      color: ${e.theme.disabled}  !important;\n    }\n   }\n`),";")},"./app/utils/discover/discoverQuery.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n("./app/utils/withApi.tsx"),i=n("./app/utils/discover/genericDiscoverQuery.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e,t){return e.transactionName!==t.transactionName||e.transactionThreshold!==t.transactionThreshold||e.transactionThresholdMetric!==t.transactionThresholdMetric}function r(e){const t=e.useEvents?"events":"eventsv2",n=e.useEvents?(e,t)=>{var n;const{fields:s,...i}=null!==(n=e.meta)&&void 0!==n?n:{};return{...e,meta:{...s,...i}}}:void 0;return(0,o.tZ)(i.ZP,{route:t,shouldRefetchData:a,afterFetch:n,...e})}r.displayName="DiscoverQuery";const l=(0,s.Z)(r)},"./app/utils/performance/suspectSpans/suspectSpansQuery.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n("../node_modules/lodash/omit.js"),i=n.n(s),o=n("./app/utils.tsx"),a=n("./app/utils/discover/genericDiscoverQuery.tsx"),r=n("./app/utils/withApi.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){const{perSuspect:t,spanOps:n,spanGroups:s,minExclusiveTime:i,maxExclusiveTime:a}=e,r={perSuspect:t,spanOp:n,spanGroup:s,min_exclusive_time:i,max_exclusive_time:a};(0,o.ri)(r.perSuspect)||delete r.perSuspect,(0,o.ri)(r.spanOp)||delete r.spanOp,(0,o.ri)(r.spanGroup)||delete r.spanGroup;const l=e.eventView.getEventsAPIPayload(e.location);return{...r,...l}}function p(e){return(0,l.tZ)(a.ZP,{route:"events-spans-performance",getRequestPayload:c,...i()(e,"children"),children:t=>{let{tableData:n,...s}=t;return e.children({suspectSpans:n,...s})}})}p.displayName="SuspectSpansQuery";const u=(0,r.Z)(p)},"./app/views/performance/transactionSummary/transactionSpans/index.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$});var s=n("./app/locale.tsx"),i=n("./app/utils/withOrganization.tsx"),o=n("./app/utils/withProjects.tsx"),a=n("./app/views/performance/transactionSummary/pageLayout.tsx"),r=n("./app/views/performance/transactionSummary/tabs.tsx"),l=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),c=n("../node_modules/react/index.js"),p=n("../node_modules/react-router/es/index.js"),u=n("../node_modules/lodash/omit.js"),d=n.n(u),m=n("./app/components/datePageFilter.tsx"),v=n("./app/components/environmentPageFilter.tsx"),g=n("./app/components/events/searchBar.tsx"),x=n("./app/components/forms/compactSelect.tsx"),y=n("./app/components/layouts/thirds.tsx"),h=n("./app/components/organizations/pageFilterBar.tsx"),f=n("./app/components/organizations/pageFilters/parse.tsx"),S=n("./app/components/pagination.tsx"),b=n("./app/styles/space.tsx"),Z=n("./app/utils.tsx"),E=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),w=n("./app/utils/discover/discoverQuery.tsx"),T=n("./app/utils/performance/suspectSpans/suspectSpansQuery.tsx"),_=n("./app/utils/queryString.tsx"),k=n("./app/utils/useProjects.tsx"),j=n("./app/components/performance/waterfall/utils.tsx"),C=n("./app/icons/index.tsx"),q=n("./app/utils/discover/genericDiscoverQuery.tsx"),P=n("./app/utils/withApi.tsx"),L=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function z(e){return(0,L.tZ)(q.ZP,{route:"events-span-ops",limit:20,...d()(e,"children"),children:t=>{let{tableData:n,...s}=t;return e.children({spanOps:n,...s})}})}z.displayName="SpanOpsQuery";const N=(0,P.Z)(z);var O=n("./app/utils/tokenizeSearch.tsx");function I(e){let{spanOps:t,isLoading:n,error:i}=e;return n?[{key:"isLoading",isDisabled:!0,label:(0,s.t)("Loadingâ€¦")}]:i?[{key:"error",isDisabled:!0,label:(0,s.t)("Error loading operations"),leadingItems:(0,L.tZ)(C.FC,{color:"subText"})}]:t.map((e=>({value:e.op,label:e.op,leadingItems:(0,L.tZ)(V,{backgroundColor:(0,j.hd)(e.op)})})))}function D(e){const{location:t,eventView:n,organization:i,handleOpChange:o,transactionName:a}=e,r=new O.MY("");r.setFilterValues("event.type",["transaction"]).setFilterValues("transaction",[a]);const l=n.clone();l.query=r.formatString();const c=(0,_.ro)(t.query.spanOp);return(0,L.tZ)(N,{location:t,orgSlug:i.slug,eventView:l,cursor:"0:0:1",noPagination:!0,children:e=>(0,L.tZ)(x.Z,{isClearable:!0,maxMenuWidth:"24rem",menuTitle:(0,s.t)("Filter by operation"),options:I(e),onChange:e=>o(null==e?void 0:e.value),value:c,triggerLabel:null!=c?c:(0,s.t)("Filter"),triggerProps:{icon:(0,L.tZ)(C.wH,{})}})})}D.displayName="OpsFilter";const V=(0,l.Z)("div",{target:"eb2ydel0"})("display:block;width:",(0,b.Z)(1),";height:",(0,b.Z)(1),";border-radius:100%;background-color:",(e=>e.backgroundColor),";");var A=n("./app/views/performance/transactionSummary/transactionSpans/suspectSpansTable.tsx"),F=n("./app/views/performance/transactionSummary/transactionSpans/utils.tsx");const M={spanOp:(e,t)=>(0,E.Z)("performance_views.spans.change_op",{organization:e,operation_name:t}),sort:(e,t)=>(0,E.Z)("performance_views.spans.change_sort",{organization:e,sort_column:t})};function B(e){const{location:t,organization:n,eventView:s,projectId:i,transactionName:o}=e,a=(0,_.ro)(t.query.query,"");function r(e){return function(s){var i;null===(i=M[e])||void 0===i||i.call(M,n,s);const o=(0,f.fK)({...t.query||{},[e]:s}),a=["cursor"];(0,Z.ri)(s)||a.push(e);const r=d()(o,a);p.browserHistory.push({...t,query:r})}}const l=(0,_.ro)(t.query.spanOp),u=(0,_.ro)(t.query.spanGroup),g=(0,F.KK)(s),b=function(e,t){e=e.clone();const n=F.uQ[t];return e.fields=n?n.map((e=>({field:e}))):[],e}(s,g.field),E=(0,F.zW)(s),{projects:j}=(0,k.Z)();return(0,L.BX)(y.or,{fullWidth:!0,children:[(0,L.BX)(Q,{children:[(0,L.tZ)(D,{location:t,eventView:s,organization:n,handleOpChange:r("spanOp"),transactionName:o}),(0,L.BX)(h.Z,{condensed:!0,children:[(0,L.tZ)(v.Z,{}),(0,L.tZ)(m.Z,{alignDropdown:"left",maxPickableDays:F.bc,relativeOptions:F.CS})]}),(0,L.tZ)(X,{organization:n,projectIds:s.project,query:a,fields:s.fields,onSearch:r("query")}),(0,L.tZ)(x.Z,{value:g.field,options:F.E5.map((e=>({value:e.field,label:e.label}))),onChange:e=>r("sort")(e.value),triggerProps:{prefix:g.prefix},triggerLabel:g.label})]}),(0,L.tZ)(w.Z,{eventView:E,orgSlug:n.slug,location:t,referrer:"api.performance.transaction-spans",cursor:"0:0:1",noPagination:!0,useEvents:!0,children:e=>{var s,a;let{tableData:r}=e;const p=null!==(s=null==r||null===(a=r.data)||void 0===a?void 0:a[0])&&void 0!==s?s:null;return(0,L.tZ)(T.Z,{location:t,orgSlug:n.slug,eventView:b,limit:10,perSuspect:0,spanOps:(0,Z.ri)(l)?[l]:[],spanGroups:(0,Z.ri)(u)?[u]:[],children:e=>{let{suspectSpans:s,isLoading:a,pageLinks:r}=e;return(0,L.BX)(c.Fragment,{children:[(0,L.tZ)(A.Z,{location:t,organization:n,transactionName:o,project:j.find((e=>e.id===i)),isLoading:a,suspectSpans:null!=s?s:[],totals:p,sort:g.field}),(0,L.tZ)(S.Z,{pageLinks:null!=r?r:null})]})}})}})]})}B.displayName="SpansContent";const Q=(0,l.Z)("div",{target:"e782fmc1"})("display:grid;gap:",(0,b.Z)(2),";margin-bottom:",(0,b.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:repeat(3, min-content);}@media (min-width: ",(e=>e.theme.breakpoints.xlarge),"){grid-template-columns:auto auto 1fr auto;}"),X=(0,l.Z)(g.Z,{target:"e782fmc0"})("@media (min-width: ",(e=>e.theme.breakpoints.small),"){order:1;grid-column:1/5;}@media (min-width: ",(e=>e.theme.breakpoints.xlarge),"){order:initial;grid-column:auto;}"),G=B;function U(e){const{location:t,organization:n,projects:s}=e;return(0,L.tZ)(a.ZP,{location:t,organization:n,projects:s,tab:r.Z.Spans,getDocumentTitle:R,generateEventView:F.xz,childComponent:G})}function R(e){return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,s.t)("Performance")].join(" - "):[(0,s.t)("Summary"),(0,s.t)("Performance")].join(" - ")}U.displayName="TransactionSpans";const $=(0,o.Z)((0,i.Z)(U))},"./app/views/performance/transactionSummary/transactionSpans/spanDetails/utils.tsx":(e,t,n)=>{"use strict";function s(e){let{orgSlug:t,transaction:n,query:s,spanSlug:i,projectID:o}=e;const a=function(e){let{orgSlug:t,spanSlug:n}=e;return`/organizations/${t}/performance/summary/spans/${encodeURIComponent(n.op)}:${n.group}/`}({orgSlug:t,spanSlug:i});return{pathname:a,query:{transaction:n,project:o,environment:s.environment,statsPeriod:s.statsPeriod,start:s.start,end:s.end,query:s.query}}}let i;n.d(t,{BP:()=>s,wL:()=>i}),function(e){e.MIN="min",e.MAX="max"}(i||(i={}))},"./app/views/performance/transactionSummary/transactionSpans/suspectSpansTable.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var s=n("./app/components/gridEditable/index.tsx"),i=n("./app/components/gridEditable/sortLink.tsx"),o=n("./app/components/links/link.tsx"),a=n("./app/locale.tsx"),r=n("./app/utils.tsx"),l=n("./app/utils/discover/fieldRenderers.tsx"),c=n("./app/utils/discover/fields.tsx"),p=n("./app/utils/discover/styles.tsx"),u=n("./app/views/performance/transactionSummary/transactionSpans/spanDetails/utils.tsx"),d=n("./app/views/performance/transactionSummary/transactionSpans/types.tsx"),m=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function v(e){const{location:t,organization:n,transactionName:i,isLoading:o,suspectSpans:a,totals:l,sort:c,project:p}=e,u=a.map((e=>({operation:e.op,group:e.group,description:e.description,totalCount:e.count,frequency:(0,r.ri)(e.frequency)&&(0,r.ri)(null==l?void 0:l["count()"])?Math.min(1,e.frequency/l["count()"]):null,avgOccurrences:e.avgOccurrences,p50ExclusiveTime:e.p50ExclusiveTime,p75ExclusiveTime:e.p75ExclusiveTime,p95ExclusiveTime:e.p95ExclusiveTime,p99ExclusiveTime:e.p99ExclusiveTime,sumExclusiveTime:e.sumExclusiveTime})));return(0,m.tZ)(s.ZP,{isLoading:o,data:u,columnOrder:y[c].map((e=>h[e])),columnSortBy:[],grid:{renderHeadCell:g,renderBodyCell:x(t,n,i,p)},location:t})}function g(e,t){const n=(0,c.qG)(e.key,f[e.key]);return(0,m.tZ)(i.Z,{title:e.name,align:n,direction:void 0,canSort:!1,generateSortLink:()=>{}})}function x(e,t,n,s){return(i,r)=>{const c=(0,l.Js)(i.key,f);if("description"===i.key){var d;const l=(0,u.BP)({orgSlug:t.slug,transaction:n,query:e.query,spanSlug:{op:r.operation,group:r.group},projectID:null==s?void 0:s.id});return(0,m.tZ)(p.W2,{children:(0,m.tZ)(o.Z,{to:l,children:null!==(d=r[i.key])&&void 0!==d?d:(0,a.t)("(unnamed span)")})})}return c(r,{location:e,organization:t})}}v.displayName="SuspectSpansTable",g.displayName="renderHeadCell";const y={[d.g.COUNT]:["operation","description","totalCount","frequency","p75ExclusiveTime","sumExclusiveTime"],[d.g.AVG_OCCURRENCE]:["operation","description","avgOccurrences","frequency","p75ExclusiveTime","sumExclusiveTime"],[d.g.SUM_EXCLUSIVE_TIME]:["operation","description","totalCount","frequency","p75ExclusiveTime","sumExclusiveTime"],[d.p.P50_EXCLUSIVE_TIME]:["operation","description","totalCount","frequency","p50ExclusiveTime","sumExclusiveTime"],[d.p.P75_EXCLUSIVE_TIME]:["operation","description","totalCount","frequency","p75ExclusiveTime","sumExclusiveTime"],[d.p.P95_EXCLUSIVE_TIME]:["operation","description","totalCount","frequency","p95ExclusiveTime","sumExclusiveTime"],[d.p.P99_EXCLUSIVE_TIME]:["operation","description","totalCount","frequency","p99ExclusiveTime","sumExclusiveTime"]},h={operation:{key:"operation",name:(0,a.t)("Span Operation"),width:s.z7},description:{key:"description",name:(0,a.t)("Span Name"),width:s.z7},totalCount:{key:"totalCount",name:(0,a.t)("Total Count"),width:s.z7},frequency:{key:"frequency",name:(0,a.t)("Frequency"),width:s.z7},avgOccurrences:{key:"avgOccurrences",name:(0,a.t)("Average Occurrences"),width:s.z7},p50ExclusiveTime:{key:"p50ExclusiveTime",name:(0,a.t)("P50 Self Time"),width:s.z7},p75ExclusiveTime:{key:"p75ExclusiveTime",name:(0,a.t)("P75 Self Time"),width:s.z7},p95ExclusiveTime:{key:"p95ExclusiveTime",name:(0,a.t)("P95 Self Time"),width:s.z7},p99ExclusiveTime:{key:"p99ExclusiveTime",name:(0,a.t)("P99 Self Time"),width:s.z7},sumExclusiveTime:{key:"sumExclusiveTime",name:(0,a.t)("Total Self Time"),width:s.z7}},f={operation:"string",description:"string",totalCount:"integer",frequency:"percentage",avgOccurrences:"number",p50ExclusiveTime:"duration",p75ExclusiveTime:"duration",p95ExclusiveTime:"duration",p99ExclusiveTime:"duration",sumExclusiveTime:"duration"}},"../node_modules/lodash/_baseExtremum.js":(e,t,n)=>{var s=n("../node_modules/lodash/isSymbol.js");e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],r=t(a);if(null!=r&&(void 0===l?r==r&&!s(r):n(r,l)))var l=r,c=a}return c}},"../node_modules/lodash/_baseGt.js":e=>{e.exports=function(e,t){return e>t}}}]);
//# sourceMappingURL=../sourcemaps/app_components_links_listLink_tsx-app_views_performance_transactionSummary_transactionSpans_i-198c5c.c993b9d89631db65841a97e2445ebc38.js.map