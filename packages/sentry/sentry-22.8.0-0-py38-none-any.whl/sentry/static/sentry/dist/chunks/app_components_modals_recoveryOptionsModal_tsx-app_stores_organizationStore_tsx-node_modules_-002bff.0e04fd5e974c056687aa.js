(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_recoveryOptionsModal_tsx-app_stores_organizationStore_tsx-node_modules_-002bff"],{"./app/actions/organizationActions.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});const n=(0,o("../node_modules/reflux/src/index.js").createActions)(["reset","fetchOrgError","update"])},"./app/components/modals/recoveryOptionsModal.tsx":(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>m});var n=o("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/react/index.js")),i=o("./app/components/alert.tsx"),a=o("./app/components/asyncComponent.tsx"),c=o("./app/components/button.tsx"),d=o("./app/locale.tsx"),u=o("./app/styles/space.tsx"),l=o("./app/views/settings/components/text/textBlock.tsx"),p=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class h extends a.Z{constructor(){super(...arguments),(0,r.Z)(this,"handleSkipSms",(()=>{this.setState({skipSms:!0})}))}getDefaultState(){return{...super.getDefaultState(),skipSms:!1}}getEndpoints(){return[["authenticators","/users/me/authenticators/"]]}renderBody(){const{authenticatorName:e,closeModal:t,Body:o,Header:r,Footer:a}=this.props,{authenticators:h,skipSms:m}=this.state,{recovery:f,sms:y}=h.reduce(((e,t)=>(e[t.id]=t,e)),{}),g=f&&f.isEnrolled,b=y&&!y.isEnrolled&&!m&&!y.disallowNewEnrollment;return(0,p.BX)(s.Fragment,{children:[(0,p.tZ)(r,{closeButton:!0,children:(0,d.t)("Two-Factor Authentication Enabled")}),(0,p.BX)(o,{children:[(0,p.tZ)(l.Z,{children:(0,d.t)("Two-factor authentication via %s has been enabled.",e)}),(0,p.tZ)(l.Z,{children:(0,d.t)("You should now set up recovery options to secure your account.")}),b?(0,p.tZ)(i.Z,{type:"warning",children:(0,d.t)("We recommend adding a phone number as a backup 2FA method.")}):(0,p.tZ)(i.Z,{type:"warning",children:(0,d.t)("Recovery codes are the only way to access your account if you lose\n                  your device and cannot receive two-factor authentication codes.")})]}),b?(0,p.BX)(a,{children:[(0,p.tZ)(c.ZP,{onClick:this.handleSkipSms,name:"skipStep",autoFocus:!0,children:(0,d.t)("Skip this step")}),(0,p.tZ)(c.ZP,{priority:"primary",onClick:t,to:`/settings/account/security/mfa/${y.id}/enroll/`,name:"addPhone",css:(0,n.iv)({marginLeft:(0,u.Z)(1)},"",""),autoFocus:!0,children:(0,d.t)("Add a Phone Number")})]}):(0,p.tZ)(a,{children:(0,p.tZ)(c.ZP,{priority:"primary",onClick:t,to:g?`/settings/account/security/mfa/${f.authId}/`:"/settings/account/security/",name:"getCodes",autoFocus:!0,children:(0,d.t)("Get Recovery Codes")})})]})}}const m=h},"./app/stores/organizationStore.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>c}),o("../node_modules/core-js/modules/es.string.replace.js");var n=o("../node_modules/reflux/src/index.js"),r=o("./app/actions/organizationActions.tsx"),s=o("./app/constants/index.tsx"),i=o("./app/utils/makeSafeRefluxStore.ts");const a={unsubscribeListeners:[],init(){this.reset(),this.unsubscribeListeners.push(this.listenTo(r.Z.update,this.onUpdate)),this.unsubscribeListeners.push(this.listenTo(r.Z.reset,this.reset)),this.unsubscribeListeners.push(this.listenTo(r.Z.fetchOrgError,this.onFetchOrgError))},reset(){this.loading=!0,this.error=null,this.errorType=null,this.organization=null,this.dirty=!1,this.trigger(this.get())},onUpdate(e){let{replace:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!1,this.error=null,this.errorType=null,this.organization=t?e:{...this.organization,...e},this.dirty=!1,this.trigger(this.get())},onFetchOrgError(e){switch(this.organization=null,this.errorType=null,null==e?void 0:e.status){case 401:this.errorType=s.Yc.ORG_NO_ACCESS;break;case 404:this.errorType=s.Yc.ORG_NOT_FOUND}this.loading=!1,this.error=e,this.dirty=!1,this.trigger(this.get())},get(){return{organization:this.organization,error:this.error,loading:this.loading,errorType:this.errorType,dirty:this.dirty}},getState(){return this.get()}},c=(0,n.createStore)((0,i.Y)(a))},"../node_modules/lodash/findLastIndex.js":(e,t,o)=>{var n=o("../node_modules/lodash/_baseFindIndex.js"),r=o("../node_modules/lodash/_baseIteratee.js"),s=o("../node_modules/lodash/toInteger.js"),i=Math.max,a=Math.min;e.exports=function(e,t,o){var c=null==e?0:e.length;if(!c)return-1;var d=c-1;return void 0!==o&&(d=s(o),d=o<0?i(c+d,0):a(d,c-1)),n(e,r(t,3),d,!0)}},"../node_modules/react-document-title/index.js":(e,t,o)=>{"use strict";var n=o("../node_modules/react/index.js"),r=o("../node_modules/prop-types/index.js"),s=o("../node_modules/react-side-effect/lib/index.js");function i(){}i.prototype=Object.create(n.Component.prototype),i.displayName="DocumentTitle",i.propTypes={title:r.string.isRequired},i.prototype.render=function(){return this.props.children?n.Children.only(this.props.children):null},e.exports=s((function(e){var t=e[e.length-1];if(t)return t.title}),(function(e){var t=e||"";t!==document.title&&(document.title=t)}))(i)},"../node_modules/react-side-effect/lib/index.js":(e,t,o)=>{"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var r=o("../node_modules/react/index.js"),s=n(r),i=n(o("../node_modules/shallowequal/index.js"));function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,o){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==o&&"function"!=typeof o)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(n){if("function"!=typeof n)throw new Error("Expected WrappedComponent to be a React component.");var d,u=[];function l(){d=e(u.map((function(e){return e.props}))),p.canUseDOM?t(d):o&&(d=o(d))}var p=function(e){var t,o;function r(){return e.apply(this,arguments)||this}o=e,(t=r).prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o,r.peek=function(){return d},r.rewind=function(){if(r.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=d;return d=void 0,u=[],e};var a=r.prototype;return a.shouldComponentUpdate=function(e){return!i(e,this.props)},a.componentWillMount=function(){u.push(this),l()},a.componentDidUpdate=function(){l()},a.componentWillUnmount=function(){var e=u.indexOf(this);u.splice(e,1),l()},a.render=function(){return s.createElement(n,this.props)},r}(r.Component);return a(p,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(n)+")"),a(p,"canUseDOM",c),p}}},"../node_modules/shallowequal/index.js":e=>{e.exports=function(e,t,o,n){var r=o?o.call(n,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),c=0;c<s.length;c++){var d=s[c];if(!a(d))return!1;var u=e[d],l=t[d];if(!1===(r=o?o.call(n,u,l,d):void 0)||void 0===r&&u!==l)return!1}return!0}}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_recoveryOptionsModal_tsx-app_stores_organizationStore_tsx-node_modules_-002bff.43326f2f21b6d5adbc17c6fde0d830df.js.map