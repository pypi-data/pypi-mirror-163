(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_organizationGroupDetails_index_tsx"],{"./app/components/avatar/avatarList.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("../node_modules/react/index.js"),n=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),a=s("./app/components/avatar/userAvatar.tsx"),l=s("./app/components/tooltip.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class p extends i.Component{render(){const{className:e,users:t,avatarSize:s,maxVisibleAvatars:o,renderTooltip:r,typeMembers:i,tooltipOptions:n}=this.props,a=t.slice(0,o),p=t.length-a.length;return n.position||(n.position="top"),(0,d.BX)(c,{className:e,children:[!!p&&(0,d.tZ)(l.Z,{title:`${p} other ${i}`,children:(0,d.BX)(g,{size:s,"data-test-id":"avatarList-collapsedusers",children:[p<99&&(0,d.tZ)(m,{children:"+"}),p]})}),a.map((e=>(0,d.tZ)(h,{user:e,size:s,renderTooltip:r,tooltipOptions:n,hasTooltip:!0},`${e.id}-${e.email}`)))]})}}p.displayName="AvatarList",(0,o.Z)(p,"defaultProps",{avatarSize:28,maxVisibleAvatars:5,typeMembers:"users",tooltipOptions:{}});const c=(0,r.Z)("div",{target:"e7y2scs3"})({name:"4hray5",styles:"display:flex;flex-direction:row-reverse"}),u=e=>(0,n.iv)("border-radius:50%;border:2px solid ",e.theme.background,";margin-left:-8px;cursor:default;&:hover{z-index:1;}",""),h=(0,r.Z)(a.Z,{target:"e7y2scs2"})("overflow:hidden;",u,";"),g=(0,r.Z)("div",{target:"e7y2scs1"})("display:flex;align-items:center;justify-content:center;position:relative;text-align:center;font-weight:600;background-color:",(e=>e.theme.gray200),";color:",(e=>e.theme.gray300),";font-size:",(e=>Math.floor(e.size/2.3)),"px;width:",(e=>e.size),"px;height:",(e=>e.size),"px;",u,";"),m=(0,r.Z)("span",{target:"e7y2scs0"})({name:"1enq4bv",styles:"font-size:10px;margin-left:1px;margin-right:-1px"})},"./app/components/events/errorLevel.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js");const r="13px",i=(0,o.Z)("span",{target:"e145dcfe0"})("padding:0;position:relative;width:",(e=>e.size||r),";height:",(e=>e.size||r),";text-indent:-9999em;display:inline-block;border-radius:50%;flex-shrink:0;background-color:",(e=>e.level?e.theme.level[e.level]:e.theme.level.error),";")},"./app/components/events/eventMessage.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/components/events/errorLevel.tsx"),i=s("./app/styles/space.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=e=>{let{className:t,level:s,levelIndicatorSize:o,message:r,annotations:i}=e;return(0,n.BX)("div",{className:t,children:[s&&(0,n.tZ)(d,{size:o,level:s,children:s}),r&&(0,n.tZ)(p,{children:r}),i]})};a.displayName="BaseEventMessage";const l=(0,o.Z)(a,{target:"e1rp796r2"})({name:"1go2o7p",styles:"display:flex;align-items:center;position:relative;line-height:1.2;overflow:hidden"}),d=(0,o.Z)(r.Z,{target:"e1rp796r1"})("margin-right:",(0,i.Z)(1),";"),p=(0,o.Z)("span",{target:"e1rp796r0"})((e=>e.theme.overflowEllipsis)," width:auto;max-height:38px;"),c=l},"./app/components/links/listLink.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),n=s("../node_modules/react-router/es/index.js"),a=s("../node_modules/classnames/index.js"),l=s.n(a),d=s("../node_modules/lodash/omit.js"),p=s.n(d),c=s("../node_modules/query-string/index.js"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class h extends i.Component{constructor(){super(...arguments),(0,o.Z)(this,"getClassName",(()=>{const e={},{className:t,activeClassName:s}=this.props;return t&&(e[t]=!0),this.isActive()&&s&&(e[s]=!0),l()(e)}))}isActive(){const{isActive:e,to:t,query:s,index:o,router:r}=this.props,i=s?c.parse(s):void 0,n="string"==typeof t?{pathname:t,query:i}:t;return"function"==typeof e?e(n,o):r.isActive(n,o)}render(){const{index:e,children:t,to:s,disabled:o,...r}=this.props,i=p()(r,"activeClassName","css","isActive","index","router","location");return(0,u.tZ)(m,{className:this.getClassName(),disabled:o,children:(0,u.tZ)(n.Link,{...i,onlyActiveOnIndex:e,to:o?"":s,children:t})})}}h.displayName="ListLink",(0,o.Z)(h,"displayName","ListLink"),(0,o.Z)(h,"defaultProps",{activeClassName:"active",index:!1,disabled:!1});const g=(0,n.withRouter)(h),m=(0,r.Z)("li",{shouldForwardProp:e=>"disabled"!==e,target:"er8tqc10"})((e=>e.disabled&&`\n   a {\n    color:${e.theme.disabled} !important;\n    pointer-events: none;\n    :hover {\n      color: ${e.theme.disabled}  !important;\n    }\n   }\n`),";")},"./app/components/pageAlertBar.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=(0,s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"eb4vrz50"})("display:flex;align-items:center;justify-content:center;color:",(e=>e.theme.headerBackground),";background-color:",(e=>e.theme.bannerBackground),";padding:6px 30px;font-size:14px;")},"./app/components/replays/replaysFeatureBadge.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./app/components/featureBadge.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){return(0,r.tZ)(o.Z,{...e,type:"alpha"})}i.displayName="ReplaysFeatureBadge";const n=i},"./app/components/seenByList.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),i=s("../node_modules/classnames/index.js"),n=s.n(i),a=s("../node_modules/moment/moment.js"),l=s.n(a),d=s("./app/components/avatar/avatarList.tsx"),p=s("./app/components/tooltip.tsx"),c=s("./app/icons/index.tsx"),u=s("./app/locale.tsx"),h=s("./app/stores/configStore.tsx"),g=s("./app/utils/formatters.tsx"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const v=e=>{let{avatarSize:t=28,seenBy:s=[],iconTooltip:o=(0,u.t)("People who have viewed this"),maxVisibleAvatars:i=10,iconPosition:a="left",className:v}=e;const y=h.Z.get("user"),b=s.filter((e=>y.id!==e.id));return 0===b.length?null:(0,m.BX)(Z,{iconPosition:a,className:n()("seen-by",v),children:[(0,m.tZ)(d.Z,{users:b,avatarSize:t,maxVisibleAvatars:i,renderTooltip:e=>(0,m.BX)(r.Fragment,{children:[(0,g.He)(e),(0,m.tZ)("br",{}),l()(e.lastSeen).format("LL")]})}),(0,m.tZ)(f,{iconPosition:a,children:(0,m.tZ)(p.Z,{title:o,skipWrapper:!0,children:(0,m.tZ)(c.fn,{size:"sm",color:"subText"})})})]})};v.displayName="SeenByList";const Z=(0,o.Z)("div",{target:"e1ayiung1"})("display:flex;margin-top:15px;float:right;",(e=>"left"===e.iconPosition?"flex-direction: row-reverse":""),";"),f=(0,o.Z)("div",{target:"e1ayiung0"})("display:flex;align-items:center;background-color:transparent;color:",(e=>e.theme.textColor),";height:28px;width:24px;text-align:center;",(e=>"left"===e.iconPosition?"margin-right: 10px":""),";"),y=v},"./app/utils/discover/genericDiscoverQuery.tsx":(e,t,s)=>{"use strict";s.d(t,{AA:()=>h,ZP:()=>g,o:()=>p});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.error.cause.js"),s("../node_modules/react/index.js")),i=s("./app/locale.tsx"),n=s("./app/utils/discover/eventView.tsx"),a=s("./app/utils/performance/contexts/performanceEventViewContext.tsx"),l=s("./app/views/organizationContext.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class p{constructor(e,t){(0,o.Z)(this,"message",void 0),(0,o.Z)(this,"originalError",void 0),this.message=e,this.originalError=t}getOriginalError(){return this.originalError}}class c extends r.Component{constructor(){super(...arguments),(0,o.Z)(this,"state",{isLoading:!0,tableFetchID:void 0,error:null,tableData:null,pageLinks:null}),(0,o.Z)(this,"_shouldRefetchData",(e=>{const t=this.getPayload(this.props),s=this.getPayload(e);return!(0,n.ze)(t,s)||e.limit!==this.props.limit||e.route!==this.props.route||e.cursor!==this.props.cursor})),(0,o.Z)(this,"_parseError",(e=>{var t;if(this.props.parseError)return this.props.parseError(e);if(!e)return null;const s=null===(t=e.responseJSON)||void 0===t?void 0:t.detail;if("string"==typeof s)return new p(s,e);const o=null==s?void 0:s.message;return new p("string"==typeof o?o:(0,i.t)("An unknown error occurred."),e)})),(0,o.Z)(this,"fetchData",(async()=>{const{api:e,queryBatching:t,beforeFetch:s,afterFetch:o,didFetch:r,eventView:i,orgSlug:n,route:a,setError:l}=this.props;if(!i.isValid())return;const d=`/organizations/${n}/${a}/`,p=Symbol("tableFetchID"),c=this.getPayload(this.props);this.setState({isLoading:!0,tableFetchID:p}),null==l||l(void 0),null==s||s(e),e.clear();try{const[s,,i]=await h(e,d,c,t);if(this.state.tableFetchID!==p)return;const n=o?o(s,this.props):s;null==r||r(n),this.setState((e=>{var t;return{isLoading:!1,tableFetchID:void 0,error:null,pageLinks:null!==(t=null==i?void 0:i.getResponseHeader("Link"))&&void 0!==t?t:e.pageLinks,tableData:n}}))}catch(e){const t=this._parseError(e);this.setState({isLoading:!1,tableFetchID:void 0,error:t,tableData:null}),l&&l(null!=t?t:void 0)}}))}componentDidMount(){this.fetchData()}componentDidUpdate(e){const t=this._shouldRefetchData(e),s=!1===e.eventView.isValid()&&this.props.eventView.isValid(),o=!!this.props.shouldRefetchData&&this.props.shouldRefetchData(e,this.props);(t||s||o)&&this.fetchData()}getPayload(e){var t;const{cursor:s,limit:o,noPagination:r,referrer:i}=e,n=this.props.getRequestPayload?this.props.getRequestPayload(e):e.eventView.getEventsAPIPayload(e.location,e.forceAppendRawQueryString);return s&&(n.cursor=s),o&&(n.per_page=o),r&&(n.noPagination=r),i&&(n.referrer=i),Object.assign(n,null!==(t=e.queryExtras)&&void 0!==t?t:{}),n}render(){const{isLoading:e,error:t,tableData:s,pageLinks:o}=this.state,r={isLoading:e,error:t,tableData:s,pageLinks:o},i=this.props.children;return null==i?void 0:i(r)}}function u(e){var t,s,o,i;const n=null===(t=(0,r.useContext)(l.g))||void 0===t?void 0:t.slug,p=null===(s=(0,r.useContext)(a.uL))||void 0===s?void 0:s.eventView,u=null!==(o=e.orgSlug)&&void 0!==o?o:n,h=null!==(i=e.eventView)&&void 0!==i?i:p;if(void 0===u||void 0===h)throw new Error("GenericDiscoverQuery requires both an orgSlug and eventView");const g={...e,orgSlug:u,eventView:h};return(0,d.tZ)(c,{...g})}function h(e,t,s,o){return null!=o&&o.batchRequest?o.batchRequest(e,t,{query:s,includeAllArgs:!0}):e.requestPromise(t,{method:"GET",includeAllArgs:!0,query:{...s}})}c.displayName="_GenericDiscoverQuery",u.displayName="GenericDiscoverQuery";const g=u},"./app/utils/displayReprocessEventAction.tsx":(e,t,s)=>{"use strict";s.d(t,{B:()=>n}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.array.includes.js");var o=s("./app/types/index.tsx");const r=["cocoa","native"];function i(e){var t,s,o;const r=null!==(t=null==e?void 0:e.frames)&&void 0!==t?t:[],i=null!==(s=null==e||null===(o=e.stacktrace)||void 0===o?void 0:o.frames)&&void 0!==s?s:[];return r.length||i.length?[...r,...i].map((e=>e.platform)).filter((e=>!!e)):[]}function n(e,t){if(!t||!e.includes("reprocessing-v2"))return!1;const{entries:s}=t,n=s.find((e=>e.type===o.UZ.EXCEPTION));return!!n&&!!(function(e){var t;const{data:s}=e;return(null!==(t=s.values)&&void 0!==t?t:[]).some((e=>{var t;return"minidump"===(null===(t=e.mechanism)||void 0===t?void 0:t.type)}))}(n)||function(e){var t;const{data:s}=e;return(null!==(t=s.values)&&void 0!==t?t:[]).some((e=>{var t;return"applecrashreport"===(null===(t=e.mechanism)||void 0===t?void 0:t.type)}))}(n)||function(e,t){const{platform:s}=e;if(s&&r.includes(s))return!0;const n=function(e,t){var s,r,n,a,l;const d=(null!==(s=t.data.values)&&void 0!==s?s:[]).flatMap(i),p=null!==(r=null===(n=e.entries.find((e=>e.type===o.UZ.STACKTRACE)))||void 0===n?void 0:n.data)&&void 0!==r?r:{},c=Object.keys(p).flatMap((e=>i(p[e]))),u=(null!==(a=null===(l=e.entries.find((e=>e.type===o.UZ.THREADS)))||void 0===l?void 0:l.data.values)&&void 0!==a?a:[]).flatMap((e=>{let{stacktrace:t}=e;return i(t)}));return new Set([...d,...c,...u])}(e,t);return r.some((e=>n.has(e)))}(t,n))}},"./app/utils/performance/contexts/performanceEventViewContext.tsx":(e,t,s)=>{"use strict";s.d(t,{bq:()=>r,uL:()=>n}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var o=s("./app/utils/performance/contexts/utils.tsx");const[r,i,n]=(0,o.n)({name:"PerformanceEventViewContext"})},"./app/utils/performance/contexts/utils.tsx":(e,t,s)=>{"use strict";s.d(t,{n:()=>r}),s("../node_modules/core-js/modules/es.error.cause.js");var o=s("../node_modules/react/index.js");function r(e){const{strict:t=!0,errorMessage:s=`useContext for "${e.name}" must be inside a Provider with a value`,name:r}=e,i=(0,o.createContext)(void 0);return i.displayName=r,[i.Provider,function(){const e=(0,o.useContext)(i);if(!e&&t)throw new Error(s);return e},i]}},"./app/utils/recreateRoute.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("../node_modules/lodash/findLastIndex.js"),r=s.n(o),i=s("./app/utils/replaceRouterParams.tsx");function n(e,t){var s,o;const{routes:n,params:a,location:l,stepBack:d}=t,p=n.map((e=>{let{path:t}=e;return t||""}));let c,u;"string"!=typeof e?(u=n.indexOf(e)+1,c=r()(p.slice(0,u),(e=>"/"===e[0]))):c=r()(p,(e=>"/"===e[0]));let h=p.slice(c,u);void 0!==d&&(h=h.slice(0,d));const g=null!==(s=null==l?void 0:l.search)&&void 0!==s?s:"",m=null!==(o=null==l?void 0:l.hash)&&void 0!==o?o:"",v=`${h.join("")}${"string"!=typeof e?"":e}${g}${m}`;return(0,i.Z)(v,a)}},"./app/views/organizationGroupDetails/index.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Zt});var o=s("../node_modules/react/index.js"),r=s("./app/utils/analytics.tsx"),i=s("./app/utils/useOrganization.tsx"),n=s("./app/utils/useProjects.tsx"),a=s("./app/utils/withPageFilters.tsx"),l=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),p=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/core-js/modules/es.error.cause.js"),s("../node_modules/core-js/modules/es.string.replace.js"),s("../node_modules/react-router/es/index.js")),c=s("../node_modules/@sentry/hub/esm/exports.js"),u=s("../node_modules/@sentry/react/esm/profiler.js"),h=s("../node_modules/prop-types/index.js"),g=s("./app/components/loadingError.tsx"),m=s("./app/components/loadingIndicator.tsx"),v=s("./app/components/organizations/pageFilters/container.tsx"),Z=s("./app/components/projects/missingProjectMembership.tsx"),f=s("./app/components/sentryDocumentTitle.tsx"),y=s("./app/locale.tsx"),b=s("./app/sentryTypes.tsx"),x=s("./app/stores/groupStore.tsx"),_=s("./app/styles/space.tsx"),E=s("./app/types/event.tsx"),S=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),w=s("./app/utils/callIfFunction.tsx"),j=s("./app/utils/dates.tsx"),I=s("./app/utils/discover/eventView.tsx"),A=s("./app/utils/discover/genericDiscoverQuery.tsx"),R=s("./app/utils/events.tsx"),k=s("./app/utils/projects.tsx"),C=s("./app/utils/recreateRoute.tsx"),D=s("./app/utils/withApi.tsx");const T="GROUP_NOT_FOUND",N="MISSING_MEMBERSHIP";var z=s("../node_modules/lodash/omit.js"),P=s.n(z),O=s("./app/actionCreators/members.tsx"),B=s("./app/components/acl/feature.tsx"),$=s("./app/components/assigneeSelector.tsx"),q=s("./app/components/assistant/guideAnchor.tsx"),G=s("./app/components/badge.tsx"),U=s("./app/components/breadcrumbs.tsx"),L=s("./app/components/count.tsx"),M=s("./app/components/eventOrGroupTitle.tsx"),V=s("./app/components/events/errorLevel.tsx"),F=s("./app/components/events/eventAnnotation.tsx"),X=s("./app/components/events/eventMessage.tsx"),H=s("./app/components/group/inboxBadges/inboxReason.tsx"),Y=s("./app/components/group/inboxBadges/unhandledTag.tsx"),Q=s("./app/components/idBadge/projectBadge.tsx"),K=s("./app/components/layouts/thirds.tsx"),W=s("./app/components/links/link.tsx"),J=s("./app/components/links/listLink.tsx"),ee=s("./app/components/navTabs.tsx"),te=s("./app/components/replays/replaysFeatureBadge.tsx"),se=s("./app/components/seenByList.tsx"),oe=s("./app/components/shortId.tsx"),re=s("./app/components/tooltip.tsx"),ie=s("./app/icons/index.tsx"),ne=s("./app/utils/withOrganization.tsx"),ae=s("./app/actionCreators/group.tsx"),le=s("./app/actionCreators/indicator.tsx"),de=s("./app/actionCreators/modal.tsx"),pe=s("./app/actions/groupActions.tsx"),ce=s("./app/components/acl/access.tsx"),ue=s("./app/components/acl/featureDisabled.tsx"),he=s("./app/components/actions/button.tsx"),ge=s("./app/components/actions/ignore.tsx"),me=s("./app/components/actions/resolve.tsx"),ve=s("./app/components/button.tsx"),Ze=s("./app/components/dropdownMenuControl.tsx"),fe=s("./app/utils/displayReprocessEventAction.tsx"),ye=s("./app/utils/guid.tsx"),be=s("./app/views/issueList/actions/reviewAction.tsx"),xe=s("./app/components/autoSelectText.tsx"),_e=s("./app/components/clipboard.tsx"),Ee=s("./app/components/confirm.tsx"),Se=s("./app/components/dropdownLink.tsx"),we=s("./app/components/switchButton.tsx"),je=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function Ie(e){let{loading:t,onReshare:s,onToggle:r,disabled:i,isShared:n,shareUrl:a}=e;const[l,d]=(0,o.useState)(!1);return(0,je.tZ)(Se.Z,{shouldIgnoreClickOutside:()=>l,customTitle:(0,je.BX)(he.Z,{disabled:i,children:[(0,je.BX)(De,{children:[(0,je.tZ)(Pe,{isShared:n}),(0,y.t)("Share")]}),(0,je.tZ)(ie.g6,{direction:"down",size:"xs"})]}),onOpen:()=>{t||n||r()},disabled:i,keepMenuOpen:!0,children:(0,je.BX)(Te,{children:[(0,je.BX)(Ne,{children:[(0,je.tZ)(ze,{children:(0,y.t)("Enable public share link")}),(0,je.tZ)(we.Z,{isActive:n,size:"sm",toggle:e=>{e.preventDefault(),r()}})]}),t&&(0,je.tZ)(Ce,{children:(0,je.tZ)(m.Z,{mini:!0})}),!t&&n&&a&&(0,je.tZ)(Re,{shareUrl:a,onCancel:()=>{d(!1)},onConfirming:()=>{d(!0)},onConfirm:s})]})})}Ie.displayName="ShareIssue";const Ae=Ie;function Re(e){let{shareUrl:t,onConfirming:s,onCancel:r,onConfirm:i}=e;const n=(0,o.useRef)(null);return(0,je.BX)(ke,{children:[(0,je.tZ)(Be,{children:(0,je.tZ)(Oe,{ref:n,children:t})}),(0,je.tZ)(_e.Z,{hideUnsupported:!0,value:t,children:(0,je.tZ)($e,{title:(0,y.t)("Copy to clipboard"),borderless:!0,size:"xs",onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.selectText()},icon:(0,je.tZ)(ie.vU,{}),"aria-label":(0,y.t)("Copy to clipboard")})}),(0,je.tZ)(Ee.Z,{message:(0,y.t)("You are about to regenerate a new shared URL. Your previously shared URL will no longer work. Do you want to continue?"),onCancel:r,onConfirming:s,onConfirm:i,children:(0,je.tZ)(qe,{title:(0,y.t)("Generate new URL"),"aria-label":(0,y.t)("Generate new URL"),borderless:!0,size:"xs",icon:(0,je.tZ)(ie.tr,{})})})]})}Re.displayName="ShareUrlContainer";const ke=(0,d.Z)("div",{target:"e1td2f0610"})("display:flex;align-items:stretch;border:1px solid ",(e=>e.theme.border),";border-radius:",(0,_.Z)(.5),";"),Ce=(0,d.Z)("div",{target:"e1td2f069"})({name:"zl1inp",styles:"display:flex;justify-content:center"}),De=(0,d.Z)("div",{target:"e1td2f068"})("display:flex;align-items:center;margin-right:",(0,_.Z)(.5),";"),Te=(0,d.Z)("li",{target:"e1td2f067"})("padding:",(0,_.Z)(1.5)," ",(0,_.Z)(2),";>div:not(:last-of-type){margin-bottom:",(0,_.Z)(1.5),";}"),Ne=(0,d.Z)("div",{target:"e1td2f066"})({name:"1066lcq",styles:"display:flex;justify-content:space-between;align-items:center"}),ze=(0,d.Z)("div",{target:"e1td2f065"})("padding-right:",(0,_.Z)(4),";white-space:nowrap;font-size:",(e=>e.theme.fontSizeMedium),";font-weight:600;"),Pe=(0,d.Z)("span",{target:"e1td2f064"})("display:inline-block;margin-right:",(0,_.Z)(.5),";border-radius:50%;width:10px;height:10px;background:",(e=>e.isShared?e.theme.active:e.theme.border),";"),Oe=(0,d.Z)(xe.Z,{target:"e1td2f063"})("flex:1;padding:",(0,_.Z)(.5)," 0 ",(0,_.Z)(.5)," ",(0,_.Z)(.75),";",(e=>e.theme.overflowEllipsis),";"),Be=(0,d.Z)("div",{target:"e1td2f062"})("position:relative;display:flex;flex:1;background-color:transparent;border-right:1px solid ",(e=>e.theme.border),";max-width:288px;"),$e=(0,d.Z)(ve.ZP,{target:"e1td2f061"})("border-radius:0;border-right:1px solid ",(e=>e.theme.border),";height:100%;&:hover{border-right:1px solid ",(e=>e.theme.border),";}"),qe=(0,d.Z)(ve.ZP,{target:"e1td2f060"})({name:"13udsys",styles:"height:100%"});var Ge=s("./app/views/organizationGroupDetails/utils.tsx");function Ue(e){var t,s;let{disabled:o,group:r,onClick:i}=e;const n=null!==(t=null===(s=r.subscriptionDetails)||void 0===s?void 0:s.disabled)&&void 0!==t&&t;return(0,je.tZ)(he.Z,{disabled:o||n,title:(0,Ge.sC)(r,!0),tooltipProps:{delay:300},priority:r.isSubscribed?"primary":"default",size:"xs","aria-label":(0,y.t)("Subscribe"),onClick:i,icon:(0,je.tZ)(ie.YK,{size:"xs"})})}Ue.displayName="SubscribeAction";const Le=Ue;class Me extends o.Component{constructor(){super(...arguments),(0,l.Z)(this,"state",{shareBusy:!1}),(0,l.Z)(this,"onDelete",(()=>{const{group:e,project:t,organization:s,api:o}=this.props;(0,le.E3)((0,y.t)("Delete event…")),(0,ae.MU)(o,{orgId:s.slug,projectId:t.slug,itemIds:[e.id]},{complete:()=>{(0,le.B8)(),p.browserHistory.push(`/${s.slug}/${t.slug}/`)}}),this.trackIssueAction("deleted")})),(0,l.Z)(this,"onUpdate",(e=>{const{group:t,project:s,organization:o,api:r}=this.props;(0,le.E3)((0,y.t)("Saving changes…")),(0,ae.Gv)(r,{orgId:o.slug,projectId:s.slug,itemIds:[t.id],data:e},{complete:le.B8}),e.status&&this.trackIssueAction(e.status),void 0!==e.inbox&&this.trackIssueAction("mark_reviewed")})),(0,l.Z)(this,"onReprocessEvent",(()=>{const{group:e,organization:t}=this.props;(0,de.openReprocessEventModal)({organization:t,groupId:e.id})})),(0,l.Z)(this,"onToggleShare",(()=>{const e=!this.props.group.isPublic;e&&(0,S.Z)("issue.shared_publicly",{organization:this.props.organization}),this.onShare(e)})),(0,l.Z)(this,"onToggleBookmark",(()=>{this.onUpdate({isBookmarked:!this.props.group.isBookmarked}),this.trackIssueAction("bookmarked")})),(0,l.Z)(this,"onToggleSubscribe",(()=>{this.onUpdate({isSubscribed:!this.props.group.isSubscribed}),this.trackIssueAction("subscribed")})),(0,l.Z)(this,"onRedirectDiscover",(()=>{const{organization:e}=this.props;(0,S.Z)("growth.issue_open_in_discover_btn_clicked",{organization:e}),p.browserHistory.push(this.getDiscoverUrl())})),(0,l.Z)(this,"onDiscard",(()=>{const{group:e,project:t,organization:s,api:o}=this.props,r=(0,ye.E)();(0,le.E3)((0,y.t)("Discarding event…")),pe.Z.discard(r,e.id),o.request(`/issues/${e.id}/`,{method:"PUT",data:{discard:!0},success:o=>{pe.Z.discardSuccess(r,e.id,o),p.browserHistory.push(`/${s.slug}/${t.slug}/`)},error:t=>{pe.Z.discardError(r,e.id,t)},complete:le.B8}),this.trackIssueAction("discarded")})),(0,l.Z)(this,"renderDiscardModal",(e=>{let{Body:t,Footer:s,closeModal:r}=e;const{organization:i,project:n}=this.props;return(0,je.tZ)(B.Z,{features:["projects:discard-groups"],hookName:"feature-disabled:discard-groups",organization:i,project:n,renderDisabled:function(e){let{children:t,...s}=e;return t({...s,renderDisabled:e=>{let{features:t}=e;return(0,je.tZ)(ue.Z,{alert:!0,featureName:(0,y.t)("Discard and Delete"),features:t})}})},children:e=>{let{hasFeature:i,renderDisabled:n,...a}=e;return(0,je.BX)(o.Fragment,{children:[(0,je.BX)(t,{children:[!i&&"function"==typeof n&&n({...a,hasFeature:i,children:null}),(0,y.t)("Discarding this event will result in the deletion of most data associated with this issue and future events being discarded before reaching your stream. Are you sure you wish to continue?")]}),(0,je.BX)(s,{children:[(0,je.tZ)(ve.ZP,{onClick:r,children:(0,y.t)("Cancel")}),(0,je.tZ)(ve.ZP,{style:{marginLeft:(0,_.Z)(1)},priority:"primary",onClick:this.onDiscard,disabled:!i,children:(0,y.t)("Discard Future Events")})]})]})}})})),(0,l.Z)(this,"openDiscardModal",(()=>{const{organization:e}=this.props;(0,de.openModal)(this.renderDiscardModal),(0,r.co)("feature.discard_group.modal_opened",{org_id:parseInt(e.id,10)})}))}componentWillReceiveProps(e){this.state.shareBusy&&e.group.shareId!==this.props.group.shareId&&this.setState({shareBusy:!1})}getShareUrl(e){if(!e)return"";const t=`/share/issue/${e}/`,{host:s,protocol:o}=window.location;return`${o}//${s}${t}`}getDiscoverUrl(){const{group:e,project:t,organization:s}=this.props,{title:o,id:r,type:i}=e,n={id:void 0,name:o||i,fields:["title","release","environment","user.display","timestamp"],orderby:"-timestamp",query:`issue.id:${r}`,projects:[Number(t.id)],version:2,range:"90d"};return I.ZP.fromSavedQuery(n).getResultsViewUrlTarget(s.slug)}trackIssueAction(e){const{group:t,project:s,organization:o,query:r={}}=this.props,{alert_date:i,alert_rule_id:n,alert_type:a}=r;(0,S.Z)("issue_details.action_clicked",{organization:o,project_id:parseInt(s.id,10),group_id:parseInt(t.id,10),action_type:e,alert_date:"string"==typeof i?(0,j.v5)(Number(i)):void 0,alert_rule_id:"string"==typeof n?n:void 0,alert_type:"string"==typeof a?a:void 0})}onShare(e){const{group:t,project:s,organization:o,api:r}=this.props;this.setState({shareBusy:!0}),(0,ae.Gv)(r,{orgId:o.slug,projectId:s.slug,itemIds:[t.id],data:{isPublic:e}},{error:()=>{(0,le.Iw)((0,y.t)("Error sharing"))},complete:()=>{}}),this.trackIssueAction("shared")}handleClick(e,t){return function(s){if(e)return s.preventDefault(),void s.stopPropagation();t(s)}}render(){var e;const{group:t,project:s,organization:r,disabled:i,event:n}=this.props,{status:a,isBookmarked:l}=t,d=new Set(r.features),p=l?"unbookmark":"bookmark",c=l?(0,y.t)("Remove bookmark"):(0,y.t)("Bookmark"),u=!(null===(e=s.features)||void 0===e||!e.includes("releases")),h="resolved"===a,g="ignored"===a;return(0,je.BX)(Ve,{children:[(0,je.tZ)(q.Z,{target:"resolve",position:"bottom",offset:20,children:(0,je.tZ)(me.Z,{disabled:i,disableDropdown:i,hasRelease:u,latestRelease:s.latestRelease,onUpdate:this.onUpdate,orgSlug:r.slug,projectSlug:s.slug,isResolved:h,isAutoResolved:"resolved"===t.status?t.statusDetails.autoResolved:void 0})}),(0,je.tZ)(q.Z,{target:"ignore_delete_discard",position:"bottom",offset:20,children:(0,je.tZ)(ge.Z,{isIgnored:g,onUpdate:this.onUpdate,disabled:i})}),(0,je.tZ)(re.Z,{disabled:!!t.inbox||i,title:(0,y.t)("Issue has been reviewed"),delay:300,children:(0,je.tZ)(be.Z,{onUpdate:this.onUpdate,disabled:!t.inbox||i})}),(0,je.tZ)(B.Z,{hookName:"feature-disabled:open-in-discover",features:["discover-basic"],organization:r,children:(0,je.tZ)(he.Z,{disabled:i,to:i?"":this.getDiscoverUrl(),onClick:()=>{this.trackIssueAction("open_in_discover"),(0,S.Z)("growth.issue_open_in_discover_btn_clicked",{organization:r})},children:(0,je.tZ)(q.Z,{target:"open_in_discover",children:(0,y.t)("Open in Discover")})})}),d.has("shared-issues")&&(0,je.tZ)(Ae,{disabled:i,loading:this.state.shareBusy,isShared:t.isPublic,shareUrl:this.getShareUrl(t.shareId),onToggle:this.onToggleShare,onReshare:()=>this.onShare(!0)}),(0,je.tZ)(Le,{disabled:i,group:t,onClick:this.handleClick(i,this.onToggleSubscribe)}),(0,je.tZ)(ce.Z,{organization:r,access:["event:admin"],children:e=>{let{hasAccess:t}=e;return(0,je.tZ)(Ze.Z,{triggerProps:{"aria-label":(0,y.t)("More Actions"),icon:(0,je.tZ)(ie.YR,{size:"xs"}),showChevron:!1,size:"xs"},items:[{key:p,label:c,hidden:!1,onAction:this.onToggleBookmark},{key:"reprocess",label:(0,y.t)("Reprocess events"),hidden:!(0,fe.B)(r.features,n),onAction:this.onReprocessEvent},{key:"delete-issue",priority:"danger",label:(0,y.t)("Delete"),hidden:!t,onAction:()=>(0,de.openModal)((e=>{let{Body:t,Footer:s,closeModal:r}=e;return(0,je.BX)(o.Fragment,{children:[(0,je.tZ)(t,{children:(0,y.t)("Deleting this issue is permanent. Are you sure you wish to continue?")}),(0,je.BX)(s,{children:[(0,je.tZ)(ve.ZP,{onClick:r,children:(0,y.t)("Cancel")}),(0,je.tZ)(ve.ZP,{style:{marginLeft:(0,_.Z)(1)},priority:"primary",onClick:this.onDelete,children:(0,y.t)("Delete")})]})]})}))},{key:"delete-and-discard",priority:"danger",label:(0,y.t)("Delete and discard future events"),hidden:!t,onAction:()=>this.openDiscardModal()}]})}})]})}}Me.displayName="Actions";const Ve=(0,d.Z)("div",{target:"e1sp93pk0"})("display:grid;justify-content:flex-start;align-items:center;grid-auto-flow:column;gap:",(0,_.Z)(.5),";margin-top:",(0,_.Z)(2),";white-space:nowrap;"),Fe=(0,D.Z)((0,ne.Z)(Me));var Xe=s("./app/views/organizationGroupDetails/types.tsx"),He=s("./app/views/organizationGroupDetails/unhandledTag.tsx");class Ye extends o.Component{constructor(){super(...arguments),(0,l.Z)(this,"state",{}),(0,l.Z)(this,"trackAssign",(()=>{const{group:e,project:t,organization:s,location:o}=this.props,{alert_date:r,alert_rule_id:i,alert_type:n}=o.query;(0,S.Z)("issue_details.action_clicked",{organization:s,project_id:parseInt(t.id,10),group_id:parseInt(e.id,10),action_type:"assign",alert_date:"string"==typeof r?(0,j.v5)(Number(r)):void 0,alert_rule_id:"string"==typeof i?i:void 0,alert_type:"string"==typeof n?n:void 0})}))}componentDidMount(){const{group:e,api:t,organization:s}=this.props,{project:o}=e;(0,O.MA)(t,s.slug,[o.id]).then((e=>{const t=e.map((e=>e.user));this.setState({memberList:t})}))}getDisabledTabs(){const{organization:e}=this.props;if(!e.features.includes("reprocessing-v2"))return[];const{groupReprocessingStatus:t}=this.props;return t===Ge.m7.REPROCESSING?[Xe.O.ACTIVITY,Xe.O.USER_FEEDBACK,Xe.O.ATTACHMENTS,Xe.O.EVENTS,Xe.O.MERGED,Xe.O.GROUPING,Xe.O.SIMILAR_ISSUES,Xe.O.TAGS]:t===Ge.m7.REPROCESSED_AND_HASNT_EVENT?[Xe.O.DETAILS,Xe.O.ATTACHMENTS,Xe.O.EVENTS,Xe.O.MERGED,Xe.O.GROUPING,Xe.O.SIMILAR_ISSUES,Xe.O.TAGS,Xe.O.USER_FEEDBACK]:[]}render(){const{project:e,group:t,currentTab:s,baseUrl:r,event:i,organization:n,location:a,replaysCount:l}=this.props,d=new Set(e?e.features:[]),p=new Set(n?n.features:[]),c=t.userCount,u=p.has("grouping-tree-ui"),h=d.has("similarity-view"),g=p.has("event-attachments");let m="group-detail";t.hasSeen&&(m+=" hasSeen"),"resolved"===t.status&&(m+=" isResolved");const{memberList:v}=this.state,Z=(0,R.FC)(t),f={pathname:`${r}events/`,query:P()(a.query,"query")},b=this.getDisabledTabs(),x=!!b.length,_=t.shortId&&(0,je.tZ)(q.Z,{target:"issue_number",position:"bottom",children:(0,je.BX)(Je,{children:[(0,je.tZ)(at,{project:e,avatarSize:16,hideName:!0,avatarProps:{hasTooltip:!0,tooltip:e.slug}}),(0,je.tZ)(et,{className:"help-link",title:(0,y.t)("This identifier is unique across your organization, and can be used to reference an issue in various places, like commit messages."),position:"bottom",children:(0,je.tZ)(tt,{shortId:t.shortId})})]})});return(0,je.tZ)(K.h4,{children:(0,je.BX)("div",{className:m,children:[(0,je.tZ)(We,{crumbs:[{label:"Issues",to:`/organizations/${n.slug}/issues/${a.search}`},{label:_}]}),(0,je.BX)("div",{className:"row",children:[(0,je.BX)("div",{className:"col-sm-7",children:[(0,je.BX)(Ke,{children:[(0,je.tZ)("h3",{children:(0,je.tZ)(M.Z,{hasGuideAnchor:!0,data:t})}),t.inbox&&(0,je.tZ)(ot,{children:(0,je.tZ)(H.Z,{inbox:t.inbox,fontSize:"md"})})]}),(0,je.BX)(rt,{children:[t.level&&(0,je.tZ)(V.Z,{level:t.level,size:"11px"}),t.isUnhandled&&(0,je.tZ)(Y.Z,{}),(0,je.tZ)(X.Z,{message:Z,annotations:(0,je.tZ)(o.Fragment,{children:t.logger&&(0,je.tZ)(lt,{children:(0,je.tZ)(W.Z,{to:{pathname:`/organizations/${n.slug}/issues/`,query:{query:"logger:"+t.logger}},children:t.logger})})})})]})]}),(0,je.BX)(st,{children:[(0,je.BX)("div",{className:"count align-right m-l-1",children:[(0,je.tZ)("h6",{className:"nav-header",children:(0,y.t)("Events")}),x?(0,je.tZ)(L.Z,{className:"count",value:t.count}):(0,je.tZ)(W.Z,{to:f,children:(0,je.tZ)(L.Z,{className:"count",value:t.count})})]}),(0,je.BX)("div",{className:"count align-right m-l-1",children:[(0,je.tZ)("h6",{className:"nav-header",children:(0,y.t)("Users")}),0!==c?x?(0,je.tZ)(L.Z,{className:"count",value:c}):(0,je.tZ)(W.Z,{to:`${r}tags/user/${a.search}`,children:(0,je.tZ)(L.Z,{className:"count",value:c})}):(0,je.tZ)("span",{children:"0"})]}),(0,je.BX)("div",{className:"assigned-to m-l-1",children:[(0,je.tZ)("h6",{className:"nav-header",children:(0,y.t)("Assignee")}),(0,je.tZ)($.Z,{id:t.id,memberList:v,disabled:x,onAssign:this.trackAssign})]})]})]}),(0,je.tZ)(se.Z,{seenBy:t.seenBy,iconTooltip:(0,y.t)("People who have viewed this issue")}),(0,je.tZ)(Fe,{group:t,project:e,disabled:x,event:i,query:a.query}),(0,je.BX)(ee.Z,{children:[(0,je.tZ)(J.Z,{to:`${r}${a.search}`,isActive:()=>s===Xe.O.DETAILS,disabled:b.includes(Xe.O.DETAILS),children:(0,y.t)("Details")}),(0,je.BX)(it,{to:`${r}activity/${a.search}`,isActive:()=>s===Xe.O.ACTIVITY,disabled:b.includes(Xe.O.ACTIVITY),children:[(0,y.t)("Activity"),(0,je.BX)(G.Z,{children:[t.numComments,(0,je.tZ)(ie.f7,{size:"xs"})]})]}),(0,je.BX)(it,{to:`${r}feedback/${a.search}`,isActive:()=>s===Xe.O.USER_FEEDBACK,disabled:b.includes(Xe.O.USER_FEEDBACK),children:[(0,y.t)("User Feedback")," ",(0,je.tZ)(G.Z,{text:t.userReportCount})]}),g&&(0,je.tZ)(J.Z,{to:`${r}attachments/${a.search}`,isActive:()=>s===Xe.O.ATTACHMENTS,disabled:b.includes(Xe.O.ATTACHMENTS),children:(0,y.t)("Attachments")}),(0,je.tZ)(J.Z,{to:`${r}tags/${a.search}`,isActive:()=>s===Xe.O.TAGS,disabled:b.includes(Xe.O.TAGS),children:(0,y.t)("Tags")}),(0,je.tZ)(J.Z,{to:f,isActive:()=>s===Xe.O.EVENTS,disabled:b.includes(Xe.O.EVENTS),children:(0,y.t)("Events")}),(0,je.tZ)(J.Z,{to:`${r}merged/${a.search}`,isActive:()=>s===Xe.O.MERGED,disabled:b.includes(Xe.O.MERGED),children:(0,y.t)("Merged Issues")}),u&&(0,je.tZ)(J.Z,{to:`${r}grouping/${a.search}`,isActive:()=>s===Xe.O.GROUPING,disabled:b.includes(Xe.O.GROUPING),children:(0,y.t)("Grouping")}),h&&(0,je.tZ)(J.Z,{to:`${r}similar/${a.search}`,isActive:()=>s===Xe.O.SIMILAR_ISSUES,disabled:b.includes(Xe.O.SIMILAR_ISSUES),children:(0,y.t)("Similar Issues")}),(0,je.tZ)(B.Z,{features:["session-replay"],organization:n,children:(0,je.BX)(J.Z,{to:`${r}replays/${a.search}`,isActive:()=>s===Xe.O.REPLAYS,children:[(0,y.t)("Replays")," ",(0,je.tZ)(G.Z,{text:null!=l?l:""}),(0,je.tZ)(te.Z,{noTooltip:!0})]})})]})]})})}}Ye.displayName="GroupHeader";const Qe=(0,D.Z)((0,p.withRouter)((0,ne.Z)(Ye))),Ke=(0,d.Z)("div",{target:"e1ptdvq011"})({name:"1npn4lq",styles:"display:flex;line-height:24px"}),We=(0,d.Z)(U.Z,{target:"e1ptdvq010"})("margin-bottom:",(0,_.Z)(2),";"),Je=(0,d.Z)("div",{target:"e1ptdvq09"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),et=(0,d.Z)(re.Z,{target:"e1ptdvq08"})({name:"zjik7",styles:"display:flex"}),tt=(0,d.Z)(oe.Z,{target:"e1ptdvq07"})("font-family:",(e=>e.theme.text.family),";font-size:",(e=>e.theme.fontSizeMedium),";"),st=(0,d.Z)("div",{target:"e1ptdvq06"})("display:grid;justify-content:flex-end;grid-template-columns:repeat(3, min-content);gap:",(0,_.Z)(3),";margin-right:15px;"),ot=(0,d.Z)("div",{target:"e1ptdvq05"})("margin-left:",(0,_.Z)(1),";"),rt=(0,d.Z)(He.S,{target:"e1ptdvq04"})("display:grid;grid-auto-flow:column;gap:",(0,_.Z)(1),";justify-content:flex-start;line-height:1.2;@media (max-width: ",(e=>e.theme.breakpoints.small),"){margin-bottom:",(0,_.Z)(2),";}"),it=(0,d.Z)(J.Z,{target:"e1ptdvq03"})("svg{margin-left:",(0,_.Z)(.5),";margin-bottom:",(0,_.Z)(.25),";vertical-align:middle;}"),nt=(0,d.Z)(Q.Z,{target:"e1ptdvq02"})({name:"ozd7xs",styles:"flex-shrink:0"}),at=(0,d.Z)(nt,{target:"e1ptdvq01"})("margin-right:",(0,_.Z)(.75),";"),lt=(0,d.Z)(F.Z,{target:"e1ptdvq00"})("margin-left:",(0,_.Z)(1),";");var dt=s("./app/components/pageAlertBar.tsx");function pt(e){let{organization:t,project:s}=e;return(0,je.BX)(dt.Z,{children:[(0,je.tZ)(ie.Db,{}),(0,je.tZ)(ut,{children:(0,y.t)("You are viewing a sample error. Configure Sentry to start viewing real errors.")}),(0,je.tZ)(ve.ZP,{size:"xs",priority:"primary",to:`/${t.slug}/${s.slug}/getting-started/${s.platform||""}`,onClick:()=>{var e;return(0,S.Z)("growth.sample_error_onboarding_link_clicked",{project_id:null===(e=s.id)||void 0===e?void 0:e.toString(),organization:t,platform:s.platform})},children:(0,y.t)("Get Started")})]})}pt.displayName="SampleEventAlert";const ct=pt,ut=(0,d.Z)("span",{target:"e1k8ur580"})("margin:0 ",(0,_.Z)(1),";");class ht extends o.Component{constructor(){super(...arguments),(0,l.Z)(this,"state",this.initialState),(0,l.Z)(this,"refetchInterval",null),(0,l.Z)(this,"remountComponent",(()=>{this.setState(this.initialState),this.fetchData()})),(0,l.Z)(this,"refetchGroup",(async()=>{const{loadingGroup:e,loading:t,loadingEvent:s,group:o}=this.state;if((null==o?void 0:o.status)!==Ge.m7.REPROCESSING||e||t||s)return;const{api:r}=this.props;this.setState({loadingGroup:!0});try{const e=await r.requestPromise(this.groupDetailsEndpoint,{query:this.getGroupQuery()}),t=this.getReprocessingNewRoute(e);if(t)return void p.browserHistory.push(t);this.setState({group:e,loadingGroup:!1})}catch(e){this.handleRequestError(e)}})),(0,l.Z)(this,"listener",x.Z.listen((e=>this.onGroupChange(e)),void 0))}getChildContext(){return{group:this.state.group,location:this.props.location}}componentDidMount(){this.fetchData(!0),this.fetchReplaysCount(),this.updateReprocessingProgress()}componentDidUpdate(e,t){var s,o;const r=e.isGlobalSelectionReady!==this.props.isGlobalSelectionReady;(r||e.location.pathname!==this.props.location.pathname)&&this.fetchData(r),(!this.canLoadEventEarly(e)&&(null==t||!t.group)&&this.state.group||(null===(s=e.params)||void 0===s?void 0:s.eventId)!==(null===(o=this.props.params)||void 0===o?void 0:o.eventId)&&this.state.group)&&this.getEvent(this.state.group)}componentWillUnmount(){x.Z.reset(),(0,w.g)(this.listener),this.refetchInterval&&window.clearInterval(this.refetchInterval)}get initialState(){return{group:null,loading:!0,loadingEvent:!0,loadingGroup:!0,loadingReplaysCount:!0,error:!1,eventError:!1,errorType:null,project:null,replaysCount:null}}trackView(e){const{organization:t,params:s,location:o}=this.props,{alert_date:r,alert_rule_id:i,alert_type:n}=o.query;(0,S.Z)("issue_details.viewed",{organization:t,project_id:parseInt(e.id,10),group_id:parseInt(s.groupId,10),alert_date:"string"==typeof r?(0,j.v5)(Number(r)):void 0,alert_rule_id:"string"==typeof i?i:void 0,alert_type:"string"==typeof n?n:void 0})}canLoadEventEarly(e){return!e.params.eventId||["oldest","latest"].includes(e.params.eventId)}get groupDetailsEndpoint(){return`/issues/${this.props.params.groupId}/`}get groupReleaseEndpoint(){return`/issues/${this.props.params.groupId}/first-last-release/`}addPerformanceSpecificEntries(e){const t={data:{focusedSpanIds:e.contexts.performance_issue.spans},type:E.UZ.SPANTREE},s={data:{},type:E.UZ.PERFORMANCE};return{...e,entries:[s,t,...e.entries]}}async getEvent(e){var t;e&&this.setState({loadingEvent:!0,eventError:!1});const{params:s,environments:o,api:r,organization:i}=this.props,n=s.orgId,a=s.groupId,l=(null==s?void 0:s.eventId)||"latest",d=null==e||null===(t=e.project)||void 0===t?void 0:t.slug;try{let e=await(0,Ge.MN)(r,n,a,l,o,d);i.features.includes("performance-extraneous-spans-poc")&&e.contexts.performance_issue&&(e=this.addPerformanceSpecificEntries(e)),this.setState({event:e,loading:!1,eventError:!1,loadingEvent:!1})}catch(e){c.Tb(e),this.setState({eventError:!0,loading:!1,loadingEvent:!1})}}getCurrentRouteInfo(e){const{routes:t,organization:s}=this.props,{event:o}=this.state,{currentTab:r,isEventRoute:i}=t[t.length-1].props;return{currentTab:r,baseUrl:i&&o?`/organizations/${s.slug}/issues/${e.id}/events/${o.id}/`:`/organizations/${s.slug}/issues/${e.id}/`}}updateReprocessingProgress(){this.hasReprocessingV2Feature()&&(this.refetchInterval&&window.clearInterval(this.refetchInterval),this.refetchInterval=window.setInterval(this.refetchGroup,3e4))}hasReprocessingV2Feature(){var e;const{organization:t}=this.props;return null===(e=t.features)||void 0===e?void 0:e.includes("reprocessing-v2")}getReprocessingNewRoute(e){const{routes:t,location:s,params:o}=this.props,{groupId:r}=o,{id:i}=e,n=this.hasReprocessingV2Feature(),a=(0,Ge.M3)(e),{currentTab:l,baseUrl:d}=this.getCurrentRouteInfo(e);if(r!==i)return n&&a===Ge.m7.REPROCESSED_AND_HASNT_EVENT&&l!==Xe.O.ACTIVITY?{pathname:`${d}${Xe.O.ACTIVITY}/`,query:{...o,groupId:i}}:(0,C.Z)("",{routes:t,location:s,params:{...o,groupId:i}});if(n){if(a===Ge.m7.REPROCESSING&&l!==Xe.O.DETAILS)return{pathname:d,query:o};if(a===Ge.m7.REPROCESSED_AND_HASNT_EVENT&&l!==Xe.O.ACTIVITY&&l!==Xe.O.USER_FEEDBACK)return{pathname:`${d}${Xe.O.ACTIVITY}/`,query:o}}}getGroupQuery(){const{environments:e}=this.props;return{...e?{environment:e}:{},expand:"inbox",collapse:"release"}}getFetchDataRequestErrorType(e){return e?404===e?T:403===e?N:null:null}handleRequestError(e){c.Tb(e);const t=this.getFetchDataRequestErrorType(null==e?void 0:e.status);this.setState({loadingGroup:!1,loading:!1,error:!0,errorType:t})}async fetchGroupReleases(){const{api:e}=this.props,t=await e.requestPromise(this.groupReleaseEndpoint);x.Z.onPopulateReleases(this.props.params.groupId,t)}async fetchReplaysCount(){const{api:e,location:t,organization:s,params:o}=this.props,{groupId:r}=o;this.setState({loadingReplaysCount:!0});const i=I.ZP.fromSavedQuery({id:"",name:`Replays in issue ${r}`,version:2,fields:["count()"],query:`issue.id:${r}`,projects:[]});try{const[o]=await(0,A.AA)(e,`/organizations/${s.slug}/events/`,i.getEventsAPIPayload(t)),r=o.data[0]["count()"].toString();this.setState({replaysCount:parseInt(r,10),loadingReplaysCount:!1})}catch(e){this.setState({loadingReplaysCount:!1})}}async fetchData(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{api:t,isGlobalSelectionReady:s,params:o}=this.props;if(s)try{const s=this.canLoadEventEarly(this.props)?this.getEvent():void 0,r=await t.requestPromise(this.groupDetailsEndpoint,{query:this.getGroupQuery()}),[i]=await Promise.all([r,s]);this.fetchGroupReleases();const n=this.getReprocessingNewRoute(i);if(n)return void p.browserHistory.push(n);const a=i.project;if((0,Ge.V7)(t,o.orgId,a.slug,o.groupId),a){const e={...this.props.location};void 0===e.query.project&&void 0===e.query._allp&&(e.query={...e.query,project:a.id}),delete e.query._allp,p.browserHistory.replace(e)}else c.$e((()=>{c.Tb(new Error("Project not found"))}));this.setState({project:a,loadingGroup:!1}),x.Z.loadInitialData([i]),e&&this.trackView(a)}catch(e){this.handleRequestError(e)}}onGroupChange(e){const t=this.props.params.groupId;if(e.has(t)){const e=x.Z.get(t);if(e){if(e.stale)return void this.fetchData();this.setState({group:e})}}}getTitle(){const{organization:e}=this.props,{group:t}=this.state,s="Sentry";if(!t)return s;const{title:o}=(0,R.YQ)(t,null==e?void 0:e.features),r=(0,R.FC)(t),{project:i}=t,n=`${e.slug} - ${i.slug}`;return o&&r?`${o}: ${r} - ${n}`:`${o||r||s} - ${n}`}renderError(){const{projects:e,location:t}=this.props,s=t.query.project,o=e.find((e=>e.id===s));switch(this.state.errorType){case T:return(0,je.tZ)(mt,{message:(0,y.t)("The issue you were looking for was not found.")});case N:return(0,je.tZ)(Z.Z,{organization:this.props.organization,project:o});default:return(0,je.tZ)(mt,{onRetry:this.remountComponent})}}renderContent(e,t){const{children:s,environments:r,organization:i}=this.props,{loadingEvent:n,eventError:a,event:l,replaysCount:d}=this.state,{currentTab:p,baseUrl:c}=this.getCurrentRouteInfo(t),u=(0,Ge.M3)(t);let h={environments:r,group:t,project:e};if(p===Xe.O.DETAILS)if(t.id===(null==l?void 0:l.groupID)||a)h={...h,event:l,loadingEvent:n,eventError:a,groupReprocessingStatus:u,onRetry:()=>this.remountComponent()};else{const e=`/organizations/${i.slug}/issues/${null==l?void 0:l.groupID}/events/${null==l?void 0:l.id}/`;this.props.router.push(e)}return p===Xe.O.TAGS&&(h={...h,event:l,baseUrl:c}),(0,je.BX)(o.Fragment,{children:[(0,je.tZ)(Qe,{groupReprocessingStatus:u,project:e,event:l,group:t,replaysCount:d,currentTab:p,baseUrl:c}),(0,o.isValidElement)(s)?(0,o.cloneElement)(s,h):s]})}renderPageContent(){var e;const{error:t,group:s,project:o,loading:r}=this.state;if(r||!s&&!t)return(0,je.tZ)(m.Z,{});if(t)return this.renderError();const{organization:i}=this.props;return(0,je.tZ)(k.Z,{orgId:i.slug,slugs:[null!==(e=null==o?void 0:o.slug)&&void 0!==e?e:""],"data-test-id":"group-projects-container",children:e=>{let{projects:t,initiallyLoaded:o,fetchError:r}=e;return o?r?(0,je.tZ)(mt,{message:(0,y.t)("Error loading the specified project")}):this.renderContent(t[0],s):(0,je.tZ)(m.Z,{})}})}render(){const{project:e,group:t}=this.state,{organization:s}=this.props,r=null==t?void 0:t.tags.some((e=>"sample_event"===e.key));return(0,je.BX)(o.Fragment,{children:[r&&e&&(0,je.tZ)(ct,{project:e,organization:s}),(0,je.tZ)(f.Z,{noSuffix:!0,title:this.getTitle(),children:(0,je.tZ)(v.Z,{skipLoadLastUsed:!0,forceProject:e,shouldForceProject:!0,children:this.renderPageContent()})})]})}}ht.displayName="GroupDetails",(0,l.Z)(ht,"childContextTypes",{group:b.Z.Group,location:h.object});const gt=(0,D.Z)(u.zH(ht)),mt=(0,d.Z)(g.Z,{target:"eyu73lm0"})("margin:",(0,_.Z)(2),";");function vt(e){let{selection:t,...s}=e;const a=(0,i.Z)(),{projects:l}=(0,n.Z)(),{params:d}=s;return(0,o.useEffect)((()=>{(0,r.co)("issue_page.viewed",{group_id:parseInt(d.groupId,10),org_id:parseInt(a.id,10)})}),[a,d.groupId]),(0,je.tZ)(gt,{environments:t.environments,organization:a,projects:l,...s},`${d.groupId}-envs:${t.environments.join(",")}`)}vt.displayName="OrganizationGroupDetails";const Zt=(0,a.Z)(vt)},"./app/views/organizationGroupDetails/utils.tsx":(e,t,s)=>{"use strict";s.d(t,{Ad:()=>m,M3:()=>Z,MN:()=>d,V7:()=>p,dG:()=>u,g5:()=>c,m7:()=>v,sC:()=>g}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var o=s("../node_modules/lodash/orderBy.js"),r=s.n(o),i=s("./app/actionCreators/group.tsx"),n=s("./app/api.tsx"),a=s("./app/locale.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");async function d(e,t,s,o,r,i){const n="latest"===o||"oldest"===o?`/issues/${s}/events/${o}/`:`/projects/${t}/${i}/events/${o}/`,a={};return 0!==r.length&&(a.environment=r),await e.requestPromise(n,{query:a})}function p(e,t,s,o){(0,i.Gv)(e,{orgId:t,projectId:s,itemIds:[o],failSilently:!0,data:{hasSeen:!0}},{})}function c(e,t){return(new n.KU).requestPromise(`/issues/${e}/user-reports/`,{includeAllArgs:!0,query:t})}function u(e){const t=e.tags.find((e=>{let{key:t}=e;return"environment"===t}));return t?t.value:null}const h={commented:(0,a.t)("You're receiving workflow notifications because you have commented on this issue."),assigned:(0,a.t)("You're receiving workflow notifications because you were assigned to this issue."),bookmarked:(0,a.t)("You're receiving workflow notifications because you have bookmarked this issue."),changed_status:(0,a.t)("You're receiving workflow notifications because you have changed the status of this issue."),mentioned:(0,a.t)("You're receiving workflow notifications because you have been mentioned in this issue.")};function g(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.subscriptionDetails&&e.subscriptionDetails.disabled)return(0,a._N)("You have [link:disabled workflow notifications] for this project.",{link:t?(0,l.tZ)("span",{}):(0,l.tZ)("a",{href:"/account/settings/notifications/"})});if(!e.isSubscribed)return(0,a.t)("Subscribe to workflow notifications for this issue");if(e.subscriptionDetails){const{reason:t}=e.subscriptionDetails;if("unknown"===t)return(0,a.t)("You're receiving workflow notifications because you are subscribed to this issue.");if(t&&h.hasOwnProperty(t))return h[t]}return(0,a._N)("You're receiving updates because you are [link:subscribed to workflow notifications] for this project.",{link:t?(0,l.tZ)("span",{}):(0,l.tZ)("a",{href:"/account/settings/notifications/"})})}function m(e){return r()([...e],(e=>{let{dateCreated:t}=e;return new Date(t)}),["desc"])[0]}let v;function Z(e,t){const{status:s,count:o,activity:r}=e,i=Number(o);switch(s){case"reprocessing":return v.REPROCESSING;case"unresolved":{const e=null!=t?t:m(r);return"reprocess"===(null==e?void 0:e.type)?0===i?v.REPROCESSED_AND_HASNT_EVENT:v.REPROCESSED_AND_HAS_EVENT:v.NO_STATUS}default:return v.NO_STATUS}}!function(e){e.REPROCESSED_AND_HASNT_EVENT="reprocessed_and_hasnt_event",e.REPROCESSED_AND_HAS_EVENT="reprocessed_and_has_event",e.REPROCESSING="reprocessing",e.NO_STATUS="no_status"}(v||(v={}))},"../node_modules/lodash/orderBy.js":(e,t,s)=>{var o=s("../node_modules/lodash/_baseOrderBy.js"),r=s("../node_modules/lodash/isArray.js");e.exports=function(e,t,s,i){return null==e?[]:(r(t)||(t=null==t?[]:[t]),r(s=i?void 0:s)||(s=null==s?[]:[s]),o(e,t,s))}}}]);
//# sourceMappingURL=../sourcemaps/app_views_organizationGroupDetails_index_tsx.2a5a23297e834039b8477807338748aa.js.map